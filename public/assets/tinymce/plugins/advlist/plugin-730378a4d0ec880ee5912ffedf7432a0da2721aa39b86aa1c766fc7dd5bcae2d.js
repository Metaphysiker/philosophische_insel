!function(){"use strict";function t(t,e,n){t.execCommand("UL"===e?"InsertUnorderedList":"InsertOrderedList",!1,!1===n?null:{"list-style-type":n})}function e(t){return function(){return t}}function n(t){return t}function r(){return f}function o(t){return t()}function i(t){return t&&/^(TH|TD)$/.test(t.nodeName)}function u(t,e){return function(n){function r(r){var o,u,l,s,a,d,f;n.setActive((o=t,l=e,a=-1!==(s=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}((u=r).parents,i))?u.parents.slice(0,s):u.parents,0<(d=c.grep(a,(f=o,function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(e=t,f.$.contains(f.getBody(),e));var e}))).length&&d[0].nodeName===l))}return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}}function l(e,n,r,o,i,l){var s,a,d,f,g,p;1<l.length?(f=o,g=i,p=l,(d=e).ui.registry.addSplitButton(n,{tooltip:r,icon:"OL"===g?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(c.map(p,(function(t){return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===g?"num":"bull")+"-"+("disc"===t||"decimal"===t?"default":t),text:t.replace(/\-/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))}})))},onAction:function(){return d.execCommand(f)},onItemAction:function(e,n){t(d,g,n)},select:function(t){var e,n=(e=d).dom.getParent(e.selection.getNode(),"ol,ul"),r=e.dom.getStyle(n,"listStyleType");return m(r).map((function(e){return t===e})).getOr(!1)},onSetup:u(d,g)})):(a=o,(s=e).ui.registry.addToggleButton(n,{active:!1,tooltip:r,icon:"OL"===i?"ordered-list":"unordered-list",onSetup:u(s,i),onAction:function(){return s.execCommand(a)}}))}var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=e(!1),d=e(!0),f={fold:function(t){return t()},isSome:a,isNone:d,getOr:n,getOrThunk:o,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:e(null),getOrUndefined:e(void 0),or:n,orThunk:o,map:r,each:function(){},bind:r,exists:a,forall:d,filter:function(){return f},toArray:function(){return[]},toString:e("none()")},g=function(t){function n(){return i}function r(e){return e(t)}var o=e(t),i={fold:function(e,n){return n(t)},isSome:d,isNone:a,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(e){return g(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return i},m=function(t){return null==t?f:g(t)};s.add("advlist",(function(e){var n,r,o,i;e.hasPlugin("lists")?(l(r=e,"numlist","Numbered list","InsertOrderedList","OL",(o=r.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?o.split(/[ ,]/):[]),l(r,"bullist","Bullet list","InsertUnorderedList","UL",(i=r.getParam("advlist_bullet_styles","default,circle,square"))?i.split(/[ ,]/):[]),(n=e).addCommand("ApplyUnorderedListStyle",(function(e,r){t(n,"UL",r["list-style-type"])})),n.addCommand("ApplyOrderedListStyle",(function(e,r){t(n,"OL",r["list-style-type"])}))):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}();