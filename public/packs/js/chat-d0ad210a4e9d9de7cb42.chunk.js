(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{12:function(t,n,i){"use strict";i.r(n),function(t){function e(n){this.container=n,this.container_class="."+this.container,this.loading_box=this.container+"_loading_box",this.loading_box_class="."+this.loading_box,this.waiting_time_for_next_message=1e3,this.loading_time=1e3,this.calculate_reading_time=function(t){return 2e3+50*t.length},this.calculate_loading_time=function(t){return 1e3},this.add_left_chat_message=function(t){var n=this;n.append_loading_box_left(t).then((function(t){return n.append_message_to_box(t)})).then((function(t){return setTimeout((function(){n.chat_messages_controller(t.children[0].id)}),n.calculate_reading_time(t.content))}))},this.add_right_chat_message=function(t){var n=this;n.get_chat_message(t).then((function(t){return n.append_loading_box_right(t)})).then((function(t){return n.append_message_to_box(t)})).then((function(t){return setTimeout((function(){n.chat_messages_controller(t.children[0].id)}),n.calculate_reading_time(t.content))}))},this.chat_messages_controller=function(t){var n=this;n.get_chat_message(t).then((function(t){n.append_message_to_box(t),"computer"===t.chatter?n.add_left_chat_message(t):n.add_buttons(t.siblings)}))},this.log=function(){console.log("OOOOGOGOGIJAOGAG")},this.remove_buttons=function(){return new Promise((function(n,i){t(".chat-buttons-parent").empty(),n()}))},this.add_buttons=function(n){for(var i=this,e="",s=0;s<n.length;s++)e+='<button class="btn btn-light chat-buttons" data-chat-message-id="'.concat(n[s].id,'" type="button">').concat(n[s].content,"</button>");return new Promise((function(s,a){t(i.container_class).append('\n      <div class="d-grid gap-4 col-6 mx-auto chat-buttons-parent">\n        '.concat(e,"\n      </div>\n      ")),t(".chat-buttons").click((function(){var n=this;console.log(t(this).data("chat-message-id")),i.remove_buttons().then((function(e){return i.add_right_chat_message(t(n).data("chat-message-id"))}))})),s(n)}))},this.append_loading_box_left=function(n){var i=this;return new Promise((function(e,s){t(i.container_class).append('\n      <div class="chat-section-field">\n        <div class="row">\n            <div class="col-12 d-flex align-items-end">\n              <div class="" style="padding-right: 0.5rem;">\n                <img src="'.concat(n.image_url,'" class="rounded-circle border-white white-border-for-rounded-circle bg-white" width="50px" height="50px">\n              </div>\n              <div class="chat-bg-computer chat-text chat-argument-field chat_message_').concat(n.id,'">\n                <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n              </div>\n            </div>\n        </div>\n      </div>\n      ')),e(n)}))},this.append_loading_box_right=function(n){var i=this;return new Promise((function(e,s){t(i.container_class).append('\n      <div class="chat-section-field">\n        <div class="row">\n            <div class="col-12 d-flex align-items-end justify-content-end">\n              <div class="chat-bg-computer chat-text chat-argument-field chat_message_'.concat(n.id,'">\n                <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n              </div>\n              <div class="" style="padding-left: 0.5rem;">\n                <img src="').concat(n.image_url,'" class="rounded-circle border-white white-border-for-rounded-circle bg-white" width="50px" height="50px">\n              </div>\n            </div>\n        </div>\n      </div>\n      ')),e(n)}))},this.append_message_to_box=function(n){var i=this;return new Promise((function(e,s){setTimeout((function(){t(".chat_message_"+n.id).html(n.content),e(n)}),i.calculate_loading_time(n.content))}))},this.start=function(){this.chat_messages_controller(1)},this.get_chat_message=function(n){return new Promise((function(i,e){t.ajax({method:"GET",url:"/chat_messages/"+n+"/json"}).done((function(t){i(t)}))}))},this.append_loading_box=function(){t(this.container_class).append('\n      <div class="'.concat(this.loading_box,' chat-bg-computer chat-text chat-argument-field">\n        <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n      </div>\n    '))},this.remove_loading_box=function(){t(this.loading_box_class).remove()},this.append_message_left=function(n){var i=this;return new Promise((function(e,s){t(i.container_class).append('\n      <div class="chat-section-field">\n        <div class="row">\n            <div class="col-12 d-flex align-items-end">\n              <div class="" style="padding-right: 0.5rem;">\n                <img src="'.concat(n.image_url,'" class="rounded-circle border-white white-border-for-rounded-circle bg-white" width="50px" height="50px">\n              </div>\n              <div class="chat-bg-computer chat-text chat-argument-field chat_message_').concat(n.id,'">\n                <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n              </div>\n            </div>\n        </div>\n      </div>\n      ')),e(n)}))}}i.d(n,"Chat",(function(){return e}))}.call(this,i(1))}},[[12,19,0]]]);
//# sourceMappingURL=chat-d0ad210a4e9d9de7cb42.chunk.js.map