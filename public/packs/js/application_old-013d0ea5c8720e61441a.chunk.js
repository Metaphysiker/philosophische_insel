/*! For license information please see application_old-013d0ea5c8720e61441a.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6,4,7],[,function(t,e,i){var r,n,o;function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,i=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=r||n||o,l=a&&(r?document.documentMode||6:+(o||n)[1]),h=!o&&/WebKit\//.test(t),c=h&&/Qt\/\d+\.\d+/.test(t),d=!o&&/Chrome\//.test(t),u=/Opera\//.test(t),p=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),g=/PhantomJS/.test(t),m=p&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),v=/Android/.test(t),y=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),x=m||/Mac/.test(e),b=/\bCrOS\b/.test(t),w=/win/i.test(e),k=u&&t.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(u=!1,h=!0);var C=x&&(c||u&&(null==k||k<12.11)),S=i||a&&l>=9;function _(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var M,T=function(t,e){var i=t.className,r=_(e).exec(i);if(r){var n=i.slice(r.index+r[0].length);t.className=i.slice(0,r.index)+(n?r[1]+n:"")}};function A(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function D(t,e){return A(t).appendChild(e)}function L(t,e,i,r){var n=document.createElement(t);if(i&&(n.className=i),r&&(n.style.cssText=r),"string"==typeof e)n.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)n.appendChild(e[o]);return n}function O(t,e,i,r){var n=L(t,e,i,r);return n.setAttribute("role","presentation"),n}function P(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function E(){var t;try{t=document.activeElement}catch(Ot){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function N(t,e){var i=t.className;_(e).test(i)||(t.className+=(i?" ":"")+e)}function I(t,e){for(var i=t.split(" "),r=0;r<i.length;r++)i[r]&&!_(i[r]).test(e)&&(e+=" "+i[r]);return e}M=document.createRange?function(t,e,i,r){var n=document.createRange();return n.setEnd(r||t,i),n.setStart(t,e),n}:function(t,e,i){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(Ot){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",e),r};var z=function(t){t.select()};function j(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function F(t,e,i){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===i&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function B(t,e,i,r,n){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,s=n||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=i-s%i,o=a+1}}m?z=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(z=function(t){try{t.select()}catch(e){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=j(this.onTimeout,this)};function W(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}R.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},R.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};var H={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},Y={origin:"*mouse"},X={origin:"+move"};function U(t,e,i){for(var r=0,n=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var s=o-r;if(o==t.length||n+s>=e)return r+Math.min(s,e-n);if(n+=o-r,r=o+1,(n+=i-n%i)>=e)return r}}var V=[""];function q(t){for(;V.length<=t;)V.push(K(V)+" ");return V[t]}function K(t){return t[t.length-1]}function Z(t,e){for(var i=[],r=0;r<t.length;r++)i[r]=e(t[r],r);return i}function $(){}function J(t,e){var i;return Object.create?i=Object.create(t):($.prototype=t,i=new $),e&&F(e,i),i}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function it(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function nt(t){return t.charCodeAt(0)>=768&&rt.test(t)}function ot(t,e,i){for(;(i<0?e>0:e<t.length)&&nt(t.charAt(e));)e+=i;return e}function st(t,e,i){for(var r=e>i?-1:1;;){if(e==i)return e;var n=(e+i)/2,o=r<0?Math.ceil(n):Math.floor(n);if(o==e)return t(o)?e:i;t(o)?i=o:e=o+r}}var at=null;function lt(t,e,i){var r;at=null;for(var n=0;n<t.length;++n){var o=t[n];if(o.from<e&&o.to>e)return n;o.to==e&&(o.from!=o.to&&"before"==i?r=n:at=n),o.from==e&&(o.from!=o.to&&"before"!=i?r=n:at=n)}return null!=r?r:at}var ht=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,i=/[LRr]/,r=/[Lb1n]/,n=/[1n]/;function o(t,e,i){this.level=t,this.from=e,this.to=i}return function(s,a){var l="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!t.test(s))return!1;for(var h,c=s.length,d=[],u=0;u<c;++u)d.push((h=s.charCodeAt(u))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");for(var p=0,f=l;p<c;++p){var g=d[p];"m"==g?d[p]=f:f=g}for(var m=0,v=l;m<c;++m){var y=d[m];"1"==y&&"r"==v?d[m]="n":i.test(y)&&(v=y,"r"==y&&(d[m]="R"))}for(var x=1,b=d[0];x<c-1;++x){var w=d[x];"+"==w&&"1"==b&&"1"==d[x+1]?d[x]="1":","!=w||b!=d[x+1]||"1"!=b&&"n"!=b||(d[x]=b),b=w}for(var k=0;k<c;++k){var C=d[k];if(","==C)d[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<c&&"%"==d[S];++S);for(var _=k&&"!"==d[k-1]||S<c&&"1"==d[S]?"1":"N",M=k;M<S;++M)d[M]=_;k=S-1}}for(var T=0,A=l;T<c;++T){var D=d[T];"L"==A&&"1"==D?d[T]="L":i.test(D)&&(A=D)}for(var L=0;L<c;++L)if(e.test(d[L])){var O=void 0;for(O=L+1;O<c&&e.test(d[O]);++O);for(var P="L"==(L?d[L-1]:l),E=P==("L"==(O<c?d[O]:l))?P?"L":"R":l,N=L;N<O;++N)d[N]=E;L=O-1}for(var I,z=[],j=0;j<c;)if(r.test(d[j])){var F=j;for(++j;j<c&&r.test(d[j]);++j);z.push(new o(0,F,j))}else{var B=j,R=z.length,W="rtl"==a?1:0;for(++j;j<c&&"L"!=d[j];++j);for(var H=B;H<j;)if(n.test(d[H])){B<H&&(z.splice(R,0,new o(1,B,H)),R+=W);var G=H;for(++H;H<j&&n.test(d[H]);++H);z.splice(R,0,new o(2,G,H)),R+=W,B=H}else++H;B<j&&z.splice(R,0,new o(1,B,j))}return"ltr"==a&&(1==z[0].level&&(I=s.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new o(0,0,I[0].length))),1==K(z).level&&(I=s.match(/\s+$/))&&(K(z).to-=I[0].length,z.push(new o(0,c-I[0].length,c)))),"rtl"==a?z.reverse():z}}();function ct(t,e){var i=t.order;return null==i&&(i=t.order=ht(t.text,e)),i}var dt=[],ut=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||dt).concat(i)}};function pt(t,e){return t._handlers&&t._handlers[e]||dt}function ft(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var r=t._handlers,n=r&&r[e];if(n){var o=W(n,i);o>-1&&(r[e]=n.slice(0,o).concat(n.slice(o+1)))}}}function gt(t,e){var i=pt(t,e);if(i.length)for(var r=Array.prototype.slice.call(arguments,2),n=0;n<i.length;++n)i[n].apply(null,r)}function mt(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),gt(t,i||e.type,t,e),kt(e)||e.codemirrorIgnore}function vt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==W(i,e[r])&&i.push(e[r])}function yt(t,e){return pt(t,e).length>0}function xt(t){t.prototype.on=function(t,e){ut(this,t,e)},t.prototype.off=function(t,e){ft(this,t,e)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function wt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function kt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ct(t){bt(t),wt(t)}function St(t){return t.target||t.srcElement}function _t(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),x&&t.ctrlKey&&1==e&&(e=3),e}var Mt,Tt,At=function(){if(a&&l<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}();function Dt(t){if(null==Mt){var e=L("span","\u200b");D(t,L("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Mt=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&l<8))}var i=Mt?L("span","\u200b"):L("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Lt(t){if(null!=Tt)return Tt;var e=D(t,document.createTextNode("A\u062eA")),i=M(e,0,1).getBoundingClientRect(),r=M(e,1,2).getBoundingClientRect();return A(t),!(!i||i.left==i.right)&&(Tt=r.right-i.right<3)}var Ot,Pt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],r=t.length;e<=r;){var n=t.indexOf("\n",e);-1==n&&(n=t.length);var o=t.slice(e,"\r"==t.charAt(n-1)?n-1:n),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=n+1)}return i}:function(t){return t.split(/\r\n?|\n/)},Et=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(Ot){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(Ot){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Nt="oncopy"in(Ot=L("div"))||(Ot.setAttribute("oncopy","return;"),"function"==typeof Ot.oncopy),It=null,zt={},jt={};function Ft(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),zt[t]=e}function Bt(t){if("string"==typeof t&&jt.hasOwnProperty(t))t=jt[t];else if(t&&"string"==typeof t.name&&jt.hasOwnProperty(t.name)){var e=jt[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Bt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Bt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Rt(t,e){e=Bt(e);var i=zt[e.name];if(!i)return Rt(t,"text/plain");var r=i(t,e);if(Wt.hasOwnProperty(e.name)){var n=Wt[e.name];for(var o in n)n.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=n[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)r[s]=e.modeProps[s];return r}var Wt={};function Ht(t,e){F(e,Wt.hasOwnProperty(t)?Wt[t]:Wt[t]={})}function Gt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var r in e){var n=e[r];n instanceof Array&&(n=n.concat([])),i[r]=n}return i}function Yt(t,e){for(var i;t.innerMode&&(i=t.innerMode(e))&&i.mode!=t;)e=i.state,t=i.mode;return i||{mode:t,state:e}}function Xt(t,e,i){return!t.startState||t.startState(e,i)}var Ut=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function Vt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var r=0;;++r){var n=i.children[r],o=n.chunkSize();if(e<o){i=n;break}e-=o}return i.lines[e]}function qt(t,e,i){var r=[],n=e.line;return t.iter(e.line,i.line+1,(function(t){var o=t.text;n==i.line&&(o=o.slice(0,i.ch)),n==e.line&&(o=o.slice(e.ch)),r.push(o),++n})),r}function Kt(t,e,i){var r=[];return t.iter(e,i,(function(t){r.push(t.text)})),r}function Zt(t,e){var i=e-t.height;if(i)for(var r=t;r;r=r.parent)r.height+=i}function $t(t){if(null==t.parent)return null;for(var e=t.parent,i=W(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var n=0;r.children[n]!=e;++n)i+=r.children[n].chunkSize();return i+e.first}function Jt(t,e){var i=t.first;t:do{for(var r=0;r<t.children.length;++r){var n=t.children[r],o=n.height;if(e<o){t=n;continue t}e-=o,i+=n.chunkSize()}return i}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return i+s}function Qt(t,e){return e>=t.first&&e<t.first+t.size}function te(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function ee(t,e,i){if(void 0===i&&(i=null),!(this instanceof ee))return new ee(t,e,i);this.line=t,this.ch=e,this.sticky=i}function ie(t,e){return t.line-e.line||t.ch-e.ch}function re(t,e){return t.sticky==e.sticky&&0==ie(t,e)}function ne(t){return ee(t.line,t.ch)}function oe(t,e){return ie(t,e)<0?e:t}function se(t,e){return ie(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function le(t,e){if(e.line<t.first)return ee(t.first,0);var i=t.first+t.size-1;return e.line>i?ee(i,Vt(t,i).text.length):function(t,e){var i=t.ch;return null==i||i>e?ee(t.line,e):i<0?ee(t.line,0):t}(e,Vt(t,e.line).text.length)}function he(t,e){for(var i=[],r=0;r<e.length;r++)i[r]=le(t,e[r]);return i}Ut.prototype.eol=function(){return this.pos>=this.string.length},Ut.prototype.sol=function(){return this.pos==this.lineStart},Ut.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ut.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ut.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Ut.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ut.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ut.prototype.skipToEnd=function(){this.pos=this.string.length},Ut.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ut.prototype.backUp=function(t){this.pos-=t},Ut.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.match=function(t,e,i){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var n=function(t){return i?t.toLowerCase():t};if(n(this.string.substr(this.pos,t.length))==n(t))return!1!==e&&(this.pos+=t.length),!0},Ut.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ut.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ut.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ut.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},de=function(t,e,i,r){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ue(t,e,i,r){var n=[t.state.modeGen],o={};we(t,e.text,t.doc.mode,i,(function(t,e){return n.push(t,e)}),o,r);for(var s=i.state,a=function(r){i.baseTokens=n;var a=t.state.overlays[r],l=1,h=0;i.state=!0,we(t,e.text,a.mode,i,(function(t,e){for(var i=l;h<t;){var r=n[l];r>t&&n.splice(l,1,t,n[l+1],r),l+=2,h=Math.min(t,r)}if(e)if(a.opaque)n.splice(i,l-i,t,"overlay "+e),l=i+2;else for(;i<l;i+=2){var o=n[i+1];n[i+1]=(o?o+" ":"")+"overlay "+e}}),o),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:n,classes:o.bgClass||o.textClass?o:null}}function pe(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=fe(t,$t(e)),n=e.text.length>t.options.maxHighlightLength&&Gt(t.doc.mode,r.state),o=ue(t,e,r);n&&(r.state=n),e.stateAfter=r.save(!n),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function fe(t,e,i){var r=t.doc,n=t.display;if(!r.mode.startState)return new de(r,!0,e);var o=function(t,e,i){for(var r,n,o=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Vt(o,a-1),h=l.stateAfter;if(h&&(!i||a+(h instanceof ce?h.lookAhead:0)<=o.modeFrontier))return a;var c=B(l.text,null,t.options.tabSize);(null==n||r>c)&&(n=a-1,r=c)}return n}(t,e,i),s=o>r.first&&Vt(r,o-1).stateAfter,a=s?de.fromSaved(r,s,o):new de(r,Xt(r.mode),o);return r.iter(o,e,(function(i){ge(t,i.text,a);var r=a.line;i.stateAfter=r==e-1||r%5==0||r>=n.viewFrom&&r<n.viewTo?a.save():null,a.nextLine()})),i&&(r.modeFrontier=a.line),a}function ge(t,e,i,r){var n=t.doc.mode,o=new Ut(e,t.options.tabSize,i);for(o.start=o.pos=r||0,""==e&&me(n,i.state);!o.eol();)ve(n,o,i.state),o.start=o.pos}function me(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Yt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ve(t,e,i,r){for(var n=0;n<10;n++){r&&(r[0]=Yt(t,i).mode);var o=t.token(e,i);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}de.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},de.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},de.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},de.fromSaved=function(t,e,i){return e instanceof ce?new de(t,Gt(t.mode,e.state),i,e.lookAhead):new de(t,Gt(t.mode,e),i)},de.prototype.save=function(t){var e=!1!==t?Gt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var ye=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function xe(t,e,i,r){var n,o,s=t.doc,a=s.mode,l=Vt(s,(e=le(s,e)).line),h=fe(t,e.line,i),c=new Ut(l.text,t.options.tabSize,h);for(r&&(o=[]);(r||c.pos<e.ch)&&!c.eol();)c.start=c.pos,n=ve(a,c,h.state),r&&o.push(new ye(c,n,Gt(s.mode,h.state)));return r?o:new ye(c,n,h.state)}function be(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var r=i[1]?"bgClass":"textClass";null==e[r]?e[r]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(e[r])||(e[r]+=" "+i[2])}return t}function we(t,e,i,r,n,o,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,h=0,c=null,d=new Ut(e,t.options.tabSize,r),u=t.options.addModeClass&&[null];for(""==e&&be(me(i,r.state),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(a=!1,s&&ge(t,e,r,d.pos),d.pos=e.length,l=null):l=be(ve(i,d,r.state,u),o),u){var p=u[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||c!=l){for(;h<d.start;)n(h=Math.min(d.start,h+5e3),c);c=l}d.start=d.pos}for(;h<d.pos;){var f=Math.min(d.pos,h+5e3);n(f,c),h=f}}var ke=!1,Ce=!1;function Se(t,e,i){this.marker=t,this.from=e,this.to=i}function _e(t,e){if(t)for(var i=0;i<t.length;++i){var r=t[i];if(r.marker==e)return r}}function Me(t,e){for(var i,r=0;r<t.length;++r)t[r]!=e&&(i||(i=[])).push(t[r]);return i}function Te(t,e){if(e.full)return null;var i=Qt(t,e.from.line)&&Vt(t,e.from.line).markedSpans,r=Qt(t,e.to.line)&&Vt(t,e.to.line).markedSpans;if(!i&&!r)return null;var n=e.from.ch,o=e.to.ch,s=0==ie(e.from,e.to),a=function(t,e,i){var r;if(t)for(var n=0;n<t.length;++n){var o=t[n],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Se(s,o.from,a?null:o.to))}}return r}(i,n,s),l=function(t,e,i){var r;if(t)for(var n=0;n<t.length;++n){var o=t[n],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Se(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,s),h=1==e.text.length,c=K(e.text).length+(h?n:0);if(a)for(var d=0;d<a.length;++d){var u=a[d];if(null==u.to){var p=_e(l,u.marker);p?h&&(u.to=null==p.to?null:p.to+c):u.to=n}}if(l)for(var f=0;f<l.length;++f){var g=l[f];null!=g.to&&(g.to+=c),null==g.from?_e(a,g.marker)||(g.from=c,h&&(a||(a=[])).push(g)):(g.from+=c,h&&(a||(a=[])).push(g))}a&&(a=Ae(a)),l&&l!=a&&(l=Ae(l));var m=[a];if(!h){var v,y=e.text.length-2;if(y>0&&a)for(var x=0;x<a.length;++x)null==a[x].to&&(v||(v=[])).push(new Se(a[x].marker,null,null));for(var b=0;b<y;++b)m.push(v);m.push(l)}return m}function Ae(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function De(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function Le(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function Oe(t){return t.inclusiveLeft?-1:0}function Pe(t){return t.inclusiveRight?1:0}function Ee(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var r=t.find(),n=e.find(),o=ie(r.from,n.from)||Oe(t)-Oe(e);if(o)return-o;var s=ie(r.to,n.to)||Pe(t)-Pe(e);return s||e.id-t.id}function Ne(t,e){var i,r=Ce&&t.markedSpans;if(r)for(var n=void 0,o=0;o<r.length;++o)(n=r[o]).marker.collapsed&&null==(e?n.from:n.to)&&(!i||Ee(i,n.marker)<0)&&(i=n.marker);return i}function Ie(t){return Ne(t,!0)}function ze(t){return Ne(t,!1)}function je(t,e){var i,r=Ce&&t.markedSpans;if(r)for(var n=0;n<r.length;++n){var o=r[n];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!i||Ee(i,o.marker)<0)&&(i=o.marker)}return i}function Fe(t,e,i,r,n){var o=Vt(t,e),s=Ce&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var h=l.marker.find(0),c=ie(h.from,i)||Oe(l.marker)-Oe(n),d=ie(h.to,r)||Pe(l.marker)-Pe(n);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?ie(h.to,i)>=0:ie(h.to,i)>0)||c>=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?ie(h.from,r)<=0:ie(h.from,r)<0)))return!0}}}function Be(t){for(var e;e=Ie(t);)t=e.find(-1,!0).line;return t}function Re(t,e){var i=Vt(t,e),r=Be(i);return i==r?e:$t(r)}function We(t,e){if(e>t.lastLine())return e;var i,r=Vt(t,e);if(!He(t,r))return e;for(;i=ze(r);)r=i.find(1,!0).line;return $t(r)+1}function He(t,e){var i=Ce&&e.markedSpans;if(i)for(var r=void 0,n=0;n<i.length;++n)if((r=i[n]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ge(t,e,r))return!0}}function Ge(t,e,i){if(null==i.to){var r=i.marker.find(1,!0);return Ge(t,r.line,_e(r.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var n=void 0,o=0;o<e.markedSpans.length;++o)if((n=e.markedSpans[o]).marker.collapsed&&!n.marker.widgetNode&&n.from==i.to&&(null==n.to||n.to!=i.from)&&(n.marker.inclusiveLeft||i.marker.inclusiveRight)&&Ge(t,e,n))return!0}function Ye(t){for(var e=0,i=(t=Be(t)).parent,r=0;r<i.lines.length;++r){var n=i.lines[r];if(n==t)break;e+=n.height}for(var o=i.parent;o;o=(i=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;e+=a.height}return e}function Xe(t){if(0==t.height)return 0;for(var e,i=t.text.length,r=t;e=Ie(r);){var n=e.find(0,!0);r=n.from.line,i+=n.from.ch-n.to.ch}for(r=t;e=ze(r);){var o=e.find(0,!0);i-=r.text.length-o.from.ch,i+=(r=o.to.line).text.length-o.to.ch}return i}function Ue(t){var e=t.display,i=t.doc;e.maxLine=Vt(i,i.first),e.maxLineLength=Xe(e.maxLine),e.maxLineChanged=!0,i.iter((function(t){var i=Xe(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)}))}var Ve=function(t,e,i){this.text=t,Le(this,e),this.height=i?i(this):1};function qe(t){t.parent=null,De(t)}Ve.prototype.lineNo=function(){return $t(this)},xt(Ve);var Ke={},Ze={};function $e(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?Ze:Ke;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function Je(t,e){var i=O("span",null,null,h?"padding-right: .1px":null),r={pre:O("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var n=0;n<=(e.rest?e.rest.length:0);n++){var o=n?e.rest[n-1]:e.line,s=void 0;r.pos=0,r.addToken=ti,Lt(t.display.measure)&&(s=ct(o,t.doc.direction))&&(r.addToken=ei(r.addToken,s)),r.map=[],ri(o,r,pe(t,o,e!=t.display.externalMeasured&&$t(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Dt(t.display.measure))),0==n?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(h){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return gt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function Qe(t){var e=L("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ti(t,e,i,r,n,o,s){if(e){var h,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,r="",n=0;n<t.length;n++){var o=t.charAt(n);" "!=o||!i||n!=t.length-1&&32!=t.charCodeAt(n+1)||(o="\xa0"),r+=o,i=" "==o}return r}(e,t.trailingSpace):e,d=t.cm.state.specialChars,u=!1;if(d.test(e)){h=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(e),g=f?f.index-p:e.length-p;if(g){var m=document.createTextNode(c.slice(p,p+g));a&&l<9?h.appendChild(L("span",[m])):h.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!f)break;p+=g+1;var v=void 0;if("\t"==f[0]){var y=t.cm.options.tabSize,x=y-t.col%y;(v=h.appendChild(L("span",q(x),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=x}else"\r"==f[0]||"\n"==f[0]?((v=h.appendChild(L("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&l<9?h.appendChild(L("span",[v])):h.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,h=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,h),a&&l<9&&(u=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),i||r||n||u||o||s){var b=i||"";r&&(b+=r),n&&(b+=n);var w=L("span",[h],b,o);if(s)for(var k in s)s.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,s[k]);return t.content.appendChild(w)}t.content.appendChild(h)}}function ei(t,e){return function(i,r,n,o,s,a,l){n=n?n+" cm-force-border":"cm-force-border";for(var h=i.pos,c=h+r.length;;){for(var d=void 0,u=0;u<e.length&&!((d=e[u]).to>h&&d.from<=h);u++);if(d.to>=c)return t(i,r,n,o,s,a,l);t(i,r.slice(0,d.to-h),n,o,null,a,l),o=null,r=r.slice(d.to-h),h=d.to}}}function ii(t,e,i,r){var n=!r&&i.widgetNode;n&&t.map.push(t.pos,t.pos+e,n),!r&&t.cm.display.input.needsContentAttribute&&(n||(n=t.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",i.id)),n&&(t.cm.display.input.setUneditable(n),t.content.appendChild(n)),t.pos+=e,t.trailingSpace=!1}function ri(t,e,i){var r=t.markedSpans,n=t.text,o=0;if(r)for(var s,a,l,h,c,d,u,p=n.length,f=0,g=1,m="",v=0;;){if(v==f){l=h=c=a="",u=null,d=null,v=1/0;for(var y=[],x=void 0,b=0;b<r.length;++b){var w=r[b],k=w.marker;if("bookmark"==k.type&&w.from==f&&k.widgetNode)y.push(k);else if(w.from<=f&&(null==w.to||w.to>f||k.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,h=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==f&&(c+=" "+k.startStyle),k.endStyle&&w.to==v&&(x||(x=[])).push(k.endStyle,w.to),k.title&&((u||(u={})).title=k.title),k.attributes)for(var C in k.attributes)(u||(u={}))[C]=k.attributes[C];k.collapsed&&(!d||Ee(d.marker,k)<0)&&(d=w)}else w.from>f&&v>w.from&&(v=w.from)}if(x)for(var S=0;S<x.length;S+=2)x[S+1]==v&&(h+=" "+x[S]);if(!d||d.from==f)for(var _=0;_<y.length;++_)ii(e,0,y[_]);if(d&&(d.from||0)==f){if(ii(e,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var M=Math.min(p,v);;){if(m){var T=f+m.length;if(!d){var A=T>M?m.slice(0,M-f):m;e.addToken(e,A,s?s+l:l,c,f+A.length==v?h:"",a,u)}if(T>=M){m=m.slice(M-f),f=M;break}f=T,c=""}m=n.slice(o,o=i[g++]),s=$e(i[g++],e.cm.options)}}else for(var D=1;D<i.length;D+=2)e.addToken(e,n.slice(o,o=i[D]),$e(i[D+1],e.cm.options))}function ni(t,e,i){this.line=e,this.rest=function(t){for(var e,i;e=ze(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}(e),this.size=this.rest?$t(K(this.rest))-i+1:1,this.node=this.text=null,this.hidden=He(t,e)}function oi(t,e,i){for(var r,n=[],o=e;o<i;o=r){var s=new ni(t.doc,Vt(t.doc,o),o);r=o+s.size,n.push(s)}return n}var si=null,ai=null;function li(t,e){var i=pt(t,e);if(i.length){var r,n=Array.prototype.slice.call(arguments,2);si?r=si.delayedCallbacks:ai?r=ai:(r=ai=[],setTimeout(hi,0));for(var o=function(t){r.push((function(){return i[t].apply(null,n)}))},s=0;s<i.length;++s)o(s)}}function hi(){var t=ai;ai=null;for(var e=0;e<t.length;++e)t[e]()}function ci(t,e,i,r){for(var n=0;n<e.changes.length;n++){var o=e.changes[n];"text"==o?pi(t,e):"gutter"==o?gi(t,e,i,r):"class"==o?fi(t,e):"widget"==o&&mi(t,e,r)}e.changes=null}function di(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&l<8&&(t.node.style.zIndex=2)),t.node}function ui(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Je(t,e)}function pi(t,e){var i=e.text.className,r=ui(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,fi(t,e)):i&&(e.text.className=i)}function fi(t,e){!function(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var r=di(e);e.background=r.insertBefore(L("div",null,i),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?di(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function gi(t,e,i,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var n=di(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),n.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=di(e),a=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(L("div",te(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var h=t.display.gutterSpecs[l].className,c=o.hasOwnProperty(h)&&o[h];c&&a.appendChild(L("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[h]+"px; width: "+r.gutterWidth[h]+"px"))}}}function mi(t,e,i){e.alignable&&(e.alignable=null);for(var r=_("CodeMirror-linewidget"),n=e.node.firstChild,o=void 0;n;n=o)o=n.nextSibling,r.test(n.className)&&e.node.removeChild(n);yi(t,e,i)}function vi(t,e,i,r){var n=ui(t,e);return e.text=e.node=n.pre,n.bgClass&&(e.bgClass=n.bgClass),n.textClass&&(e.textClass=n.textClass),fi(t,e),gi(t,e,i,r),yi(t,e,r),e.node}function yi(t,e,i){if(xi(t,e.line,e,i,!0),e.rest)for(var r=0;r<e.rest.length;r++)xi(t,e.rest[r],e,i,!1)}function xi(t,e,i,r,n){if(e.widgets)for(var o=di(i),s=0,a=e.widgets;s<a.length;++s){var l=a[s],h=L("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),bi(l,h,i,r),t.display.input.setUneditable(h),n&&l.above?o.insertBefore(h,i.gutter||i.text):o.appendChild(h),li(l,"redraw")}}function bi(t,e,i,r){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var n=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(n-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=n+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function wi(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!P(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),D(e.display.measure,L("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function ki(t,e){for(var i=St(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Ci(t){return t.lineSpace.offsetTop}function Si(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function _i(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=D(t.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Mi(t){return 50-t.display.nativeBarWidth}function Ti(t){return t.display.scroller.clientWidth-Mi(t)-t.display.barWidth}function Ai(t){return t.display.scroller.clientHeight-Mi(t)-t.display.barHeight}function Di(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var n=0;n<t.rest.length;n++)if($t(t.rest[n])>i)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function Li(t,e,i,r){return Ei(t,Pi(t,e),i,r)}function Oi(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[cr(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Pi(t,e){var i=$t(e),r=Oi(t,i);r&&!r.text?r=null:r&&r.changes&&(ci(t,r,i,or(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var i=$t(e=Be(e)),r=t.display.externalMeasured=new ni(t.doc,e,i);r.lineN=i;var n=r.built=Je(t,r);return r.text=n.pre,D(t.display.lineMeasure,n.pre),r}(t,e));var n=Di(r,e,i);return{line:e,view:r,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Ei(t,e,i,r,n){e.before&&(i=-1);var o,s=i+(r||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,i){var r=t.options.lineWrapping,n=r&&Ti(t);if(!e.measure.heights||r&&e.measure.width!=n){var o=e.measure.heights=[];if(r){e.measure.width=n;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],h=s[a+1];Math.abs(l.bottom-h.bottom)>2&&o.push((l.bottom+h.top)/2-i.top)}}o.push(i.bottom-i.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,i,r){var n,o=zi(e.map,i,r),s=o.node,h=o.start,c=o.end,d=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;h&&nt(e.line.text.charAt(o.coverStart+h));)--h;for(;o.coverStart+c<o.coverEnd&&nt(e.line.text.charAt(o.coverStart+c));)++c;if((n=a&&l<9&&0==h&&c==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():ji(M(s,h,c).getClientRects(),r)).left||n.right||0==h)break;c=h,h-=1,d="right"}a&&l<11&&(n=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=It)return It;var e=D(t,L("span","x")),i=e.getBoundingClientRect(),r=M(e,0,1).getBoundingClientRect();return It=Math.abs(i.left-r.left)>1}(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,n))}else{var p;h>0&&(d=r="right"),n=t.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==r?p.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!h&&(!n||!n.left&&!n.right)){var f=s.parentNode.getClientRects()[0];n=f?{left:f.left,right:f.left+nr(t.display),top:f.top,bottom:f.bottom}:Ii}for(var g=n.top-e.rect.top,m=n.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,x=0;x<y.length-1&&!(v<y[x]);x++);var b=x?y[x-1]:0,w=y[x],k={left:("right"==d?n.right:n.left)-e.rect.left,right:("left"==d?n.left:n.right)-e.rect.left,top:b,bottom:w};return n.left||n.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=g,k.rbottom=m),k}(t,e,i,r)).bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:n?o.rtop:o.top,bottom:n?o.rbottom:o.bottom}}var Ni,Ii={left:0,right:0,top:0,bottom:0};function zi(t,e,i){for(var r,n,o,s,a,l,h=0;h<t.length;h+=3)if(a=t[h],l=t[h+1],e<a?(n=0,o=1,s="left"):e<l?o=1+(n=e-a):(h==t.length-3||e==l&&t[h+3]>e)&&(n=(o=l-a)-1,e>=l&&(s="right")),null!=n){if(r=t[h+2],a==l&&i==(r.insertLeft?"left":"right")&&(s=i),"left"==i&&0==n)for(;h&&t[h-2]==t[h-3]&&t[h-1].insertLeft;)r=t[2+(h-=3)],s="left";if("right"==i&&n==l-a)for(;h<t.length-3&&t[h+3]==t[h+4]&&!t[h+5].insertLeft;)r=t[(h+=3)+2],s="right";break}return{node:r,start:n,end:o,collapse:s,coverStart:a,coverEnd:l}}function ji(t,e){var i=Ii;if("left"==e)for(var r=0;r<t.length&&(i=t[r]).left==i.right;r++);else for(var n=t.length-1;n>=0&&(i=t[n]).left==i.right;n--);return i}function Fi(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Bi(t){t.display.externalMeasure=null,A(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Fi(t.display.view[e])}function Ri(t){Bi(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Wi(){return d&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hi(){return d&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gi(t){var e=0;if(t.widgets)for(var i=0;i<t.widgets.length;++i)t.widgets[i].above&&(e+=wi(t.widgets[i]));return e}function Yi(t,e,i,r,n){if(!n){var o=Gi(e);i.top+=o,i.bottom+=o}if("line"==r)return i;r||(r="local");var s=Ye(e);if("local"==r?s+=Ci(t.display):s-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Hi());var l=a.left+("window"==r?0:Wi());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function Xi(t,e,i){if("div"==i)return e;var r=e.left,n=e.top;if("page"==i)r-=Wi(),n-=Hi();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();r+=o.left,n+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:n-s.top}}function Ui(t,e,i,r,n){return r||(r=Vt(t.doc,e.line)),Yi(t,r,Li(t,r,e.ch,n),i)}function Vi(t,e,i,r,n,o){function s(e,s){var a=Ei(t,n,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Yi(t,r,a,i)}r=r||Vt(t.doc,e.line),n||(n=Pi(t,r));var a=ct(r,t.doc.direction),l=e.ch,h=e.sticky;if(l>=r.text.length?(l=r.text.length,h="before"):l<=0&&(l=0,h="after"),!a)return s("before"==h?l-1:l,"before"==h);function c(t,e,i){return s(i?t-1:t,1==a[e].level!=i)}var d=lt(a,l,h),u=at,p=c(l,d,"before"==h);return null!=u&&(p.other=c(l,u,"before"!=h)),p}function qi(t,e){var i=0;e=le(t.doc,e),t.options.lineWrapping||(i=nr(t.display)*e.ch);var r=Vt(t.doc,e.line),n=Ye(r)+Ci(t.display);return{left:i,right:i,top:n,bottom:n+r.height}}function Ki(t,e,i,r,n){var o=ee(t,e,i);return o.xRel=n,r&&(o.outside=r),o}function Zi(t,e,i){var r=t.doc;if((i+=t.display.viewOffset)<0)return Ki(r.first,0,null,-1,-1);var n=Jt(r,i),o=r.first+r.size-1;if(n>o)return Ki(r.first+r.size-1,Vt(r,o).text.length,null,1,1);e<0&&(e=0);for(var s=Vt(r,n);;){var a=tr(t,s,n,e,i),l=je(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var h=l.find(1);if(h.line==n)return h;s=Vt(r,n=h.line)}}function $i(t,e,i,r){r-=Gi(e);var n=e.text.length,o=st((function(e){return Ei(t,i,e-1).bottom<=r}),n,0);return{begin:o,end:n=st((function(e){return Ei(t,i,e).top>r}),o,n)}}function Ji(t,e,i,r){return i||(i=Pi(t,e)),$i(t,e,i,Yi(t,e,Ei(t,i,r),"line").top)}function Qi(t,e,i,r){return!(t.bottom<=i)&&(t.top>i||(r?t.left:t.right)>e)}function tr(t,e,i,r,n){n-=Ye(e);var o=Pi(t,e),s=Gi(e),a=0,l=e.text.length,h=!0,c=ct(e,t.doc.direction);if(c){var d=(t.options.lineWrapping?ir:er)(t,e,i,o,c,r,n);a=(h=1!=d.level)?d.from:d.to-1,l=h?d.to:d.from-1}var u,p,f=null,g=null,m=st((function(e){var i=Ei(t,o,e);return i.top+=s,i.bottom+=s,!!Qi(i,r,n,!1)&&(i.top<=n&&i.left<=r&&(f=e,g=i),!0)}),a,l),v=!1;if(g){var y=r-g.left<g.right-r,x=y==h;m=f+(x?0:1),p=x?"after":"before",u=y?g.left:g.right}else{h||m!=l&&m!=a||m++,p=0==m?"after":m==e.text.length?"before":Ei(t,o,m-(h?1:0)).bottom+s<=n==h?"after":"before";var b=Vi(t,ee(i,m,p),"line",e,o);u=b.left,v=n<b.top?-1:n>=b.bottom?1:0}return Ki(i,m=ot(e.text,m,1),p,v,r-u)}function er(t,e,i,r,n,o,s){var a=st((function(a){var l=n[a],h=1!=l.level;return Qi(Vi(t,ee(i,h?l.to:l.from,h?"before":"after"),"line",e,r),o,s,!0)}),0,n.length-1),l=n[a];if(a>0){var h=1!=l.level,c=Vi(t,ee(i,h?l.from:l.to,h?"after":"before"),"line",e,r);Qi(c,o,s,!0)&&c.top>s&&(l=n[a-1])}return l}function ir(t,e,i,r,n,o,s){var a=$i(t,e,r,s),l=a.begin,h=a.end;/\s/.test(e.text.charAt(h-1))&&h--;for(var c=null,d=null,u=0;u<n.length;u++){var p=n[u];if(!(p.from>=h||p.to<=l)){var f=Ei(t,r,1!=p.level?Math.min(h,p.to)-1:Math.max(l,p.from)).right,g=f<o?o-f+1e9:f-o;(!c||d>g)&&(c=p,d=g)}}return c||(c=n[n.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>h&&(c={from:c.from,to:h,level:c.level}),c}function rr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ni){Ni=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Ni.appendChild(document.createTextNode("x")),Ni.appendChild(L("br"));Ni.appendChild(document.createTextNode("x"))}D(t.measure,Ni);var i=Ni.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),A(t.measure),i||1}function nr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),i=L("pre",[e],"CodeMirror-line-like");D(t.measure,i);var r=e.getBoundingClientRect(),n=(r.right-r.left)/10;return n>2&&(t.cachedCharWidth=n),n||10}function or(t){for(var e=t.display,i={},r={},n=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;i[a]=o.offsetLeft+o.clientLeft+n,r[a]=o.clientWidth}return{fixedPos:sr(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function sr(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ar(t){var e=rr(t.display),i=t.options.lineWrapping,r=i&&Math.max(5,t.display.scroller.clientWidth/nr(t.display)-3);return function(n){if(He(t.doc,n))return 0;var o=0;if(n.widgets)for(var s=0;s<n.widgets.length;s++)n.widgets[s].height&&(o+=n.widgets[s].height);return i?o+(Math.ceil(n.text.length/r)||1)*e:o+e}}function lr(t){var e=t.doc,i=ar(t);e.iter((function(t){var e=i(t);e!=t.height&&Zt(t,e)}))}function hr(t,e,i,r){var n=t.display;if(!i&&"true"==St(e).getAttribute("cm-not-content"))return null;var o,s,a=n.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(d){return null}var l,h=Zi(t,o,s);if(r&&h.xRel>0&&(l=Vt(t.doc,h.line).text).length==h.ch){var c=B(l,l.length,t.options.tabSize)-l.length;h=ee(h.line,Math.max(0,Math.round((o-_i(t.display).left)/nr(t.display))-c))}return h}function cr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var i=t.display.view,r=0;r<i.length;r++)if((e-=i[r].size)<0)return r}function dr(t,e,i,r){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),r||(r=0);var n=t.display;if(r&&i<n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>e)&&(n.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=n.viewTo)Ce&&Re(t.doc,e)<n.viewTo&&pr(t);else if(i<=n.viewFrom)Ce&&We(t.doc,i+r)>n.viewFrom?pr(t):(n.viewFrom+=r,n.viewTo+=r);else if(e<=n.viewFrom&&i>=n.viewTo)pr(t);else if(e<=n.viewFrom){var o=fr(t,i,i+r,1);o?(n.view=n.view.slice(o.index),n.viewFrom=o.lineN,n.viewTo+=r):pr(t)}else if(i>=n.viewTo){var s=fr(t,e,e,-1);s?(n.view=n.view.slice(0,s.index),n.viewTo=s.lineN):pr(t)}else{var a=fr(t,e,e,-1),l=fr(t,i,i+r,1);a&&l?(n.view=n.view.slice(0,a.index).concat(oi(t,a.lineN,l.lineN)).concat(n.view.slice(l.index)),n.viewTo+=r):pr(t)}var h=n.externalMeasured;h&&(i<h.lineN?h.lineN+=r:e<h.lineN+h.size&&(n.externalMeasured=null))}function ur(t,e,i){t.curOp.viewChanged=!0;var r=t.display,n=t.display.externalMeasured;if(n&&e>=n.lineN&&e<n.lineN+n.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[cr(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==W(s,i)&&s.push(i)}}}function pr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function fr(t,e,i,r){var n,o=cr(t,e),s=t.display.view;if(!Ce||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(r>0){if(o==s.length-1)return null;n=a+s[o].size-e,o++}else n=a-e;e+=n,i+=n}for(;Re(t.doc,i)!=i;){if(o==(r<0?0:s.length-1))return null;i+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:i}}function gr(t){for(var e=t.display.view,i=0,r=0;r<e.length;r++){var n=e[r];n.hidden||n.node&&!n.changes||++i}return i}function mr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vr(t,e){void 0===e&&(e=!0);for(var i=t.doc,r={},n=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(e||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&yr(t,a.head,n),l||br(t,a,o)}}return r}function yr(t,e,i){var r=Vi(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),n=i.appendChild(L("div","\xa0","CodeMirror-cursor"));if(n.style.left=r.left+"px",n.style.top=r.top+"px",n.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=i.appendChild(L("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function xr(t,e){return t.top-e.top||t.left-e.left}function br(t,e,i){var r=t.display,n=t.doc,o=document.createDocumentFragment(),s=_i(t.display),a=s.left,l=Math.max(r.sizerWidth,Ti(t)-r.sizer.offsetLeft)-s.right,h="ltr"==n.direction;function c(t,e,i,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?l-t:i)+"px;\n                             height: "+(r-e)+"px"))}function d(e,i,r){var o,s,d=Vt(n,e),u=d.text.length;function p(i,r){return Ui(t,ee(e,i),"div",d,r)}function f(e,i,r){var n=Ji(t,d,null,e),o="ltr"==i==("after"==r)?"left":"right";return p("after"==r?n.begin:n.end-(/\s/.test(d.text.charAt(n.end-1))?2:1),o)[o]}var g=ct(d,n.direction);return function(t,e,i,r){if(!t)return r(e,i,"ltr",0);for(var n=!1,o=0;o<t.length;++o){var s=t[o];(s.from<i&&s.to>e||e==i&&s.to==e)&&(r(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr",o),n=!0)}n||r(e,i,"ltr")}(g,i||0,null==r?u:r,(function(t,e,n,d){var m="ltr"==n,v=p(t,m?"left":"right"),y=p(e-1,m?"right":"left"),x=null==i&&0==t,b=null==r&&e==u,w=0==d,k=!g||d==g.length-1;if(y.top-v.top<=3){var C=(h?b:x)&&k,S=(h?x:b)&&w?a:(m?v:y).left,_=C?l:(m?y:v).right;c(S,v.top,_-S,v.bottom)}else{var M,T,A,D;m?(M=h&&x&&w?a:v.left,T=h?l:f(t,n,"before"),A=h?a:f(e,n,"after"),D=h&&b&&k?l:y.right):(M=h?f(t,n,"before"):a,T=!h&&x&&w?l:v.right,A=!h&&b&&k?a:y.left,D=h?f(e,n,"after"):l),c(M,v.top,T-M,v.bottom),v.bottom<y.top&&c(a,v.bottom,null,y.top),c(A,y.top,D-A,y.bottom)}(!o||xr(v,o)<0)&&(o=v),xr(y,o)<0&&(o=y),(!s||xr(v,s)<0)&&(s=v),xr(y,s)<0&&(s=y)})),{start:o,end:s}}var u=e.from(),p=e.to();if(u.line==p.line)d(u.line,u.ch,p.ch);else{var f=Vt(n,u.line),g=Vt(n,p.line),m=Be(f)==Be(g),v=d(u.line,u.ch,m?f.text.length+1:null).end,y=d(p.line,m?0:null,p.ch).start;m&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(a,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(a,v.bottom,null,y.top)}i.appendChild(o)}function wr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||_r(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function kr(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Sr(t))}function Cr(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&_r(t))}),100)}function Sr(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(gt(t,"focus",t,e),t.state.focused=!0,N(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),h&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),wr(t))}function _r(t,e){t.state.delayingBlurEvent||(t.state.focused&&(gt(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Mr(t){for(var e=t.display,i=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var n=e.view[r],o=t.options.lineWrapping,s=void 0,h=0;if(!n.hidden){if(a&&l<8){var c=n.node.offsetTop+n.node.offsetHeight;s=c-i,i=c}else{var d=n.node.getBoundingClientRect();s=d.bottom-d.top,!o&&n.text.firstChild&&(h=n.text.firstChild.getBoundingClientRect().right-d.left-1)}var u=n.line.height-s;if((u>.005||u<-.005)&&(Zt(n.line,s),Tr(n.line),n.rest))for(var p=0;p<n.rest.length;p++)Tr(n.rest[p]);if(h>t.display.sizerWidth){var f=Math.ceil(h/nr(t.display));f>t.display.maxLineLength&&(t.display.maxLineLength=f,t.display.maxLine=n.line,t.display.maxLineChanged=!0)}}}}function Tr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],r=i.node.parentNode;r&&(i.height=r.offsetHeight)}}function Ar(t,e,i){var r=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;r=Math.floor(r-Ci(t));var n=i&&null!=i.bottom?i.bottom:r+t.wrapper.clientHeight,o=Jt(e,r),s=Jt(e,n);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=Jt(e,Ye(Vt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=Jt(e,Ye(Vt(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Dr(t,e){var i=t.display,r=rr(t.display);e.top<0&&(e.top=0);var n=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:i.scroller.scrollTop,o=Ai(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Si(i),l=e.top<r,h=e.bottom>a-r;if(e.top<n)s.scrollTop=l?0:e.top;else if(e.bottom>n+o){var c=Math.min(e.top,(h?a:e.bottom)-o);c!=n&&(s.scrollTop=c)}var d=t.options.fixedGutter?0:i.gutters.offsetWidth,u=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:i.scroller.scrollLeft-d,p=Ti(t)-i.gutters.offsetWidth,f=e.right-e.left>p;return f&&(e.right=e.left+p),e.left<10?s.scrollLeft=0:e.left<u?s.scrollLeft=Math.max(0,e.left+d-(f?0:10)):e.right>p+u-3&&(s.scrollLeft=e.right+(f?0:10)-p),s}function Lr(t,e){null!=e&&(Er(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Or(t){Er(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Pr(t,e,i){null==e&&null==i||Er(t),null!=e&&(t.curOp.scrollLeft=e),null!=i&&(t.curOp.scrollTop=i)}function Er(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Nr(t,qi(t,e.from),qi(t,e.to),e.margin))}function Nr(t,e,i,r){var n=Dr(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-r,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+r});Pr(t,n.scrollLeft,n.scrollTop)}function Ir(t,e){Math.abs(t.doc.scrollTop-e)<2||(i||hn(t,{top:e}),zr(t,e,!0),i&&hn(t),nn(t,100))}function zr(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function jr(t,e,i,r){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,un(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Fr(t){var e=t.display,i=e.gutters.offsetWidth,r=Math.round(t.doc.height+Si(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+Mi(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var Br=function(t,e,i){this.cm=i;var r=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=n.tabIndex=-1,t(r),t(n),ut(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),ut(n,"scroll",(function(){n.clientWidth&&e(n.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Br.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var n=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?r:0,bottom:e?r:0}},Br.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Br.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Br.prototype.zeroWidthHack=function(){var t=x&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Br.prototype.enableZeroWidthBar=function(t,e,i){t.style.pointerEvents="auto",e.set(1e3,(function r(){var n=t.getBoundingClientRect();("vert"==i?document.elementFromPoint(n.right-1,(n.top+n.bottom)/2):document.elementFromPoint((n.right+n.left)/2,n.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,r)}))},Br.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Rr=function(){};function Wr(t,e){e||(e=Fr(t));var i=t.display.barWidth,r=t.display.barHeight;Hr(t,e);for(var n=0;n<4&&i!=t.display.barWidth||r!=t.display.barHeight;n++)i!=t.display.barWidth&&t.options.lineWrapping&&Mr(t),Hr(t,Fr(t)),i=t.display.barWidth,r=t.display.barHeight}function Hr(t,e){var i=t.display,r=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px",i.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}Rr.prototype.update=function(){return{bottom:0,right:0}},Rr.prototype.setScrollLeft=function(){},Rr.prototype.setScrollTop=function(){},Rr.prototype.clear=function(){};var Gr={native:Br,null:Rr};function Yr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Gr[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ut(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,i){"horizontal"==i?jr(t,e):Ir(t,e)}),t),t.display.scrollbars.addClass&&N(t.display.wrapper,t.display.scrollbars.addClass)}var Xr=0;function Ur(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xr,markArrays:null},e=t.curOp,si?si.ops.push(e):e.ownsGroup=si={ops:[e],delayedCallbacks:[]}}function Vr(t){var e=t.curOp;e&&function(t,e){var i=t.ownsGroup;if(i)try{!function(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var r=0;r<t.ops.length;r++){var n=t.ops[r];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(i<e.length)}(i)}finally{si=null,e(i)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,i=0;i<e.length;i++)qr(e[i]);for(var r=0;r<e.length;r++)Kr(e[r]);for(var n=0;n<e.length;n++)Zr(e[n]);for(var o=0;o<e.length;o++)$r(e[o]);for(var s=0;s<e.length;s++)Jr(e[s])}(t)}))}function qr(t){var e=t.cm,i=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Mi(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Mi(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ue(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new sn(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Kr(t){t.updatedDisplay=t.mustUpdate&&an(t.cm,t.update)}function Zr(t){var e=t.cm,i=e.display;t.updatedDisplay&&Mr(e),t.barMeasure=Fr(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Li(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Mi(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Ti(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function $r(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&jr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==E();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Wr(e,t.barMeasure),t.updatedDisplay&&dn(e,t.barMeasure),t.selectionChanged&&wr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&kr(t.cm)}function Jr(t){var e=t.cm,i=e.display,r=e.doc;t.updatedDisplay&&ln(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=t.scrollTop&&zr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&jr(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!mt(t,"scrollCursorIntoView")){var i=t.display,r=i.sizer.getBoundingClientRect(),n=null;if(e.top+r.top<0?n=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!g){var o=L("div","\u200b",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-Ci(t.display))+"px;\n                         height: "+(e.bottom-e.top+Mi(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(n),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,i,r){var n;null==r&&(r=0),t.options.lineWrapping||e!=i||(i="before"==e.sticky?ee(e.line,e.ch+1,"before"):e,e=e.ch?ee(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e);for(var o=0;o<5;o++){var s=!1,a=Vi(t,e),l=i&&i!=e?Vi(t,i):a,h=Dr(t,n={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),c=t.doc.scrollTop,d=t.doc.scrollLeft;if(null!=h.scrollTop&&(Ir(t,h.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(s=!0)),null!=h.scrollLeft&&(jr(t,h.scrollLeft),Math.abs(t.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return n}(e,le(r,t.scrollToPos.from),le(r,t.scrollToPos.to),t.scrollToPos.margin));var n=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(n)for(var s=0;s<n.length;++s)n[s].lines.length||gt(n[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&gt(o[a],"unhide");i.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&gt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Qr(t,e){if(t.curOp)return e();Ur(t);try{return e()}finally{Vr(t)}}function tn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Ur(t);try{return e.apply(t,arguments)}finally{Vr(t)}}}function en(t){return function(){if(this.curOp)return t.apply(this,arguments);Ur(this);try{return t.apply(this,arguments)}finally{Vr(this)}}}function rn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ur(e);try{return t.apply(this,arguments)}finally{Vr(e)}}}function nn(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,j(on,t))}function on(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,r=fe(t,e.highlightFrontier),n=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(r.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Gt(e.mode,r.state):null,l=ue(t,o,r,!0);a&&(r.state=a),o.styles=l.styles;var h=o.styleClasses,c=l.classes;c?o.styleClasses=c:h&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||h!=c&&(!h||!c||h.bgClass!=c.bgClass||h.textClass!=c.textClass),u=0;!d&&u<s.length;++u)d=s[u]!=o.styles[u];d&&n.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&ge(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>i)return nn(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),n.length&&Qr(t,(function(){for(var e=0;e<n.length;e++)ur(t,n[e],"text")}))}}var sn=function(t,e,i){var r=t.display;this.viewport=e,this.visible=Ar(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ti(t),this.force=i,this.dims=or(t),this.events=[]};function an(t,e){var i=t.display,r=t.doc;if(e.editorIsHidden)return pr(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==gr(t))return!1;pn(t)&&(pr(t),e.dims=or(t));var n=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),s=Math.min(n,e.visible.to+t.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(r.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(n,i.viewTo)),Ce&&(o=Re(t.doc,o),s=We(t.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;!function(t,e,i){var r=t.display;0==r.view.length||e>=r.viewTo||i<=r.viewFrom?(r.view=oi(t,e,i),r.viewFrom=e):(r.viewFrom>e?r.view=oi(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(cr(t,e))),r.viewFrom=e,r.viewTo<i?r.view=r.view.concat(oi(t,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,cr(t,i)))),r.viewTo=i}(t,o,s),i.viewOffset=Ye(Vt(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=gr(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=E();if(!e||!P(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&P(t.display.lineDiv,r.anchorNode)&&(i.anchorNode=r.anchorNode,i.anchorOffset=r.anchorOffset,i.focusNode=r.focusNode,i.focusOffset=r.focusOffset)}return i}(t);return l>4&&(i.lineDiv.style.display="none"),function(t,e,i){var r=t.display,n=t.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(e){var i=e.nextSibling;return h&&x&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var l=r.view,c=r.viewFrom,d=0;d<l.length;d++){var u=l[d];if(u.hidden);else if(u.node&&u.node.parentNode==o){for(;s!=u.node;)s=a(s);var p=n&&null!=e&&e<=c&&u.lineNumber;u.changes&&(W(u.changes,"gutter")>-1&&(p=!1),ci(t,u,c,i)),p&&(A(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(te(t.options,c)))),s=u.node.nextSibling}else{var f=vi(t,u,c,i);o.insertBefore(f,s)}c+=u.size}for(;s;)s=a(s)}(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(t){if(t&&t.activeElt&&t.activeElt!=E()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&P(document.body,t.anchorNode)&&P(document.body,t.focusNode))){var e=window.getSelection(),i=document.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),e.removeAllRanges(),e.addRange(i),e.extend(t.focusNode,t.focusOffset)}}(c),A(i.cursorDiv),A(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,nn(t,400)),i.updateLineNumbers=null,!0}function ln(t,e){for(var i=e.viewport,r=!0;;r=!1){if(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Ti(t))r&&(e.visible=Ar(t.display,t.doc,i));else if(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Si(t.display)-Ai(t),i.top)}),e.visible=Ar(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!an(t,e))break;Mr(t);var n=Fr(t);mr(t),Wr(t,n),dn(t,n),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function hn(t,e){var i=new sn(t,e);if(an(t,i)){Mr(t),ln(t,i);var r=Fr(t);mr(t),Wr(t,r),dn(t,r),i.finish()}}function cn(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",li(t,"gutterChanged",t)}function dn(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Mi(t)+"px"}function un(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=sr(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,o=r+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function pn(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=te(t.options,e.first+e.size-1),r=t.display;if(i.length!=r.lineNumChars){var n=r.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=n.firstChild.offsetWidth,s=n.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",cn(t.display),!0}return!1}function fn(t,e){for(var i=[],r=!1,n=0;n<t.length;n++){var o=t[n],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}i.push({className:o,style:s})}return e&&!r&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function gn(t){var e=t.gutters,i=t.gutterSpecs;A(e),t.lineGutter=null;for(var r=0;r<i.length;++r){var n=i[r],o=n.className,s=n.style,a=e.appendChild(L("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",cn(t)}function mn(t){gn(t.display),dr(t),un(t)}function vn(t,e,r,n){var o=this;this.input=r,o.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=L("div",null,"CodeMirror-cursors"),o.measure=L("div",null,"CodeMirror-measure"),o.lineMeasure=L("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=L("div",[s],null,"position: relative"),o.sizer=L("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=L("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=L("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=L("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=L("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&l<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),h||i&&y||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=fn(n.gutters,n.lineNumbers),gn(o),r.init(o)}sn.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},sn.prototype.finish=function(){for(var t=0;t<this.events.length;t++)gt.apply(null,this.events[t])};var yn=0,xn=null;function bn(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function wn(t){var e=bn(t);return e.x*=xn,e.y*=xn,e}function kn(t,e){var r=bn(e),n=r.x,o=r.y,s=t.display,a=s.scroller,l=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(n&&l||o&&c){if(o&&x&&h)t:for(var d=e.target,p=s.view;d!=a;d=d.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==d){t.display.currentWheelTarget=d;break t}if(n&&!i&&!u&&null!=xn)return o&&c&&Ir(t,Math.max(0,a.scrollTop+o*xn)),jr(t,Math.max(0,a.scrollLeft+n*xn)),(!o||o&&c)&&bt(e),void(s.wheelStartX=null);if(o&&null!=xn){var g=o*xn,m=t.doc.scrollTop,v=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),hn(t,{top:m,bottom:v})}yn<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=n,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,i=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(xn=(xn*yn+i)/(yn+1),++yn)}}),200)):(s.wheelDX+=n,s.wheelDY+=o))}}a?xn=-.53:i?xn=15:d?xn=-.7:p&&(xn=-1/3);var Cn=function(t,e){this.ranges=t,this.primIndex=e};Cn.prototype.primary=function(){return this.ranges[this.primIndex]},Cn.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],r=t.ranges[e];if(!re(i.anchor,r.anchor)||!re(i.head,r.head))return!1}return!0},Cn.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Sn(ne(this.ranges[e].anchor),ne(this.ranges[e].head));return new Cn(t,this.primIndex)},Cn.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Cn.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(ie(e,r.from())>=0&&ie(t,r.to())<=0)return i}return-1};var Sn=function(t,e){this.anchor=t,this.head=e};function _n(t,e,i){var r=t&&t.options.selectionsMayTouch,n=e[i];e.sort((function(t,e){return ie(t.from(),e.from())})),i=W(e,n);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=ie(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var h=se(a.from(),s.from()),c=oe(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;o<=i&&--i,e.splice(--o,2,new Sn(d?c:h,d?h:c))}}return new Cn(e,i)}function Mn(t,e){return new Cn([new Sn(t,e||t)],0)}function Tn(t){return t.text?ee(t.from.line+t.text.length-1,K(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function An(t,e){if(ie(t,e.from)<0)return t;if(ie(t,e.to)<=0)return Tn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Tn(e).ch-e.to.ch),ee(i,r)}function Dn(t,e){for(var i=[],r=0;r<t.sel.ranges.length;r++){var n=t.sel.ranges[r];i.push(new Sn(An(n.anchor,e),An(n.head,e)))}return _n(t.cm,i,t.sel.primIndex)}function Ln(t,e,i){return t.line==e.line?ee(i.line,t.ch-e.ch+i.ch):ee(i.line+(t.line-e.line),t.ch)}function On(t){t.doc.mode=Rt(t.options,t.doc.modeOption),Pn(t)}function Pn(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,nn(t,100),t.state.modeGen++,t.curOp&&dr(t)}function En(t,e){return 0==e.from.ch&&0==e.to.ch&&""==K(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Nn(t,e,i,r){function n(t){return i?i[t]:null}function o(t,i,n){!function(t,e,i,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),De(t),Le(t,i);var n=r?r(t):1;n!=t.height&&Zt(t,n)}(t,i,n,r),li(t,"change",t,e)}function s(t,e){for(var i=[],o=t;o<e;++o)i.push(new Ve(h[o],n(o),r));return i}var a=e.from,l=e.to,h=e.text,c=Vt(t,a.line),d=Vt(t,l.line),u=K(h),p=n(h.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,h.length)),t.remove(h.length,t.size-h.length);else if(En(t,e)){var g=s(0,h.length-1);o(d,d.text,p),f&&t.remove(a.line,f),g.length&&t.insert(a.line,g)}else if(c==d)if(1==h.length)o(c,c.text.slice(0,a.ch)+u+c.text.slice(l.ch),p);else{var m=s(1,h.length-1);m.push(new Ve(u+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,a.ch)+h[0],n(0)),t.insert(a.line+1,m)}else if(1==h.length)o(c,c.text.slice(0,a.ch)+h[0]+d.text.slice(l.ch),n(0)),t.remove(a.line+1,f);else{o(c,c.text.slice(0,a.ch)+h[0],n(0)),o(d,u+d.text.slice(l.ch),p);var v=s(1,h.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,v)}li(t,"change",t,e)}function In(t,e,i){!function t(r,n,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=n){var l=o&&a.sharedHist;i&&!l||(e(a.doc,l),t(a.doc,r,l))}}}(t,null,!0)}function zn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,lr(t),On(t),jn(t),t.options.direction=e.direction,t.options.lineWrapping||Ue(t),t.options.mode=e.modeOption,dr(t)}function jn(t){("rtl"==t.doc.direction?N:T)(t.display.lineDiv,"CodeMirror-rtl")}function Fn(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Bn(t,e){var i={from:ne(e.from),to:Tn(e),text:qt(t,e.from,e.to)};return Yn(t,i,e.from.line,e.to.line+1),In(t,(function(t){return Yn(t,i,e.from.line,e.to.line+1)}),!0),i}function Rn(t){for(;t.length&&K(t).ranges;)t.pop()}function Wn(t,e,i,r){var n=t.history;n.undone.length=0;var o,s,a=+new Date;if((n.lastOp==r||n.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&n.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Rn(t.done),K(t.done)):t.done.length&&!K(t.done).ranges?K(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),K(t.done)):void 0}(n,n.lastOp==r)))s=K(o.changes),0==ie(e.from,e.to)&&0==ie(e.from,s.to)?s.to=Tn(e):o.changes.push(Bn(t,e));else{var l=K(n.done);for(l&&l.ranges||Gn(t.sel,n.done),o={changes:[Bn(t,e)],generation:n.generation},n.done.push(o);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(i),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=a,n.lastOp=n.lastSelOp=r,n.lastOrigin=n.lastSelOrigin=e.origin,s||gt(t,"historyAdded")}function Hn(t,e,i,r){var n=t.history,o=r&&r.origin;i==n.lastSelOp||o&&n.lastSelOrigin==o&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==o||function(t,e,i,r){var n=e.charAt(0);return"*"==n||"+"==n&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,K(n.done),e))?n.done[n.done.length-1]=e:Gn(e,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=o,n.lastSelOp=i,r&&!1!==r.clearRedo&&Rn(n.undone)}function Gn(t,e){var i=K(e);i&&i.ranges&&i.equals(t)||e.push(t)}function Yn(t,e,i,r){var n=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,r),(function(i){i.markedSpans&&((n||(n=e["spans_"+t.id]={}))[o]=i.markedSpans),++o}))}function Xn(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function Un(t,e){var i=function(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var r=[],n=0;n<e.text.length;++n)r.push(Xn(i[n]));return r}(t,e),r=Te(t,e);if(!i)return r;if(!r)return i;for(var n=0;n<i.length;++n){var o=i[n],s=r[n];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],h=0;h<o.length;++h)if(o[h].marker==l.marker)continue t;o.push(l)}else s&&(i[n]=s)}return i}function Vn(t,e,i){for(var r=[],n=0;n<t.length;++n){var o=t[n];if(o.ranges)r.push(i?Cn.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var h=s[l],c=void 0;if(a.push({from:h.from,to:h.to,text:h.text}),e)for(var d in h)(c=d.match(/^spans_(\d+)$/))&&W(e,Number(c[1]))>-1&&(K(a)[d]=h[d],delete h[d])}}}return r}function qn(t,e,i,r){if(r){var n=t.anchor;if(i){var o=ie(e,n)<0;o!=ie(i,n)<0?(n=e,e=i):o!=ie(e,i)<0&&(e=i)}return new Sn(n,e)}return new Sn(i||e,e)}function Kn(t,e,i,r,n){null==n&&(n=t.cm&&(t.cm.display.shift||t.extend)),to(t,new Cn([qn(t.sel.primary(),e,i,n)],0),r)}function Zn(t,e,i){for(var r=[],n=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=qn(t.sel.ranges[o],e[o],null,n);to(t,_n(t.cm,r,t.sel.primIndex),i)}function $n(t,e,i,r){var n=t.sel.ranges.slice(0);n[e]=i,to(t,_n(t.cm,n,t.sel.primIndex),r)}function Jn(t,e,i,r){to(t,Mn(e,i),r)}function Qn(t,e,i){var r=t.history.done,n=K(r);n&&n.ranges?(r[r.length-1]=e,eo(t,e,i)):to(t,e,i)}function to(t,e,i){eo(t,e,i),Hn(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function eo(t,e,i){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,i){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var i=0;i<e.length;i++)this.ranges[i]=new Sn(le(t,e[i].anchor),le(t,e[i].head))},origin:i&&i.origin};return gt(t,"beforeSelectionChange",t,r),t.cm&&gt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?_n(t.cm,r.ranges,r.ranges.length-1):e}(t,e,i));var r=i&&i.bias||(ie(e.primary().head,t.sel.primary().head)<0?-1:1);io(t,no(t,e,r,!0)),i&&!1===i.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Or(t.cm)}function io(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,vt(t.cm)),li(t,"cursorActivity",t))}function ro(t){io(t,no(t,t.sel,null,!1))}function no(t,e,i,r){for(var n,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=so(t,s.anchor,a&&a.anchor,i,r),h=so(t,s.head,a&&a.head,i,r);(n||l!=s.anchor||h!=s.head)&&(n||(n=e.ranges.slice(0,o)),n[o]=new Sn(l,h))}return n?_n(t.cm,n,e.primIndex):e}function oo(t,e,i,r,n){var o=Vt(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,h="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(h?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(c?a.to>=e.ch:a.to>e.ch))){if(n&&(gt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var d=l.find(r<0?1:-1),u=void 0;if((r<0?c:h)&&(d=ao(t,d,-r,d&&d.line==e.line?o:null)),d&&d.line==e.line&&(u=ie(d,i))&&(r<0?u<0:u>0))return oo(t,d,e,r,n)}var p=l.find(r<0?-1:1);return(r<0?h:c)&&(p=ao(t,p,r,p.line==e.line?o:null)),p?oo(t,p,e,r,n):null}}return e}function so(t,e,i,r,n){var o=r||1,s=oo(t,e,i,o,n)||!n&&oo(t,e,i,o,!0)||oo(t,e,i,-o,n)||!n&&oo(t,e,i,-o,!0);return s||(t.cantEdit=!0,ee(t.first,0))}function ao(t,e,i,r){return i<0&&0==e.ch?e.line>t.first?le(t,ee(e.line-1)):null:i>0&&e.ch==(r||Vt(t,e.line)).text.length?e.line<t.first+t.size-1?ee(e.line+1,0):null:new ee(e.line,e.ch+i)}function lo(t){t.setSelection(ee(t.firstLine(),0),ee(t.lastLine()),G)}function ho(t,e,i){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return i&&(r.update=function(e,i,n,o){e&&(r.from=le(t,e)),i&&(r.to=le(t,i)),n&&(r.text=n),void 0!==o&&(r.origin=o)}),gt(t,"beforeChange",t,r),t.cm&&gt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function co(t,e,i){if(t.cm){if(!t.cm.curOp)return tn(t.cm,co)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=ho(t,e,!0))){var r=ke&&!i&&function(t,e,i){var r=null;if(t.iter(e.line,i.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||r&&-1!=W(r,i)||(r||(r=[])).push(i)}})),!r)return null;for(var n=[{from:e,to:i}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<n.length;++l){var h=n[l];if(!(ie(h.to,a.from)<0||ie(h.from,a.to)>0)){var c=[l,1],d=ie(h.from,a.from),u=ie(h.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&c.push({from:h.from,to:a.from}),(u>0||!s.inclusiveRight&&!u)&&c.push({from:a.to,to:h.to}),n.splice.apply(n,c),l+=c.length-3}}return n}(t,e.from,e.to);if(r)for(var n=r.length-1;n>=0;--n)uo(t,{from:r[n].from,to:r[n].to,text:n?[""]:e.text,origin:e.origin});else uo(t,e)}}function uo(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ie(e.from,e.to)){var i=Dn(t,e);Wn(t,e,i,t.cm?t.cm.curOp.id:NaN),go(t,e,i,Te(t,e));var r=[];In(t,(function(t,i){i||-1!=W(r,t.history)||(xo(t.history,e),r.push(t.history)),go(t,e,null,Te(t,e))}))}}function po(t,e,i){var r=t.cm&&t.cm.state.suppressEdits;if(!r||i){for(var n,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,h=0;h<a.length&&(n=a[h],i?!n.ranges||n.equals(t.sel):n.ranges);h++);if(h!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(n=a.pop()).ranges){if(r)return void a.push(n);break}if(Gn(n,l),i&&!n.equals(t.sel))return void to(t,n,{clearRedo:!1});s=n}var c=[];Gn(s,l),l.push({changes:c,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;for(var d=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),u=function(i){var r=n.changes[i];if(r.origin=e,d&&!ho(t,r,!1))return a.length=0,{};c.push(Bn(t,r));var o=i?Dn(t,r):K(a);go(t,r,o,Un(t,r)),!i&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Tn(r)});var s=[];In(t,(function(t,e){e||-1!=W(s,t.history)||(xo(t.history,r),s.push(t.history)),go(t,r,null,Un(t,r))}))},p=n.changes.length-1;p>=0;--p){var f=u(p);if(f)return f.v}}}}function fo(t,e){if(0!=e&&(t.first+=e,t.sel=new Cn(Z(t.sel.ranges,(function(t){return new Sn(ee(t.anchor.line+e,t.anchor.ch),ee(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){dr(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,r=i.viewFrom;r<i.viewTo;r++)ur(t.cm,r,"gutter")}}function go(t,e,i,r){if(t.cm&&!t.cm.curOp)return tn(t.cm,go)(t,e,i,r);if(e.to.line<t.first)fo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var n=e.text.length-1-(t.first-e.from.line);fo(t,n),e={from:ee(t.first,0),to:ee(e.to.line+n,e.to.ch),text:[K(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:ee(o,Vt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=qt(t,e.from,e.to),i||(i=Dn(t,e)),t.cm?function(t,e,i){var r=t.doc,n=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=$t(Be(Vt(r,o.line))),r.iter(l,s.line+1,(function(t){if(t==n.maxLine)return a=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&vt(t),Nn(r,e,i,ar(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,(function(t){var e=Xe(t);e>n.maxLineLength&&(n.maxLine=t,n.maxLineLength=e,n.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,r=e-1;r>i;r--){var n=Vt(t,r).stateAfter;if(n&&(!(n instanceof ce)||r+n.lookAhead<e)){i=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}(r,o.line),nn(t,400);var h=e.text.length-(s.line-o.line)-1;e.full?dr(t):o.line!=s.line||1!=e.text.length||En(t.doc,e)?dr(t,o.line,s.line+1,h):ur(t,o.line,"text");var c=yt(t,"changes"),d=yt(t,"change");if(d||c){var u={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};d&&li(t,"change",t,u),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(u)}t.display.selForContextMenu=null}(t.cm,e,r):Nn(t,e,r),eo(t,i,G),t.cantEdit&&so(t,ee(t.firstLine(),0))&&(t.cantEdit=!1)}}function mo(t,e,i,r,n){var o;r||(r=i),ie(r,i)<0&&(i=(o=[r,i])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),co(t,{from:i,to:r,text:e,origin:n})}function vo(t,e,i,r){i<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function yo(t,e,i,r){for(var n=0;n<t.length;++n){var o=t[n],s=!0;if(o.ranges){o.copied||((o=t[n]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vo(o.ranges[a].anchor,e,i,r),vo(o.ranges[a].head,e,i,r)}else{for(var l=0;l<o.changes.length;++l){var h=o.changes[l];if(i<h.from.line)h.from=ee(h.from.line+r,h.from.ch),h.to=ee(h.to.line+r,h.to.ch);else if(e<=h.to.line){s=!1;break}}s||(t.splice(0,n+1),n=0)}}}function xo(t,e){var i=e.from.line,r=e.to.line,n=e.text.length-(r-i)-1;yo(t.done,i,r,n),yo(t.undone,i,r,n)}function bo(t,e,i,r){var n=e,o=e;return"number"==typeof e?o=Vt(t,ae(t,e)):n=$t(e),null==n?null:(r(o,n)&&t.cm&&ur(t.cm,n,i),o)}function wo(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}function ko(t){this.children=t;for(var e=0,i=0,r=0;r<t.length;++r){var n=t[r];e+=n.chunkSize(),i+=n.height,n.parent=this}this.size=e,this.height=i,this.parent=null}Sn.prototype.from=function(){return se(this.anchor,this.head)},Sn.prototype.to=function(){return oe(this.anchor,this.head)},Sn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,r=t+e;i<r;++i){var n=this.lines[i];this.height-=n.height,qe(n),li(n,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,i){for(var r=t+e;t<r;++t)if(i(this.lines[t]))return!0}},ko.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var r=this.children[i],n=r.chunkSize();if(t<n){var o=Math.min(e,n-t),s=r.height;if(r.removeInner(t,o),this.height-=s-r.height,n==o&&(this.children.splice(i--,1),r.parent=null),0==(e-=o))break;t=0}else t-=n}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof wo))){var a=[];this.collapse(a),this.children=[new wo(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var r=0;r<this.children.length;++r){var n=this.children[r],o=n.chunkSize();if(t<=o){if(n.insertInner(t,e,i),n.lines&&n.lines.length>50){for(var s=n.lines.length%25+25,a=s;a<n.lines.length;){var l=new wo(n.lines.slice(a,a+=25));n.height-=l.height,this.children.splice(++r,0,l),l.parent=this}n.lines=n.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new ko(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var i=W(t.parent.children,t);t.parent.children.splice(i+1,0,e)}else{var r=new ko(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var r=0;r<this.children.length;++r){var n=this.children[r],o=n.chunkSize();if(t<o){var s=Math.min(e,o-t);if(n.iterN(t,s,i))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Co=function(t,e,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.doc=t,this.node=e};function So(t,e,i){Ye(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Lr(t,i)}Co.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,r=$t(i);if(null!=r&&e){for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(i.widgets=null);var o=wi(this);Zt(i,Math.max(0,i.height-o)),t&&(Qr(t,(function(){So(t,i,-o),ur(t,r,"widget")})),li(t,"lineWidgetCleared",t,this,r))}},Co.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,r=this.line;this.height=null;var n=wi(this)-e;n&&(He(this.doc,r)||Zt(r,r.height+n),i&&Qr(i,(function(){i.curOp.forceUpdate=!0,So(i,r,n),li(i,"lineWidgetChanged",i,t,$t(r))})))},xt(Co);var _o=0,Mo=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++_o};function To(t,e,i,r,n){if(r&&r.shared)return function(t,e,i,r,n){(r=F(r)).shared=!1;var o=[To(t,e,i,r,n)],s=o[0],a=r.widgetNode;return In(t,(function(t){a&&(r.widgetNode=a.cloneNode(!0)),o.push(To(t,le(t,e),le(t,i),r,n));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=K(o)})),new Ao(o,s)}(t,e,i,r,n);if(t.cm&&!t.cm.curOp)return tn(t.cm,To)(t,e,i,r,n);var o=new Mo(t,n),s=ie(e,i);if(r&&F(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Fe(t,e.line,e,i,o)||e.line!=i.line&&Fe(t,i.line,e,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&Wn(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,l=e.line,h=t.cm;if(t.iter(l,i.line+1,(function(r){h&&o.collapsed&&!h.options.lineWrapping&&Be(r)==h.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&Zt(r,0),function(t,e,i){var r=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));r&&r.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],r&&r.add(t.markedSpans)),e.marker.attachLine(t)}(r,new Se(o,l==e.line?e.ch:null,l==i.line?i.ch:null),t.cm&&t.cm.curOp),++l})),o.collapsed&&t.iter(e.line,i.line+1,(function(e){He(t,e)&&Zt(e,0)})),o.clearOnEnter&&ut(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(ke=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++_o,o.atomic=!0),h){if(a&&(h.curOp.updateMaxLine=!0),o.collapsed)dr(h,e.line,i.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=i.line;c++)ur(h,c,"text");o.atomic&&ro(h.doc),li(h,"markerAdded",h,o)}return o}Mo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Ur(t),yt(this,"clear")){var i=this.find();i&&li(this,"clear",i.from,i.to)}for(var r=null,n=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=_e(s.markedSpans,this);t&&!this.collapsed?ur(t,$t(s),"text"):t&&(null!=a.to&&(n=$t(s)),null!=a.from&&(r=$t(s))),s.markedSpans=Me(s.markedSpans,a),null==a.from&&this.collapsed&&!He(this.doc,s)&&t&&Zt(s,rr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var h=Be(this.lines[l]),c=Xe(h);c>t.display.maxLineLength&&(t.display.maxLine=h,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&dr(t,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ro(t.doc)),t&&li(t,"markerCleared",t,this,r,n),e&&Vr(t),this.parent&&this.parent.clear()}},Mo.prototype.find=function(t,e){var i,r;null==t&&"bookmark"==this.type&&(t=1);for(var n=0;n<this.lines.length;++n){var o=this.lines[n],s=_e(o.markedSpans,this);if(null!=s.from&&(i=ee(e?o:$t(o),s.from),-1==t))return i;if(null!=s.to&&(r=ee(e?o:$t(o),s.to),1==t))return r}return i&&{from:i,to:r}},Mo.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,r=this.doc.cm;e&&r&&Qr(r,(function(){var n=e.line,o=$t(e.line),s=Oi(r,o);if(s&&(Fi(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!He(i.doc,n)&&null!=i.height){var a=i.height;i.height=null;var l=wi(i)-a;l&&Zt(n,n.height+l)}li(r,"markerChanged",r,t)}))},Mo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=W(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Mo.prototype.detachLine=function(t){if(this.lines.splice(W(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},xt(Mo);var Ao=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};function Do(t){return t.findMarks(ee(t.first,0),t.clipPos(ee(t.lastLine())),(function(t){return t.parent}))}function Lo(t){for(var e=function(e){var i=t[e],r=[i.primary.doc];In(i.primary.doc,(function(t){return r.push(t)}));for(var n=0;n<i.markers.length;n++){var o=i.markers[n];-1==W(r,o.doc)&&(o.parent=null,i.markers.splice(n--,1))}},i=0;i<t.length;i++)e(i)}Ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();li(this,"clear")}},Ao.prototype.find=function(t,e){return this.primary.find(t,e)},xt(Ao);var Oo=0,Po=function t(e,i,r,n,o){if(!(this instanceof t))return new t(e,i,r,n,o);null==r&&(r=0),ko.call(this,[new wo([new Ve("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var s=ee(r,0);this.sel=Mn(s),this.history=new Fn(null),this.id=++Oo,this.modeOption=i,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Nn(this,{from:s,to:s,text:e}),to(this,Mn(s),G)};(Po.prototype=J(ko.prototype,{constructor:Po,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,r=0;r<e.length;++r)i+=e[r].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Kt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:rn((function(t){var e=ee(this.first,0),i=this.first+this.size-1;co(this,{from:e,to:ee(i,Vt(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),to(this,Mn(e),G)})),replaceRange:function(t,e,i,r){mo(this,t,e=le(this,e),i=i?le(this,i):e,r)},getRange:function(t,e,i){var r=qt(this,le(this,t),le(this,e));return!1===i?r:r.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Qt(this,t))return Vt(this,t)},getLineNumber:function(t){return $t(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Vt(this,t)),Be(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return le(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:rn((function(t,e,i){Jn(this,le(this,"number"==typeof t?ee(t,e||0):t),null,i)})),setSelection:rn((function(t,e,i){Jn(this,le(this,t),le(this,e||t),i)})),extendSelection:rn((function(t,e,i){Kn(this,le(this,t),e&&le(this,e),i)})),extendSelections:rn((function(t,e){Zn(this,he(this,t),e)})),extendSelectionsBy:rn((function(t,e){Zn(this,he(this,Z(this.sel.ranges,t)),e)})),setSelections:rn((function(t,e,i){if(t.length){for(var r=[],n=0;n<t.length;n++)r[n]=new Sn(le(this,t[n].anchor),le(this,t[n].head||t[n].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),to(this,_n(this.cm,r,e),i)}})),addSelection:rn((function(t,e,i){var r=this.sel.ranges.slice(0);r.push(new Sn(le(this,t),le(this,e||t))),to(this,_n(this.cm,r,r.length-1),i)})),getSelection:function(t){for(var e,i=this.sel.ranges,r=0;r<i.length;r++){var n=qt(this,i[r].from(),i[r].to());e=e?e.concat(n):n}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,r=0;r<i.length;r++){var n=qt(this,i[r].from(),i[r].to());!1!==t&&(n=n.join(t||this.lineSeparator())),e[r]=n}return e},replaceSelection:function(t,e,i){for(var r=[],n=0;n<this.sel.ranges.length;n++)r[n]=t;this.replaceSelections(r,e,i||"+input")},replaceSelections:rn((function(t,e,i){for(var r=[],n=this.sel,o=0;o<n.ranges.length;o++){var s=n.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:i}}for(var a=e&&"end"!=e&&function(t,e,i){for(var r=[],n=ee(t.first,0),o=n,s=0;s<e.length;s++){var a=e[s],l=Ln(a.from,n,o),h=Ln(Tn(a),n,o);if(n=a.to,o=h,"around"==i){var c=t.sel.ranges[s],d=ie(c.head,c.anchor)<0;r[s]=new Sn(d?h:l,d?l:h)}else r[s]=new Sn(l,l)}return new Cn(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)co(this,r[l]);a?Qn(this,a):this.cm&&Or(this.cm)})),undo:rn((function(){po(this,"undo")})),redo:rn((function(){po(this,"redo")})),undoSelection:rn((function(){po(this,"undo",!0)})),redoSelection:rn((function(){po(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var n=0;n<t.undone.length;n++)t.undone[n].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new Fn(this.history),In(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Vn(this.history.done),undone:Vn(this.history.undone)}},setHistory:function(t){var e=this.history=new Fn(this.history);e.done=Vn(t.done.slice(0),null,!0),e.undone=Vn(t.undone.slice(0),null,!0)},setGutterMarker:rn((function(t,e,i){return bo(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=i,!i&&it(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:rn((function(t){var e=this;this.iter((function(i){i.gutterMarkers&&i.gutterMarkers[t]&&bo(e,i,"gutter",(function(){return i.gutterMarkers[t]=null,it(i.gutterMarkers)&&(i.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Qt(this,t))return null;if(e=t,!(t=Vt(this,t)))return null}else if(null==(e=$t(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:rn((function(t,e,i){return bo(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(_(i).test(t[r]))return!1;t[r]+=" "+i}else t[r]=i;return!0}))})),removeLineClass:rn((function(t,e,i){return bo(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",n=t[r];if(!n)return!1;if(null==i)t[r]=null;else{var o=n.match(_(i));if(!o)return!1;var s=o.index+o[0].length;t[r]=n.slice(0,o.index)+(o.index&&s!=n.length?" ":"")+n.slice(s)||null}return!0}))})),addLineWidget:rn((function(t,e,i){return function(t,e,i,r){var n=new Co(t,i,r),o=t.cm;return o&&n.noHScroll&&(o.display.alignWidgets=!0),bo(t,e,"widget",(function(e){var i=e.widgets||(e.widgets=[]);if(null==n.insertAt?i.push(n):i.splice(Math.min(i.length,Math.max(0,n.insertAt)),0,n),n.line=e,o&&!He(t,e)){var r=Ye(e)<t.scrollTop;Zt(e,e.height+wi(n)),r&&Lr(o,n.height),o.curOp.forceUpdate=!0}return!0})),o&&li(o,"lineWidgetAdded",o,n,"number"==typeof e?e:$t(e)),n}(this,t,e,i)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return To(this,le(this,t),le(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return To(this,t=le(this,t),t,i,"bookmark")},findMarksAt:function(t){var e=[],i=Vt(this,(t=le(this,t)).line).markedSpans;if(i)for(var r=0;r<i.length;++r){var n=i[r];(null==n.from||n.from<=t.ch)&&(null==n.to||n.to>=t.ch)&&e.push(n.marker.parent||n.marker)}return e},findMarks:function(t,e,i){t=le(this,t),e=le(this,e);var r=[],n=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&n==t.line&&t.ch>=l.to||null==l.from&&n!=t.line||null!=l.from&&n==e.line&&l.from>=e.ch||i&&!i(l.marker)||r.push(l.marker.parent||l.marker)}++n})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var i=e.markedSpans;if(i)for(var r=0;r<i.length;++r)null!=i[r].from&&t.push(i[r].marker)})),t},posFromIndex:function(t){var e,i=this.first,r=this.lineSeparator().length;return this.iter((function(n){var o=n.text.length+r;if(o>t)return e=t,!0;t-=o,++i})),le(this,ee(i,e))},indexFromPos:function(t){var e=(t=le(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+i})),e},copy:function(t){var e=new Po(Kt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var r=new Po(Kt(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=r.find(),o=t.clipPos(n.from),s=t.clipPos(n.to);if(ie(o,s)){var a=To(t,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,Do(this)),r},unlinkDoc:function(t){if(t instanceof As&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Lo(Do(this));break}if(t.history==this.history){var i=[t.id];In(t,(function(t){return i.push(t.id)}),!0),t.history=new Fn(null),t.history.done=Vn(this.history.done,i),t.history.undone=Vn(this.history.undone,i)}},iterLinkedDocs:function(t){In(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Pt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:rn((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Qr(e=this.cm,(function(){jn(e),dr(e)})))}))})).eachLine=Po.prototype.iter;var Eo=0;function No(t){var e=this;if(Io(e),!mt(e,t)&&!ki(e.display,t)){bt(t),a&&(Eo=+new Date);var i=hr(e,t,!0),r=t.dataTransfer.files;if(i&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var n=r.length,o=Array(n),s=0,l=function(){++s==n&&tn(e,(function(){var t={from:i=le(e.doc,i),to:i,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};co(e.doc,t),Qn(e.doc,Mn(le(e.doc,i),le(e.doc,Tn(t))))}))()},h=function(t,i){if(e.options.allowDropFileTypes&&-1==W(e.options.allowDropFileTypes,t.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[i]=t),l()},r.readAsText(t)}},c=0;c<r.length;c++)h(r[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var d=t.dataTransfer.getData("Text");if(d){var u;if(e.state.draggingText&&!e.state.draggingText.copy&&(u=e.listSelections()),eo(e.doc,Mn(i,i)),u)for(var p=0;p<u.length;++p)mo(e.doc,"",u[p].anchor,u[p].head,"drag");e.replaceSelection(d,"around","paste"),e.display.input.focus()}}catch(f){}}}}function Io(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function zo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],r=0;r<e.length;r++){var n=e[r].CodeMirror;n&&i.push(n)}i.length&&i[0].operation((function(){for(var e=0;e<i.length;e++)t(i[e])}))}}var jo=!1;function Fo(){var t;jo||(ut(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,zo(Bo)}),100))})),ut(window,"blur",(function(){return zo(_r)})),jo=!0)}function Bo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wo=0;Wo<10;Wo++)Ro[Wo+48]=Ro[Wo+96]=String(Wo);for(var Ho=65;Ho<=90;Ho++)Ro[Ho]=String.fromCharCode(Ho);for(var Go=1;Go<=12;Go++)Ro[Go+111]=Ro[Go+63235]="F"+Go;var Yo={};function Xo(t){var e,i,r,n,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))n=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),n&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Uo(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==r){delete t[i];continue}for(var n=Z(i.split(" "),Xo),o=0;o<n.length;o++){var s=void 0,a=void 0;o==n.length-1?(a=n.join(" "),s=r):(a=n.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var h in e)t[h]=e[h];return t}function Vo(t,e,i,r){var n=(e=$o(e)).call?e.call(t,r):e[t];if(!1===n)return"nothing";if("..."===n)return"multi";if(null!=n&&i(n))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Vo(t,e.fallthrough,i,r);for(var o=0;o<e.fallthrough.length;o++){var s=Vo(t,e.fallthrough[o],i,r);if(s)return s}}}function qo(t){var e="string"==typeof t?t:Ro[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Ko(t,e,i){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(C?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(C?e.ctrlKey:e.metaKey)&&"Mod"!=r&&(t="Cmd-"+t),!i&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Zo(t,e){if(u&&34==t.keyCode&&t.char)return!1;var i=Ro[t.keyCode];return null!=i&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(i=t.code),Ko(i,t,e))}function $o(t){return"string"==typeof t?Yo[t]:t}function Jo(t,e){for(var i=t.doc.sel.ranges,r=[],n=0;n<i.length;n++){for(var o=e(i[n]);r.length&&ie(o.from,K(r).to)<=0;){var s=r.pop();if(ie(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Qr(t,(function(){for(var e=r.length-1;e>=0;e--)mo(t.doc,"",r[e].from,r[e].to,"+delete");Or(t)}))}function Qo(t,e,i){var r=ot(t.text,e+i,i);return r<0||r>t.text.length?null:r}function ts(t,e,i){var r=Qo(t,e.ch,i);return null==r?null:new ee(e.line,r,i<0?"after":"before")}function es(t,e,i,r,n){if(t){"rtl"==e.doc.direction&&(n=-n);var o=ct(i,e.doc.direction);if(o){var s,a=n<0?K(o):o[0],l=n<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var h=Pi(e,i);s=n<0?i.text.length-1:0;var c=Ei(e,h,s).top;s=st((function(t){return Ei(e,h,t).top==c}),n<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Qo(i,s,1))}else s=n<0?a.to:a.from;return new ee(r,s,l)}}return new ee(r,n<0?i.text.length:0,n<0?"before":"after")}Yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Yo.default=x?Yo.macDefault:Yo.pcDefault;var is={selectAll:lo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return Jo(t,(function(e){if(e.empty()){var i=Vt(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:ee(e.head.line+1,0)}:{from:e.head,to:ee(e.head.line,i)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Jo(t,(function(e){return{from:ee(e.from().line,0),to:le(t.doc,ee(e.to().line+1,0))}}))},delLineLeft:function(t){return Jo(t,(function(t){return{from:ee(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Jo(t,(function(e){var i=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:i},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return Jo(t,(function(e){var i=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(ee(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(ee(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return rs(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ns(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var i=Vt(t.doc,e),r=function(t){for(var e;e=ze(t);)t=e.find(1,!0).line;return t}(i);return r!=i&&(e=$t(r)),es(!0,t,i,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")}),X)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")}),X)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:i},"div");return r.ch<t.getLine(r.line).search(/\S/)?ns(t,e.head):r}),X)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),r=t.options.tabSize,n=0;n<i.length;n++){var o=i[n].from(),s=B(t.getLine(o.line),o.ch,r);e.push(q(r-s%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Qr(t,(function(){for(var e=t.listSelections(),i=[],r=0;r<e.length;r++)if(e[r].empty()){var n=e[r].head,o=Vt(t.doc,n.line).text;if(o)if(n.ch==o.length&&(n=new ee(n.line,n.ch-1)),n.ch>0)n=new ee(n.line,n.ch+1),t.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),ee(n.line,n.ch-2),n,"+transpose");else if(n.line>t.doc.first){var s=Vt(t.doc,n.line-1).text;s&&(n=new ee(n.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),ee(n.line-1,s.length-1),n,"+transpose"))}i.push(new Sn(n,n))}t.setSelections(i)}))},newlineAndIndent:function(t){return Qr(t,(function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Or(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function rs(t,e){var i=Vt(t.doc,e),r=Be(i);return r!=i&&(e=$t(r)),es(!0,t,r,e,1)}function ns(t,e){var i=rs(t,e.line),r=Vt(t.doc,i.line),n=ct(r,t.doc.direction);if(!n||0==n[0].level){var o=Math.max(i.ch,r.text.search(/\S/)),s=e.line==i.line&&e.ch<=o&&e.ch;return ee(i.line,s?0:o,i.sticky)}return i}function os(t,e,i){if("string"==typeof e&&!(e=is[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),n=e(t)!=H}finally{t.display.shift=r,t.state.suppressEdits=!1}return n}var ss=new R;function as(t,e,i,r){var n=t.state.keySeq;if(n){if(qo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ss.set(50,(function(){t.state.keySeq==n&&(t.state.keySeq=null,t.display.input.reset())})),ls(t,n+" "+e,i,r))return!0}return ls(t,e,i,r)}function ls(t,e,i,r){var n=function(t,e,i){for(var r=0;r<t.state.keyMaps.length;r++){var n=Vo(e,t.state.keyMaps[r],i,t);if(n)return n}return t.options.extraKeys&&Vo(e,t.options.extraKeys,i,t)||Vo(e,t.options.keyMap,i,t)}(t,e,r);return"multi"==n&&(t.state.keySeq=e),"handled"==n&&li(t,"keyHandled",t,e,i),"handled"!=n&&"multi"!=n||(bt(i),wr(t)),!!n}function hs(t,e){var i=Zo(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?as(t,"Shift-"+i,e,(function(e){return os(t,e,!0)}))||as(t,i,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return os(t,e)})):as(t,i,e,(function(e){return os(t,e)})))}var cs=null;function ds(t){var e=this;if((!t.target||t.target==e.display.input.getField())&&(e.curOp.focus=E(),!mt(e,t))){a&&l<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var n=hs(e,t);u&&(cs=n?r:null,n||88!=r||Nt||!(x?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),i&&!x&&!n&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function i(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),ft(document,"keyup",i),ft(document,"mouseover",i))}N(e,"CodeMirror-crosshair"),ut(document,"keyup",i),ut(document,"mouseover",i)}(e)}}function us(t){16==t.keyCode&&(this.doc.sel.shift=!1),mt(this,t)}function ps(t){var e=this;if((!t.target||t.target==e.display.input.getField())&&!(ki(e.display,t)||mt(e,t)||t.ctrlKey&&!t.altKey||x&&t.metaKey)){var i=t.keyCode,r=t.charCode;if(u&&i==cs)return cs=null,void bt(t);if(!u||t.which&&!(t.which<10)||!hs(e,t)){var n=String.fromCharCode(null==r?i:r);"\b"!=n&&(function(t,e,i){return as(t,"'"+i+"'",e,(function(e){return os(t,e,!0)}))}(e,t,n)||e.display.input.onKeyPress(t))}}}var fs,gs,ms=function(t,e,i){this.time=t,this.pos=e,this.button=i};function vs(t){var e=this,i=e.display;if(!(mt(e,t)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=t.shiftKey,ki(i,t))h||(i.scroller.draggable=!1,setTimeout((function(){return i.scroller.draggable=!0}),100));else if(!bs(e,t)){var r=hr(e,t),n=_t(t),o=r?function(t,e){var i=+new Date;return gs&&gs.compare(i,t,e)?(fs=gs=null,"triple"):fs&&fs.compare(i,t,e)?(gs=new ms(i,t,e),fs=null,"double"):(fs=new ms(i,t,e),gs=null,"single")}(r,n):"single";window.focus(),1==n&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,i,r,n){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),as(t,Ko(o=(1==e?"Left":2==e?"Middle":"Right")+o,n),n,(function(e){if("string"==typeof e&&(e=is[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,i)!=H}finally{t.state.suppressEdits=!1}return r}))}(e,n,r,o,t)||(1==n?r?function(t,e,i,r){a?setTimeout(j(kr,t),0):t.curOp.focus=E();var n,o=function(t,e,i){var r=t.getOption("configureMouse"),n=r?r(t,e,i):{};if(null==n.unit){var o=b?i.shiftKey&&i.metaKey:i.altKey;n.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==n.extend||t.doc.extend)&&(n.extend=t.doc.extend||i.shiftKey),null==n.addNew&&(n.addNew=x?i.metaKey:i.ctrlKey),null==n.moveOnDrag&&(n.moveOnDrag=!(x?i.altKey:i.ctrlKey)),n}(t,i,r),s=t.doc.sel;t.options.dragDrop&&At&&!t.isReadOnly()&&"single"==i&&(n=s.contains(e))>-1&&(ie((n=s.ranges[n]).from(),e)<0||e.xRel>0)&&(ie(n.to(),e)>0||e.xRel<0)?function(t,e,i,r){var n=t.display,o=!1,s=tn(t,(function(e){h&&(n.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Cr(t)),ft(n.wrapper.ownerDocument,"mouseup",s),ft(n.wrapper.ownerDocument,"mousemove",c),ft(n.scroller,"dragstart",d),ft(n.scroller,"drop",s),o||(bt(e),r.addNew||Kn(t.doc,i,null,null,r.extend),h&&!p||a&&9==l?setTimeout((function(){n.wrapper.ownerDocument.body.focus({preventScroll:!0}),n.input.focus()}),20):n.input.focus())})),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},d=function(){return o=!0};h&&(n.scroller.draggable=!0),t.state.draggingText=s,s.copy=!r.moveOnDrag,ut(n.wrapper.ownerDocument,"mouseup",s),ut(n.wrapper.ownerDocument,"mousemove",c),ut(n.scroller,"dragstart",d),ut(n.scroller,"drop",s),t.state.delayingBlurEvent=!0,setTimeout((function(){return n.input.focus()}),20),n.scroller.dragDrop&&n.scroller.dragDrop()}(t,r,e,o):function(t,e,i,r){a&&Cr(t);var n=t.display,o=t.doc;bt(e);var s,l,h=o.sel,c=h.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(i),s=l>-1?c[l]:new Sn(i,i)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new Sn(i,i)),i=hr(t,e,!0,!0),l=-1;else{var d=ys(t,i,r.unit);s=r.extend?qn(s,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=c.length,to(o,_n(t,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==r.unit&&!r.extend?(to(o,_n(t,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),h=o.sel):$n(o,l,s,Y):(l=0,to(o,new Cn([s],0),Y),h=o.sel);var u=i;function p(e){if(0!=ie(u,e))if(u=e,"rectangle"==r.unit){for(var n=[],a=t.options.tabSize,c=B(Vt(o,i.line).text,i.ch,a),d=B(Vt(o,e.line).text,e.ch,a),p=Math.min(c,d),f=Math.max(c,d),g=Math.min(i.line,e.line),m=Math.min(t.lastLine(),Math.max(i.line,e.line));g<=m;g++){var v=Vt(o,g).text,y=U(v,p,a);p==f?n.push(new Sn(ee(g,y),ee(g,y))):v.length>y&&n.push(new Sn(ee(g,y),ee(g,U(v,f,a))))}n.length||n.push(new Sn(i,i)),to(o,_n(t,h.ranges.slice(0,l).concat(n),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var x,b=s,w=ys(t,e,r.unit),k=b.anchor;ie(w.anchor,k)>0?(x=w.head,k=se(b.from(),w.anchor)):(x=w.anchor,k=oe(b.to(),w.head));var C=h.ranges.slice(0);C[l]=function(t,e){var i=e.anchor,r=e.head,n=Vt(t.doc,i.line);if(0==ie(i,r)&&i.sticky==r.sticky)return e;var o=ct(n);if(!o)return e;var s=lt(o,i.ch,i.sticky),a=o[s];if(a.from!=i.ch&&a.to!=i.ch)return e;var l,h=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==h||h==o.length)return e;if(r.line!=i.line)l=(r.line-i.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=lt(o,r.ch,r.sticky),d=c-s||(r.ch-i.ch)*(1==a.level?-1:1);l=c==h-1||c==h?d<0:d>0}var u=o[h+(l?-1:0)],p=l==(1==u.level),f=p?u.from:u.to,g=p?"after":"before";return i.ch==f&&i.sticky==g?e:new Sn(new ee(i.line,f,g),r)}(t,new Sn(le(o,k),x)),to(o,_n(t,C,l),Y)}}var f=n.wrapper.getBoundingClientRect(),g=0;function m(e){var i=++g,s=hr(t,e,!0,"rectangle"==r.unit);if(s)if(0!=ie(s,u)){t.curOp.focus=E(),p(s);var a=Ar(n,o);(s.line>=a.to||s.line<a.from)&&setTimeout(tn(t,(function(){g==i&&m(e)})),150)}else{var l=e.clientY<f.top?-20:e.clientY>f.bottom?20:0;l&&setTimeout(tn(t,(function(){g==i&&(n.scroller.scrollTop+=l,m(e))})),50)}}function v(e){t.state.selectingText=!1,g=1/0,e&&(bt(e),n.input.focus()),ft(n.wrapper.ownerDocument,"mousemove",y),ft(n.wrapper.ownerDocument,"mouseup",x),o.history.lastSelOrigin=null}var y=tn(t,(function(t){0!==t.buttons&&_t(t)?m(t):v(t)})),x=tn(t,v);t.state.selectingText=x,ut(n.wrapper.ownerDocument,"mousemove",y),ut(n.wrapper.ownerDocument,"mouseup",x)}(t,r,e,o)}(e,r,o,t):St(t)==i.scroller&&bt(t):2==n?(r&&Kn(e.doc,r),setTimeout((function(){return i.input.focus()}),20)):3==n&&(S?e.display.input.onContextMenu(t):Cr(e)))}}function ys(t,e,i){if("char"==i)return new Sn(e,e);if("word"==i)return t.findWordAt(e);if("line"==i)return new Sn(ee(e.line,0),le(t.doc,ee(e.line+1,0)));var r=i(t,e);return new Sn(r.from,r.to)}function xs(t,e,i,r){var n,o;if(e.touches)n=e.touches[0].clientX,o=e.touches[0].clientY;else try{n=e.clientX,o=e.clientY}catch(c){return!1}if(n>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&bt(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!yt(t,i))return kt(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var h=s.gutters.childNodes[l];if(h&&h.getBoundingClientRect().right>=n)return gt(t,i,t,Jt(t.doc,o),t.display.gutterSpecs[l].className,e),kt(e)}}function bs(t,e){return xs(t,e,"gutterClick",!0)}function ws(t,e){ki(t.display,e)||function(t,e){return!!yt(t,"gutterContextMenu")&&xs(t,e,"gutterContextMenu",!1)}(t,e)||mt(t,e,"contextmenu")||S||t.display.input.onContextMenu(e)}function ks(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ri(t)}ms.prototype.compare=function(t,e,i){return this.time+400>t&&0==ie(e,this.pos)&&i==this.button};var Cs={toString:function(){return"CodeMirror.Init"}},Ss={},_s={};function Ms(t,e,i){if(!e!=!(i&&i!=Cs)){var r=t.display.dragFunctions,n=e?ut:ft;n(t.display.scroller,"dragstart",r.start),n(t.display.scroller,"dragenter",r.enter),n(t.display.scroller,"dragover",r.over),n(t.display.scroller,"dragleave",r.leave),n(t.display.scroller,"drop",r.drop)}}function Ts(t){t.options.lineWrapping?(N(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),Ue(t)),lr(t),dr(t),Ri(t),setTimeout((function(){return Wr(t)}),100)}function As(t,e){var i=this;if(!(this instanceof As))return new As(t,e);this.options=e=e?F(e):{},F(Ss,e,!1);var r=e.value;"string"==typeof r?r=new Po(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var n=new As.inputStyles[e.inputStyle](this),o=this.display=new vn(t,r,n,e);for(var s in o.wrapper.CodeMirror=this,ks(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Yr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},e.autofocus&&!y&&o.input.focus(),a&&l<11&&setTimeout((function(){return i.display.input.reset(!0)}),20),function(t){var e=t.display;ut(e.scroller,"mousedown",tn(t,vs)),ut(e.scroller,"dblclick",a&&l<11?tn(t,(function(e){if(!mt(t,e)){var i=hr(t,e);if(i&&!bs(t,e)&&!ki(t.display,e)){bt(e);var r=t.findWordAt(i);Kn(t.doc,r.anchor,r.head)}}})):function(e){return mt(t,e)||bt(e)}),ut(e.scroller,"contextmenu",(function(e){return ws(t,e)})),ut(e.input.getField(),"contextmenu",(function(i){e.scroller.contains(i.target)||ws(t,i)}));var i,r={end:0};function n(){e.activeTouch&&(i=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function s(t,e){if(null==e.left)return!0;var i=e.left-t.left,r=e.top-t.top;return i*i+r*r>400}ut(e.scroller,"touchstart",(function(n){if(!mt(t,n)&&!o(n)&&!bs(t,n)){e.input.ensurePolled(),clearTimeout(i);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==n.touches.length&&(e.activeTouch.left=n.touches[0].pageX,e.activeTouch.top=n.touches[0].pageY)}})),ut(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),ut(e.scroller,"touchend",(function(i){var r=e.activeTouch;if(r&&!ki(e,i)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=t.coordsChar(e.activeTouch,"page");o=!r.prev||s(r,r.prev)?new Sn(a,a):!r.prev.prev||s(r,r.prev.prev)?t.findWordAt(a):new Sn(ee(a.line,0),le(t.doc,ee(a.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),bt(i)}n()})),ut(e.scroller,"touchcancel",n),ut(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Ir(t,e.scroller.scrollTop),jr(t,e.scroller.scrollLeft,!0),gt(t,"scroll",t))})),ut(e.scroller,"mousewheel",(function(e){return kn(t,e)})),ut(e.scroller,"DOMMouseScroll",(function(e){return kn(t,e)})),ut(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){mt(t,e)||Ct(e)},over:function(e){mt(t,e)||(function(t,e){var i=hr(t,e);if(i){var r=document.createDocumentFragment();yr(t,i,r),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),D(t.display.dragCursor,r)}}(t,e),Ct(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Eo<100))Ct(e);else if(!mt(t,e)&&!ki(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!p)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),u&&i.parentNode.removeChild(i)}}(t,e)},drop:tn(t,No),leave:function(e){mt(t,e)||Io(t)}};var h=e.input.getField();ut(h,"keyup",(function(e){return us.call(t,e)})),ut(h,"keydown",tn(t,ds)),ut(h,"keypress",tn(t,ps)),ut(h,"focus",(function(e){return Sr(t,e)})),ut(h,"blur",(function(e){return _r(t,e)}))}(this),Fo(),Ur(this),this.curOp.forceUpdate=!0,zn(this,r),e.autofocus&&!y||this.hasFocus()?setTimeout((function(){i.hasFocus()&&!i.state.focused&&Sr(i)}),20):_r(this),_s)_s.hasOwnProperty(s)&&_s[s](this,e[s],Cs);pn(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ds.length;++c)Ds[c](this);Vr(this),h&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}As.defaults=Ss,As.optionHandlers=_s;var Ds=[];function Ls(t,e,i,r){var n,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?n=fe(t,e).state:i="prev");var s=t.options.tabSize,a=Vt(o,e),l=B(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var h,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==i&&((h=o.mode.indent(n,a.text.slice(c.length),a.text))==H||h>150)){if(!r)return;i="prev"}}else h=0,i="not";"prev"==i?h=e>o.first?B(Vt(o,e-1).text,null,s):0:"add"==i?h=l+t.options.indentUnit:"subtract"==i?h=l-t.options.indentUnit:"number"==typeof i&&(h=l+i),h=Math.max(0,h);var d="",u=0;if(t.options.indentWithTabs)for(var p=Math.floor(h/s);p;--p)u+=s,d+="\t";if(u<h&&(d+=q(h-u)),d!=c)return mo(o,d,ee(e,0),ee(e,c.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];if(g.head.line==e&&g.head.ch<c.length){var m=ee(e,c.length);$n(o,f,new Sn(m,m));break}}}As.defineInitHook=function(t){return Ds.push(t)};var Os=null;function Ps(t){Os=t}function Es(t,e,i,r,n){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==n||t.state.pasteIncoming>s,l=Pt(e),h=null;if(a&&r.ranges.length>1)if(Os&&Os.text.join("\n")==e){if(r.ranges.length%Os.text.length==0){h=[];for(var c=0;c<Os.text.length;c++)h.push(o.splitLines(Os.text[c]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(h=Z(l,(function(t){return[t]})));for(var d=t.curOp.updateInput,u=r.ranges.length-1;u>=0;u--){var p=r.ranges[u],f=p.from(),g=p.to();p.empty()&&(i&&i>0?f=ee(f.line,f.ch-i):t.state.overwrite&&!a?g=ee(g.line,Math.min(Vt(o,g.line).text.length,g.ch+K(l).length)):a&&Os&&Os.lineWise&&Os.text.join("\n")==l.join("\n")&&(f=g=ee(f.line,0)));var m={from:f,to:g,text:h?h[u%h.length]:l,origin:n||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};co(t.doc,m),li(t,"inputRead",t,m)}e&&!a&&Is(t,e),Or(t),t.curOp.updateInput<2&&(t.curOp.updateInput=d),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Ns(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Qr(e,(function(){return Es(e,i,0,null,"paste")})),!0}function Is(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,r=i.ranges.length-1;r>=0;r--){var n=i.ranges[r];if(!(n.head.ch>100||r&&i.ranges[r-1].head.line==n.head.line)){var o=t.getModeAt(n.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Ls(t,n.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Vt(t.doc,n.head.line).text.slice(0,n.head.ch))&&(s=Ls(t,n.head.line,"smart"));s&&li(t,"electricInput",t,n.head.line)}}}function zs(t){for(var e=[],i=[],r=0;r<t.doc.sel.ranges.length;r++){var n=t.doc.sel.ranges[r].head.line,o={anchor:ee(n,0),head:ee(n+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function js(t,e,i,r){t.setAttribute("autocorrect",i?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function Fs(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),js(t),e}function Bs(t,e,i,r,n){var o=e,s=i,a=Vt(t,e.line),l=n&&"rtl"==t.direction?-i:i;function h(o){var s,h;if("codepoint"==r){var c=a.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(c))s=null;else{var d=i>0?c>=55296&&c<56320:c>=56320&&c<57343;s=new ee(e.line,Math.max(0,Math.min(a.text.length,e.ch+i*(d?2:1))),-i)}}else s=n?function(t,e,i,r){var n=ct(e,t.doc.direction);if(!n)return ts(e,i,r);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=lt(n,i.ch,i.sticky),s=n[o];if("ltr"==t.doc.direction&&s.level%2==0&&(r>0?s.to>i.ch:s.from<i.ch))return ts(e,i,r);var a,l=function(t,i){return Qo(e,t instanceof ee?t.ch:t,i)},h=function(i){return t.options.lineWrapping?(a=a||Pi(t,e),Ji(t,e,a,i)):{begin:0,end:e.text.length}},c=h("before"==i.sticky?l(i,-1):i.ch);if("rtl"==t.doc.direction||1==s.level){var d=1==s.level==r<0,u=l(i,d?1:-1);if(null!=u&&(d?u<=s.to&&u<=c.end:u>=s.from&&u>=c.begin)){var p=d?"before":"after";return new ee(i.line,u,p)}}var f=function(t,e,r){for(var o=function(t,e){return e?new ee(i.line,l(t,1),"before"):new ee(i.line,t,"after")};t>=0&&t<n.length;t+=e){var s=n[t],a=e>0==(1!=s.level),h=a?r.begin:l(r.end,-1);if(s.from<=h&&h<s.to)return o(h,a);if(h=a?s.from:l(s.to,-1),r.begin<=h&&h<r.end)return o(h,a)}},g=f(o+r,r,c);if(g)return g;var m=r>0?c.end:l(c.begin,-1);return null==m||r>0&&m==e.text.length||!(g=f(r>0?0:n.length-1,r,h(m)))?null:g}(t.cm,a,e,i):ts(a,e,i);if(null==s){if(o||(h=e.line+l)<t.first||h>=t.first+t.size||(e=new ee(h,e.ch,e.sticky),!(a=Vt(t,h))))return!1;e=es(n,t.cm,a,e.line,l)}else e=s;return!0}if("char"==r||"codepoint"==r)h();else if("column"==r)h(!0);else if("word"==r||"group"==r)for(var c=null,d="group"==r,u=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;!(i<0)||h(!p);p=!1){var f=a.text.charAt(e.ch)||"\n",g=et(f,u)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||p||g||(g="s"),c&&c!=g){i<0&&(i=1,h(),e.sticky="after");break}if(g&&(c=g),i>0&&!h(!p))break}var m=so(t,e,o,s,!0);return re(o,m)&&(m.hitSide=!0),m}function Rs(t,e,i,r){var n,o,s=t.doc,a=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),h=Math.max(l-.5*rr(t.display),3);n=(i>0?e.bottom:e.top)+i*h}else"line"==r&&(n=i>0?e.bottom+3:e.top-3);for(;(o=Zi(t,a,n)).outside;){if(i<0?n<=0:n>=s.height){o.hitSide=!0;break}n+=5*i}return o}var Ws=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Hs(t,e){var i=Oi(t,e.line);if(!i||i.hidden)return null;var r=Vt(t.doc,e.line),n=Di(i,r,e.line),o=ct(r,t.doc.direction),s="left";o&&(s=lt(o,e.ch)%2?"right":"left");var a=zi(n.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Gs(t,e){return e&&(t.bad=!0),t}function Ys(t,e,i){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[i]))return Gs(t.clipPos(ee(t.display.viewTo-1)),!0);e=null,i=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var n=0;n<t.display.view.length;n++){var o=t.display.view[n];if(o.node==r)return Xs(o,e,i)}}function Xs(t,e,i){var r=t.text.firstChild,n=!1;if(!e||!P(r,e))return Gs(ee($t(t.line),0),!0);if(e==r&&(n=!0,e=r.childNodes[i],i=0,!e)){var o=t.rest?K(t.rest):t.line;return Gs(ee($t(o),o.text.length),n)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=t.measure,h=l.maps;function c(e,i,r){for(var n=-1;n<(h?h.length:0);n++)for(var o=n<0?l.map:h[n],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==i){var c=$t(n<0?t.line:t.rest[n]),d=o[s]+r;return(r<0||a!=e)&&(d=o[s+(r?1:0)]),ee(c,d)}}}var d=c(s,a,i);if(d)return Gs(d,n);for(var u=a.nextSibling,p=s?s.nodeValue.length-i:0;u;u=u.nextSibling){if(d=c(u,u.firstChild,0))return Gs(ee(d.line,d.ch-p),n);p+=u.textContent.length}for(var f=a.previousSibling,g=i;f;f=f.previousSibling){if(d=c(f,f.firstChild,-1))return Gs(ee(d.line,d.ch+g),n);g+=f.textContent.length}}Ws.prototype.init=function(t){var e=this,i=this,r=i.cm,n=i.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function s(t){if(o(t)&&!mt(r,t)){if(r.somethingSelected())Ps({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=zs(r);Ps({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,G),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Os.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var a=Fs(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Os.text.join("\n");var h=E();z(l),setTimeout((function(){r.display.lineSpace.removeChild(a),h.focus(),h==n&&i.showPrimarySelection()}),50)}}n.contentEditable=!0,js(n,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ut(n,"paste",(function(t){!o(t)||mt(r,t)||Ns(t,r)||l<=11&&setTimeout(tn(r,(function(){return e.updateFromDOM()})),20)})),ut(n,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),ut(n,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),ut(n,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),ut(n,"touchstart",(function(){return i.forceCompositionEnd()})),ut(n,"input",(function(){e.composing||e.readFromDOMSoon()})),ut(n,"copy",s),ut(n,"cut",s)},Ws.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ws.prototype.prepareSelection=function(){var t=vr(this.cm,!1);return t.focus=E()==this.div,t},Ws.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ws.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ws.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),n=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Ys(e,t.anchorNode,t.anchorOffset),a=Ys(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=ie(se(s,a),n)||0!=ie(oe(s,a),o)){var l=e.display.view,h=n.line>=e.display.viewFrom&&Hs(e,n)||{node:l[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&Hs(e,o);if(!c){var d=l[l.length-1].measure,u=d.maps?d.maps[d.maps.length-1]:d.map;c={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}if(h&&c){var p,f=t.rangeCount&&t.getRangeAt(0);try{p=M(h.node,h.offset,c.offset,c.node)}catch(Ot){}p&&(!i&&e.state.focused?(t.collapse(h.node,h.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),f&&null==t.anchorNode?t.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ws.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Ws.prototype.showMultipleSelections=function(t){D(this.cm.display.cursorDiv,t.cursors),D(this.cm.display.selectionDiv,t.selection)},Ws.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ws.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return P(this.div,e)},Ws.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&E()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ws.prototype.blur=function(){this.div.blur()},Ws.prototype.getField=function(){return this.div},Ws.prototype.supportsTouch=function(){return!0},Ws.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Qr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},Ws.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ws.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(v&&d&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Ys(e,t.anchorNode,t.anchorOffset),r=Ys(e,t.focusNode,t.focusOffset);i&&r&&Qr(e,(function(){to(e.doc,Mn(i,r),G),(i.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},Ws.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,i,r=this.cm,n=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=ee(s.line-1,Vt(r.doc,s.line-1).length)),a.ch==Vt(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=ee(a.line+1,0)),s.line<n.viewFrom||a.line>n.viewTo-1)return!1;s.line==n.viewFrom||0==(t=cr(r,s.line))?(e=$t(n.view[0].line),i=n.view[0].node):(e=$t(n.view[t].line),i=n.view[t-1].node.nextSibling);var l,h,c=cr(r,a.line);if(c==n.view.length-1?(l=n.viewTo-1,h=n.lineDiv.lastChild):(l=$t(n.view[c+1].line)-1,h=n.view[c+1].node.previousSibling),!i)return!1;for(var d=r.doc.splitLines(function(t,e,i,r,n){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function h(t){return function(e){return e.id==t}}function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function d(t){t&&(c(),o+=t)}function u(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(i)return void d(i);var o,p=e.getAttribute("cm-marker");if(p){var f=t.findMarks(ee(r,0),ee(n+1,0),h(+p));return void(f.length&&(o=f[0].find(0))&&d(qt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;g&&c();for(var m=0;m<e.childNodes.length;m++)u(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),g&&(s=!0)}else 3==e.nodeType&&d(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;u(e),e!=i;)e=e.nextSibling,l=!1;return o}(r,i,h,e,l)),u=qt(r.doc,ee(e,0),ee(l,Vt(r.doc,l).text.length));d.length>1&&u.length>1;)if(K(d)==K(u))d.pop(),u.pop(),l--;else{if(d[0]!=u[0])break;d.shift(),u.shift(),e++}for(var p=0,f=0,g=d[0],m=u[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=K(d),x=K(u),b=Math.min(y.length-(1==d.length?p:0),x.length-(1==u.length?p:0));f<b&&y.charCodeAt(y.length-f-1)==x.charCodeAt(x.length-f-1);)++f;if(1==d.length&&1==u.length&&e==s.line)for(;p&&p>s.ch&&y.charCodeAt(y.length-f-1)==x.charCodeAt(x.length-f-1);)p--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=ee(e,p),k=ee(l,u.length?K(u).length-f:0);return d.length>1||d[0]||ie(w,k)?(mo(r.doc,d,w,k,"+input"),!0):void 0},Ws.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ws.prototype.reset=function(){this.forceCompositionEnd()},Ws.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ws.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Ws.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Qr(this.cm,(function(){return dr(t.cm)}))},Ws.prototype.setUneditable=function(t){t.contentEditable="false"},Ws.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||tn(this.cm,Es)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ws.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ws.prototype.onContextMenu=function(){},Ws.prototype.resetPosition=function(){},Ws.prototype.needsContentAttribute=!0;var Us=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Us.prototype.init=function(t){var e=this,i=this,r=this.cm;this.createField(t);var n=this.textarea;function o(t){if(!mt(r,t)){if(r.somethingSelected())Ps({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=zs(r);Ps({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,G):(i.prevInput="",n.value=e.text.join("\n"),z(n))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(n.style.width="0px"),ut(n,"input",(function(){a&&l>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()})),ut(n,"paste",(function(t){mt(r,t)||Ns(t,r)||(r.state.pasteIncoming=+new Date,i.fastPoll())})),ut(n,"cut",o),ut(n,"copy",o),ut(t.scroller,"paste",(function(e){if(!ki(t,e)&&!mt(r,e)){if(!n.dispatchEvent)return r.state.pasteIncoming=+new Date,void i.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,n.dispatchEvent(o)}})),ut(t.lineSpace,"selectstart",(function(e){ki(t,e)||bt(e)})),ut(n,"compositionstart",(function(){var t=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),ut(n,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},Us.prototype.createField=function(t){this.wrapper=Fs(),this.textarea=this.wrapper.firstChild},Us.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Us.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,r=vr(t);if(t.options.moveInputWithCursor){var n=Vi(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+s.left-o.left))}return r},Us.prototype.showSelection=function(t){var e=this.cm.display;D(e.cursorDiv,t.cursors),D(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Us.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&z(this.textarea),a&&l>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},Us.prototype.getField=function(){return this.textarea},Us.prototype.supportsTouch=function(){return!1},Us.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||E()!=this.textarea))try{this.textarea.focus()}catch(Ot){}},Us.prototype.blur=function(){this.textarea.blur()},Us.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Us.prototype.receivedFocus=function(){this.slowPoll()},Us.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Us.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function i(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,i))}))},Us.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Et(i)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=i.value;if(n==r&&!e.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===n||x&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,h=Math.min(r.length,n.length);s<h&&r.charCodeAt(s)==n.charCodeAt(s);)++s;return Qr(e,(function(){Es(e,n.slice(s),r.length-s,null,t.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=n,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Us.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Us.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},Us.prototype.onContextMenu=function(t){var e=this,i=e.cm,r=i.display,n=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=hr(i,t),s=r.scroller.scrollTop;if(o&&!u){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(o)&&tn(i,to)(i.doc,Mn(o),G);var c,d=n.style.cssText,p=e.wrapper.style.cssText,f=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",n.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-f.top-5)+"px; left: "+(t.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",h&&(c=window.scrollY),r.input.focus(),h&&window.scrollTo(null,c),r.input.reset(),i.somethingSelected()||(n.value=e.prevInput=" "),e.contextMenuPending=m,r.selForContextMenu=i.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&g(),S?(Ct(t),ut(window,"mouseup",(function t(){ft(window,"mouseup",t),setTimeout(m,20)}))):setTimeout(m,50)}function g(){if(null!=n.selectionStart){var t=i.somethingSelected(),o="\u200b"+(t?n.value:"");n.value="\u21da",n.value=o,e.prevInput=t?"":"\u200b",n.selectionStart=1,n.selectionEnd=o.length,r.selForContextMenu=i.doc.sel}}function m(){if(e.contextMenuPending==m&&(e.contextMenuPending=!1,e.wrapper.style.cssText=p,n.style.cssText=d,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),null!=n.selectionStart)){(!a||a&&l<9)&&g();var t=0;r.detectingSelectAll=setTimeout((function o(){r.selForContextMenu==i.doc.sel&&0==n.selectionStart&&n.selectionEnd>0&&"\u200b"==e.prevInput?tn(i,lo)(i):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())}),200)}}},Us.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Us.prototype.setUneditable=function(){},Us.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function i(i,r,n,o){t.defaults[i]=r,n&&(e[i]=o?function(t,e,i){i!=Cs&&n(t,e,i)}:n)}t.defineOption=i,t.Init=Cs,i("value","",(function(t,e){return t.setValue(e)}),!0),i("mode",null,(function(t,e){t.doc.modeOption=e,On(t)}),!0),i("indentUnit",2,On,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,(function(t){Pn(t),Ri(t),dr(t)}),!0),i("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var i=[],r=t.doc.first;t.doc.iter((function(t){for(var n=0;;){var o=t.text.indexOf(e,n);if(-1==o)break;n=o+e.length,i.push(ee(r,o))}r++}));for(var n=i.length-1;n>=0;n--)mo(t.doc,e,i[n],ee(i[n].line,i[n].ch+e.length))}})),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=Cs&&t.refresh()})),i("specialCharPlaceholder",Qe,(function(t){return t.refresh()}),!0),i("electricChars",!0),i("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),i("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),i("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),i("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),i("rtlMoveVisually",!w),i("wholeLineUpdateBefore",!0),i("theme","default",(function(t){ks(t),mn(t)}),!0),i("keyMap","default",(function(t,e,i){var r=$o(e),n=i!=Cs&&$o(i);n&&n.detach&&n.detach(t,r),r.attach&&r.attach(t,n||null)})),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Ts,!0),i("gutters",[],(function(t,e){t.display.gutterSpecs=fn(e,t.options.lineNumbers),mn(t)}),!0),i("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?sr(t.display)+"px":"0",t.refresh()}),!0),i("coverGutterNextToScrollbar",!1,(function(t){return Wr(t)}),!0),i("scrollbarStyle","native",(function(t){Yr(t),Wr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),i("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=fn(t.options.gutters,e),mn(t)}),!0),i("firstLineNumber",1,mn,!0),i("lineNumberFormatter",(function(t){return t}),mn,!0),i("showCursorWhenSelecting",!1,mr,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,(function(t,e){"nocursor"==e&&(_r(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),i("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),i("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),i("dragDrop",!0,Ms),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,mr,!0),i("singleCursorHeightPerLine",!0,mr,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Pn,!0),i("addModeClass",!1,Pn,!0),i("pollInterval",100),i("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),i("historyEventDelay",1250),i("viewportMargin",10,(function(t){return t.refresh()}),!0),i("maxHighlightLength",1e4,Pn,!0),i("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),i("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),i("autofocus",null),i("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),i("phrases",null)}(As),function(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var r=this.options,n=r[t];r[t]==i&&"mode"!=t||(r[t]=i,e.hasOwnProperty(t)&&tn(this,e[t])(this,i,n),gt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"]($o(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:en((function(e,i){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,i){for(var r=0,n=i(e);r<t.length&&i(t[r])<=n;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},(function(t){return t.priority})),this.state.modeGen++,dr(this)})),removeOverlay:en((function(t){for(var e=this.state.overlays,i=0;i<e.length;++i){var r=e[i].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(i,1),this.state.modeGen++,void dr(this)}})),indentLine:en((function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Qt(this.doc,t)&&Ls(this,t,e,i)})),indentSelection:en((function(t){for(var e=this.doc.sel.ranges,i=-1,r=0;r<e.length;r++){var n=e[r];if(n.empty())n.head.line>i&&(Ls(this,n.head.line,t,!0),i=n.head.line,r==this.doc.sel.primIndex&&Or(this));else{var o=n.from(),s=n.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)Ls(this,l,t);var h=this.doc.sel.ranges;0==o.ch&&e.length==h.length&&h[r].from().ch>0&&$n(this.doc,r,new Sn(o,h[r].to()),G)}}})),getTokenAt:function(t,e){return xe(this,t,e)},getLineTokens:function(t,e){return xe(this,ee(t),e,!0)},getTokenTypeAt:function(t){t=le(this.doc,t);var e,i=pe(this,Vt(this.doc,t.line)),r=0,n=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var s=r+n>>1;if((s?i[2*s-1]:0)>=o)n=s;else{if(!(i[2*s+1]<o)){e=i[2*s+2];break}r=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!i.hasOwnProperty(e))return r;var n=i[e],o=this.getModeAt(t);if("string"==typeof o[e])n[o[e]]&&r.push(n[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=n[o[e][s]];a&&r.push(a)}else o.helperType&&n[o.helperType]?r.push(n[o.helperType]):n[o.name]&&r.push(n[o.name]);for(var l=0;l<n._global.length;l++){var h=n._global[l];h.pred(o,this)&&-1==W(r,h.val)&&r.push(h.val)}return r},getStateAfter:function(t,e){var i=this.doc;return fe(this,(t=ae(i,null==t?i.first+i.size-1:t))+1,e).state},cursorCoords:function(t,e){var i=this.doc.sel.primary();return Vi(this,null==t?i.head:"object"==s(t)?le(this.doc,t):t?i.from():i.to(),e||"page")},charCoords:function(t,e){return Ui(this,le(this.doc,t),e||"page")},coordsChar:function(t,e){return Zi(this,(t=Xi(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Xi(this,{top:t,left:0},e||"page").top,Jt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var r,n=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,n=!0),r=Vt(this.doc,t)}else r=t;return Yi(this,r,{top:0,left:0},e||"page",i||n).top+(n?this.doc.height-Ye(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,r,n){var o,s,a,l=this.display,h=(t=Vi(this,le(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)h=t.top;else if("above"==r||"near"==r){var d=Math.max(l.wrapper.clientHeight,this.doc.height),u=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>d)&&t.top>e.offsetHeight?h=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=d&&(h=t.bottom),c+e.offsetWidth>u&&(c=u-e.offsetWidth)}e.style.top=h+"px",e.style.left=e.style.right="","right"==n?(c=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==n?c=0:"middle"==n&&(c=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),i&&(o=this,s={left:c,top:h,right:c+e.offsetWidth,bottom:h+e.offsetHeight},null!=(a=Dr(o,s)).scrollTop&&Ir(o,a.scrollTop),null!=a.scrollLeft&&jr(o,a.scrollLeft))},triggerOnKeyDown:en(ds),triggerOnKeyPress:en(ps),triggerOnKeyUp:us,triggerOnMouseDown:en(vs),execCommand:function(t){if(is.hasOwnProperty(t))return is[t].call(null,this)},triggerElectric:en((function(t){Is(this,t)})),findPosH:function(t,e,i,r){var n=1;e<0&&(n=-1,e=-e);for(var o=le(this.doc,t),s=0;s<e&&!(o=Bs(this.doc,o,n,i,r)).hitSide;++s);return o},moveH:en((function(t,e){var i=this;this.extendSelectionsBy((function(r){return i.display.shift||i.doc.extend||r.empty()?Bs(i.doc,r.head,t,e,i.options.rtlMoveVisually):t<0?r.from():r.to()}),X)})),deleteH:en((function(t,e){var i=this.doc.sel,r=this.doc;i.somethingSelected()?r.replaceSelection("",null,"+delete"):Jo(this,(function(i){var n=Bs(r,i.head,t,e,!1);return t<0?{from:n,to:i.head}:{from:i.head,to:n}}))})),findPosV:function(t,e,i,r){var n=1,o=r;e<0&&(n=-1,e=-e);for(var s=le(this.doc,t),a=0;a<e;++a){var l=Vi(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Rs(this,l,n,i)).hitSide)break}return s},moveV:en((function(t,e){var i=this,r=this.doc,n=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=Vi(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),n.push(a.left);var l=Rs(i,a,t,e);return"page"==e&&s==r.sel.primary()&&Lr(i,Ui(i,l,"div").top-a.top),l}),X),n.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=n[s]})),findWordAt:function(t){var e=Vt(this.doc,t.line).text,i=t.ch,r=t.ch;if(e){var n=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!i?++r:--i;for(var o=e.charAt(i),s=et(o,n)?function(t){return et(t,n)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};i>0&&s(e.charAt(i-1));)--i;for(;r<e.length&&s(e.charAt(r));)++r}return new Sn(ee(t.line,i),ee(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),gt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:en((function(t,e){Pr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Mi(this)-this.display.barHeight,width:t.scrollWidth-Mi(this)-this.display.barWidth,clientHeight:Ai(this),clientWidth:Ti(this)}},scrollIntoView:en((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:ee(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Er(t),t.curOp.scrollToPos=e}(this,t):Nr(this,t.from,t.to,t.margin)})),setSize:en((function(t,e){var i=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&Bi(this);var n=this.display.viewFrom;this.doc.iter(n,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){ur(i,n,"widget");break}++n})),this.curOp.forceUpdate=!0,gt(this,"refresh",this)})),operation:function(t){return Qr(this,t)},startOperation:function(){return Ur(this)},endOperation:function(){return Vr(this)},refresh:en((function(){var t=this.display.cachedTextHeight;dr(this),this.curOp.forceUpdate=!0,Ri(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),cn(this.display),(null==t||Math.abs(t-rr(this.display))>.5||this.options.lineWrapping)&&lr(this),gt(this,"refresh",this)})),swapDoc:en((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),zn(this,t),Ri(this),this.display.input.reset(),Pr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,li(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xt(t),t.registerHelper=function(e,r,n){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][r]=n},t.registerGlobalHelper=function(e,r,n,o){t.registerHelper(e,r,o),i[e]._global.push({pred:n,val:o})}}(As);var Vs="iter insert remove copy getEditor constructor".split(" ");for(var qs in Po.prototype)Po.prototype.hasOwnProperty(qs)&&W(Vs,qs)<0&&(As.prototype[qs]=function(t){return function(){return t.apply(this.doc,arguments)}}(Po.prototype[qs]));return xt(Po),As.inputStyles={textarea:Us,contenteditable:Ws},As.defineMode=function(t){As.defaults.mode||"null"==t||(As.defaults.mode=t),Ft.apply(this,arguments)},As.defineMIME=function(t,e){jt[t]=e},As.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),As.defineMIME("text/plain","null"),As.defineExtension=function(t,e){As.prototype[t]=e},As.defineDocExtension=function(t,e){Po.prototype[t]=e},As.fromTextArea=function(t,e){if((e=e?F(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var i=E();e.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}function r(){t.value=a.getValue()}var n;if(t.form&&(ut(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;n=o.submit;try{var s=o.submit=function(){r(),o.submit=n,o.submit(),o.submit=s}}catch(Ot){}}e.finishInit=function(i){i.save=r,i.getTextArea=function(){return t},i.toTextArea=function(){i.toTextArea=isNaN,r(),t.parentNode.removeChild(i.getWrapperElement()),t.style.display="",t.form&&(ft(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=n))}},t.style.display="none";var a=As((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=ft,t.on=ut,t.wheelEventPixels=wn,t.Doc=Po,t.splitLines=Pt,t.countColumn=B,t.findColumn=U,t.isWordChar=tt,t.Pass=H,t.signal=gt,t.Line=Ve,t.changeEnd=Tn,t.scrollbarModel=Gr,t.Pos=ee,t.cmpPos=ie,t.modes=zt,t.mimeModes=jt,t.resolveMode=Bt,t.getMode=Rt,t.modeExtensions=Wt,t.extendMode=Ht,t.copyState=Gt,t.startState=Xt,t.innerMode=Yt,t.commands=is,t.keyMap=Yo,t.keyName=Zo,t.isModifierKey=qo,t.lookupKey=Vo,t.normalizeKeyMap=Uo,t.StringStream=Ut,t.SharedTextMarker=Ao,t.TextMarker=Mo,t.LineWidget=Co,t.e_preventDefault=bt,t.e_stopPropagation=wt,t.e_stop=Ct,t.addClass=N,t.contains=P,t.rmClass=T,t.keyNames=Ro}(As),As.version="5.61.1",As},"object"===s(e)&&"undefined"!==typeof t?t.exports=o():void 0===(n="function"===typeof(r=o)?r.call(e,i,e,t):r)||(t.exports=n)},,,function(t,e,i){(function(t){var r,n,o,s;function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",(function(r,n){var o,s,a=r.indentUnit,l={},h=n.htmlMode?e:i;for(var c in h)l[c]=h[c];for(var c in n)l[c]=n[c];function d(t,e){function i(i){return e.tokenize=i,i(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?i(p("atom","]]>")):null:t.match("--")?i(p("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(f(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=p("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=u,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function u(t,e){var i,r,n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=d,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){e.tokenize=d,e.state=y,e.tagName=e.tagStart=null;var s=e.tokenize(t,e);return s?s+" tag error":"tag error"}return/[\'\"]/.test(n)?(e.tokenize=(i=n,(r=function(t,e){for(;!t.eol();)if(t.next()==i){e.tokenize=u;break}return"string"}).isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(t,e){return function(i,r){for(;!i.eol();){if(i.match(e)){r.tokenize=d;break}i.next()}return t}}function f(t){return function(e,i){for(var r;null!=(r=e.next());){if("<"==r)return i.tokenize=f(t+1),i.tokenize(e,i);if(">"==r){if(1==t){i.tokenize=d;break}return i.tokenize=f(t-1),i.tokenize(e,i)}}return"meta"}}function g(t,e,i){this.prev=t.context,this.tagName=e||"",this.indent=t.indented,this.startOfLine=i,(l.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function m(t){t.context&&(t.context=t.context.prev)}function v(t,e){for(var i;;){if(!t.context)return;if(i=t.context.tagName,!l.contextGrabbers.hasOwnProperty(i)||!l.contextGrabbers[i].hasOwnProperty(e))return;m(t)}}function y(t,e,i){return"openTag"==t?(i.tagStart=e.column(),x):"closeTag"==t?b:y}function x(t,e,i){return"word"==t?(i.tagName=e.current(),s="tag",C):l.allowMissingTagName&&"endTag"==t?(s="tag bracket",C(t,0,i)):(s="error",x)}function b(t,e,i){if("word"==t){var r=e.current();return i.context&&i.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(i.context.tagName)&&m(i),i.context&&i.context.tagName==r||!1===l.matchClosing?(s="tag",w):(s="tag error",k)}return l.allowMissingTagName&&"endTag"==t?(s="tag bracket",w(t,0,i)):(s="error",k)}function w(t,e,i){return"endTag"!=t?(s="error",w):(m(i),y)}function k(t,e,i){return s="error",w(t,0,i)}function C(t,e,i){if("word"==t)return s="attribute",S;if("endTag"==t||"selfcloseTag"==t){var r=i.tagName,n=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==t||l.autoSelfClosers.hasOwnProperty(r)?v(i,r):(v(i,r),i.context=new g(i,r,n==i.indented)),y}return s="error",C}function S(t,e,i){return"equals"==t?_:(l.allowMissing||(s="error"),C(t,0,i))}function _(t,e,i){return"string"==t?M:"word"==t&&l.allowUnquoted?(s="string",C):(s="error",C(t,0,i))}function M(t,e,i){return"string"==t?M:C(t,0,i)}return d.isInText=!0,{startState:function(t){var e={tokenize:d,state:y,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var i=e.tokenize(t,e);return(i||o)&&"comment"!=i&&(s=null,e.state=e.state(o||i,t,e),s&&(i="error"==s?i+" error":s)),i},indent:function(e,i,r){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(n&&n.noIndent)return t.Pass;if(e.tokenize!=u&&e.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var o=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(o&&o[1])for(;n;){if(n.tagName==o[2]){n=n.prev;break}if(!l.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(o)for(;n;){var s=l.contextGrabbers[n.tagName];if(!s||!s.hasOwnProperty(o[2]))break;n=n.prev}for(;n&&n.prev&&!n.startOfLine;)n=n.prev;return n?n.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(t){t.state==_&&(t.state=C)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],i=t.context;i;i=i.prev)e.push(i.tagName);return e.reverse()}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})},"object"==a(e)&&"object"==a(t)?s(i(1)):(n=[i(1)],void 0===(o="function"===typeof(r=s)?r.apply(e,n):r)||(t.exports=o))}).call(this,i(3)(t))},function(t,e,i){(function(t){var r,n,o,s;function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var e=0;e<t.modeInfo.length;e++){var i=t.modeInfo[e];i.mimes&&(i.mime=i.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var r=t.modeInfo[i];if(r.mime==e)return r;if(r.mimes)for(var n=0;n<r.mimes.length;n++)if(r.mimes[n]==e)return r}return/\+xml$/.test(e)?t.findModeByMIME("application/xml"):/\+json$/.test(e)?t.findModeByMIME("application/json"):void 0},t.findModeByExtension=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var r=t.modeInfo[i];if(r.ext)for(var n=0;n<r.ext.length;n++)if(r.ext[n]==e)return r}},t.findModeByFileName=function(e){for(var i=0;i<t.modeInfo.length;i++){var r=t.modeInfo[i];if(r.file&&r.file.test(e))return r}var n=e.lastIndexOf("."),o=n>-1&&e.substring(n+1,e.length);if(o)return t.findModeByExtension(o)},t.findModeByName=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var r=t.modeInfo[i];if(r.name.toLowerCase()==e)return r;if(r.alias)for(var n=0;n<r.alias.length;n++)if(r.alias[n].toLowerCase()==e)return r}}},"object"==a(e)&&"object"==a(t)?s(i(1)):(n=[i(1)],void 0===(o="function"===typeof(r=s)?r.apply(e,n):r)||(t.exports=o))}).call(this,i(3)(t))},function(t,e,i){var r,n,o;!function(s){"use strict";n=[i(0)],void 0===(o="function"===typeof(r=function(t){return t.ui=t.ui||{},t.ui.version="1.13.0"})?r.apply(e,n):r)||(t.exports=o)}()},function(t,e,i){var r,n,o;function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function i(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function r(e,n){var o;for(o in n)"__proto__"!==o&&(i(n[o])||t(n[o])?(i(n[o])&&!i(e[o])&&(e[o]={}),t(n[o])&&!t(e[o])&&(e[o]=[]),r(e[o],n[o])):void 0!==n[o]&&(e[o]=n[o]))}function n(t,e){var i={};return r(i,t),r(i,e),i}var o=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function a(t){return""+t}function l(t){return parseFloat(t)}function h(t){var e,i,r,n;if("object"!==s(t))if("number"===typeof t)t=new Date(1e3*t);else{if(e=(t=a(t)).match(o))return i=parseInt(e[1],10),r=parseInt(e[3],10)-1,n=parseInt(e[5],10),new Date(i,r,n);var l=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=new Date(Date.parse(l)||t)}return t}function c(e){if(!t(e)){var i,r=[];for(i in e)e.hasOwnProperty(i)&&r.push([i,e[i]]);e=r}return e}function d(t,e,i,r,o,s,a,l){return function(h,c,d){var u=h.data,p=n({},t);return p=n(p,d||{}),(h.singleSeriesFormat||"legend"in c)&&e(p,c.legend,h.singleSeriesFormat),c.title&&i(p,c.title),"min"in c?r(p,c.min):function(t){var e,i,r;for(e=0;e<t.length;e++)for(r=t[e].data,i=0;i<r.length;i++)if(r[i][1]<0)return!0;return!1}(u)||r(p,0),c.max&&o(p,c.max),"stacked"in c&&s(p,c.stacked),c.colors&&(p.colors=c.colors),c.xtitle&&a(p,c.xtitle),c.ytitle&&l(p,c.ytitle),p=n(p,c.library||{})}}function u(t,e){return t[0].getTime()-e[0].getTime()}function p(t,e){return t[0]-e[0]}function f(t,e){return t-e}function g(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function m(t){return g(t)&&0===t.getMinutes()}function v(t){return m(t)&&0===t.getHours()}function y(t,e){return v(t)&&t.getDay()===e}function x(t){return v(t)&&1===t.getDate()}function b(t){return x(t)&&0===t.getMonth()}function w(t){return!isNaN(h(t))&&a(t).length>=6}function k(t){return"number"===typeof t}var C=["bytes","KB","MB","GB","TB","PB","EB"];function S(t,e,i,r){t=t||"",i.prefix&&(e<0&&(e*=-1,t+="-"),t+=i.prefix);var n=i.suffix||"",o=i.precision,s=i.round;if(i.byteScale){var l,h=r?i.byteScale:e;h>=0x1000000000000000?(e/=0x1000000000000000,l=6):h>=0x4000000000000?(e/=0x4000000000000,l=5):h>=1099511627776?(e/=1099511627776,l=4):h>=1073741824?(e/=1073741824,l=3):h>=1048576?(e/=1048576,l=2):h>=1024?(e/=1024,l=1):l=0,void 0===o&&void 0===s&&(e>=1023.5&&l<C.length-1&&(e=1,l+=1),o=e>=1e3?4:3),n=" "+C[l]}if(void 0!==o&&void 0!==s)throw Error("Use either round or precision, not both");if(!r&&(void 0!==o&&(e=e.toPrecision(o),i.zeros||(e=parseFloat(e))),void 0!==s))if(s<0){var c=Math.pow(10,-1*s);e=parseInt((1*e/c).toFixed(0))*c}else e=e.toFixed(s),i.zeros||(e=parseFloat(e));if(i.thousands||i.decimal){var d=(e=a(e)).split(".");e=d[0],i.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,i.thousands)),d.length>1&&(e+=(i.decimal||".")+d[1])}return t+e+n}function _(t,e,i){return i in e?e[i]:i in t.options?t.options[i]:null}var M={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},T={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},A=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],D=function(t,e,i){void 0!==e?(t.plugins.legend.display=!!e,e&&!0!==e&&(t.plugins.legend.position=e)):i&&(t.plugins.legend.display=!1)},L=function(t,e){t.plugins.title.display=!0,t.plugins.title.text=e},O=function(t,e){null!==e&&(t.scales.x.min=l(e))},P=function(t,e){t.scales.x.max=l(e)},E=function(t,e){t.scales.x.stacked=!!e,t.scales.y.stacked=!!e},N=function(t,e){t.scales.x.title.display=!0,t.scales.x.title.text=e},I=function(t,e){t.scales.y.title.display=!0,t.scales.y.title.text=e},z=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+e+")":t},j=function(t){return null!=t},F=function(e,i,r){var n={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};if(e.options.bytes){var o=e.data;"pie"===r&&(o=[{data:o}]);for(var s=0,a=0;a<o.length;a++)for(var l=o[a],h=0;h<l.data.length;h++)l.data[h][1]>s&&(s=l.data[h][1]);for(var c=1;s>=1024;)c*=1024,s/=1024;n.byteScale=c}if("pie"!==r){var d=i.scales.y;"bar"===r&&(d=i.scales.x),n.byteScale&&(d.ticks.stepSize||(d.ticks.stepSize=n.byteScale/2),d.ticks.maxTicksLimit||(d.ticks.maxTicksLimit=4)),d.ticks.callback||(d.ticks.callback=function(t){return S("",t,n,!0)})}if(!i.plugins.tooltip.callbacks.label)if("scatter"===r)i.plugins.tooltip.callbacks.label=function(t){var e=t.dataset.label||"";return e&&(e+=": "),e+"("+t.label+", "+t.formattedValue+")"};else if("bubble"===r)i.plugins.tooltip.callbacks.label=function(t){var e=t.dataset.label||"";e&&(e+=": ");var i=t.raw;return e+"("+i.x+", "+i.y+", "+i.v+")"};else if("pie"===r)i.plugins.tooltip.callbacks.label=function(e){var i=e.label;return t(i)?(i=i.slice())[0]+=": ":i+=": ",S(i,e.parsed,n)};else{var u="bar"===r?"x":"y";i.plugins.tooltip.callbacks.label=function(t){if(null!==t.parsed[u]){var e=t.dataset.label||"";return e&&(e+=": "),S(e,t.parsed[u],n)}}}},B=d(n(M,T),D,L,(function(t,e){null!==e&&(t.scales.y.min=l(e))}),(function(t,e){t.scales.y.max=l(e)}),E,N,I),R=function(e,i,r){var o,s=[],a=[],c=e.options.colors||A,d=!0,u=!0,p=!0,w=!0,k=!0,C=!0,S=e.data,M=0;if("bubble"===r)for(var T=0;T<S.length;T++)for(var D=S[T],L=0;L<D.data.length;L++)D.data[L][2]>M&&(M=D.data[L][2]);var O,P,E,N,I,F,B,R=[],W=[];if("bar"===r||"column"===r||"number"!==e.xtype&&"bubble"!==e.xtype){var H,G,Y=[];for(O=0;O<S.length;O++)for(E=S[O],P=0;P<E.data.length;P++)N=E.data[P],R[I="datetime"==e.xtype?N[0].getTime():N[0]]||(R[I]=new Array(S.length)),R[I][O]=l(N[1]),-1===Y.indexOf(I)&&Y.push(I);for("datetime"!==e.xtype&&"number"!==e.xtype||Y.sort(f),P=0;P<S.length;P++)W.push([]);for(G=0;G<Y.length;G++)for(O=Y[G],"datetime"===e.xtype?(H=new Date(l(O)),d=d&&v(H),o||(o=H.getDay()),u=u&&y(H,o),p=p&&x(H),w=w&&b(H),k=k&&m(H),C=C&&g(H)):H=O,a.push(H),P=0;P<S.length;P++)W[P].push(void 0===R[O][P]?null:R[O][P])}else for(var X=0;X<S.length;X++){for(var U=S[X],V=[],q=0;q<U.data.length;q++){var K={x:l(U.data[q][0]),y:l(U.data[q][1])};"bubble"===r&&(K.r=20*l(U.data[q][2])/M,K.v=U.data[q][2]),V.push(K)}W.push(V)}for(O=0;O<S.length;O++){if(E=S[O],!e.options.colors||!e.singleSeriesFormat||"bar"!==r&&"column"!==r||E.color||!t(e.options.colors)||t(e.options.colors[0]))F=E.color||c[O],B="line"!==r?z(F,.5):F;else{F=c,B=[];for(var Z=0;Z<c.length;Z++)B[Z]=z(F[Z],.5)}var $={label:E.name||"",data:W[O],fill:"area"===r,borderColor:F,backgroundColor:B,borderWidth:2},J="line"===r||"area"===r||"scatter"===r||"bubble"===r;J&&($.pointBackgroundColor=F,$.pointHoverBackgroundColor=F,$.pointHitRadius=50),"bubble"===r&&($.pointBackgroundColor=B,$.pointHoverBackgroundColor=B,$.pointHoverBorderWidth=2),E.stack&&($.stack=E.stack),!1===_(e,E,"curve")?$.tension=0:J&&($.tension=.4),!1===_(e,E,"points")&&($.pointRadius=0,$.pointHoverRadius=0),$=n($,e.options.dataset||{}),$=n($,E.library||{}),$=n($,E.dataset||{}),s.push($)}var Q=e.options.xmin,tt=e.options.xmax;if("datetime"===e.xtype?(j(Q)&&(i.scales.x.ticks.min=h(Q).getTime()),j(tt)&&(i.scales.x.ticks.max=h(tt).getTime())):"number"===e.xtype&&(j(Q)&&(i.scales.x.ticks.min=Q),j(tt)&&(i.scales.x.ticks.max=tt)),"datetime"===e.xtype&&0===a.length&&(j(Q)&&a.push(h(Q)),j(tt)&&a.push(h(tt)),d=!1,u=!1,p=!1,w=!1,k=!1,C=!1),"datetime"===e.xtype&&a.length>0){var et=(j(Q)?h(Q):a[0]).getTime(),it=(j(tt)?h(tt):a[0]).getTime();for(O=1;O<a.length;O++){var rt=a[O].getTime();rt<et&&(et=rt),rt>it&&(it=rt)}var nt,ot=(it-et)/864e5;if(!i.scales.x.time.unit&&(w||ot>3650?(i.scales.x.time.unit="year",nt=365):p||ot>300?(i.scales.x.time.unit="month",nt=30):d||ot>10?(i.scales.x.time.unit="day",nt=1):k||ot>.5?(i.scales.x.time.displayFormats={hour:"MMM d, h a"},i.scales.x.time.unit="hour",nt=1/24):C&&(i.scales.x.time.displayFormats={minute:"h:mm a"},i.scales.x.time.unit="minute",nt=1/24/60),nt&&ot>0)){var st=e.element.offsetWidth;if(st>0){var at=Math.ceil(ot/nt/(st/100));u&&1===nt&&(at=7*Math.ceil(at/7)),i.scales.x.time.stepSize=at}}i.scales.x.time.tooltipFormat||(d?i.scales.x.time.tooltipFormat="PP":k?i.scales.x.time.tooltipFormat="MMM d, h a":C&&(i.scales.x.time.tooltipFormat="h:mm a"))}return{labels:a,datasets:s}},W=function(t){this.name="chartjs",this.library=t};W.prototype.renderLineChart=function(t,e){var i={};!t.options.max&&function(t){var e,i,r;for(e=0;e<t.length;e++)for(r=t[e].data,i=0;i<r.length;i++)if(0!=r[i][1])return!1;return!0}(t.data)&&(i.max=1);var r=B(t,n(i,t.options));F(t,r,e);var o=R(t,r,e||"line");"number"===t.xtype?(r.scales.x.type=r.scales.x.type||"linear",r.scales.x.position=r.scales.x.position||"bottom"):r.scales.x.type="string"===t.xtype?"category":"time",this.drawChart(t,"line",o,r)},W.prototype.renderPieChart=function(t){var e=n({},M);t.options.donut&&(e.cutout="50%"),"legend"in t.options&&D(e,t.options.legend),t.options.title&&L(e,t.options.title),e=n(e,t.options.library||{}),F(t,e,"pie");for(var i=[],r=[],o=0;o<t.data.length;o++){var s=t.data[o];i.push(s[0]),r.push(s[1])}var a={data:r,backgroundColor:t.options.colors||A},l={labels:i,datasets:[a=n(a,t.options.dataset||{})]};this.drawChart(t,"pie",l,e)},W.prototype.renderColumnChart=function(t,e){var i;if("bar"===e){var r=n(M,T);r.indexAxis="y",r.scales.x.grid.drawOnChartArea=!0,r.scales.y.grid.drawOnChartArea=!1,delete r.scales.y.ticks.maxTicksLimit,i=d(r,D,L,O,P,E,N,I)(t,t.options)}else i=B(t,t.options);F(t,i,e);var o=R(t,i,"column");"bar"!==e&&function(t,e,i){var r=Math.ceil(t.element.offsetWidth/4/e.labels.length);r>25?r=25:r<10&&(r=10),i.scales.x.ticks.callback||(i.scales.x.ticks.callback=function(t){return(t=a(this.getLabelForValue(t))).length>r?t.substring(0,r-2)+"...":t})}(t,o,i),this.drawChart(t,"bar",o,i)},W.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},W.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},W.prototype.renderScatterChart=function(t,e){e=e||"scatter";var i=B(t,t.options);F(t,i,e),"showLine"in i||(i.showLine=!1);var r=R(t,i,e);i.scales.x.type=i.scales.x.type||"linear",i.scales.x.position=i.scales.x.position||"bottom","mode"in i.interaction||(i.interaction.mode="nearest"),this.drawChart(t,e,r,i)},W.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")},W.prototype.destroy=function(t){t.chart&&t.chart.destroy()},W.prototype.drawChart=function(t,e,i,r){if(this.destroy(t),!t.destroyed){var n={type:e,data:i,options:r};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(n)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,n)}};var H={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},G=function(t,e,i){void 0!==e?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):i&&(t.legend.enabled=!1)},Y=function(t,e){t.title.text=e},X=d(H,G,Y,(function(t,e){t.yAxis.min=e}),(function(t,e){t.yAxis.max=e}),(function(t,e){var i=e?!0===e?"normal":e:null;t.plotOptions.series.stacking=i,t.plotOptions.area.stacking=i,t.plotOptions.areaspline.stacking=i}),(function(t,e){t.xAxis.title.text=e}),(function(t,e){t.yAxis.title.text=e})),U=function(t,e,i){var r={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};"pie"===i||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return S("",this.value,r)}),e.tooltip.pointFormatter||e.tooltip.pointFormat||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25cf</span> '+S(this.series.name+": <b>",this.y,r)+"</b><br/>"})},V=function(t){this.name="highcharts",this.library=t};V.prototype.renderLineChart=function(t,e){var i={};"areaspline"===(e=e||"spline")&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var r,n,o,s=X(t,t.options,i);"number"===t.xtype?s.xAxis.type=s.xAxis.type||"linear":s.xAxis.type="string"===t.xtype?"category":"datetime",s.chart.type||(s.chart.type=e),U(t,s,e);var a=t.data;for(n=0;n<a.length;n++){if(a[n].name=a[n].name||"Value",r=a[n].data,"datetime"===t.xtype)for(o=0;o<r.length;o++)r[o][0]=r[o][0].getTime();a[n].marker={symbol:"circle"},!1===t.options.points&&(a[n].marker.enabled=!1)}this.drawChart(t,a,s)},V.prototype.renderScatterChart=function(t){var e=X(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},V.prototype.renderPieChart=function(t){var e=n(H,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&G(e,t.options.legend),t.options.title&&Y(e,t.options.title);var i=n(e,t.options.library||{});U(t,i,"pie");var r=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,r,i)},V.prototype.renderColumnChart=function(t,e){e=e||"column";var i,r,n,o,s=t.data,a=X(t,t.options),l=[],h=[];for(a.chart.type=e,U(t,a,e),i=0;i<s.length;i++)for(n=s[i],r=0;r<n.data.length;r++)l[(o=n.data[r])[0]]||(l[o[0]]=new Array(s.length),h.push(o[0])),l[o[0]][i]=o[1];"number"===t.xtype&&h.sort(f),a.xAxis.categories=h;var c,d=[];for(i=0;i<s.length;i++){for(o=[],r=0;r<h.length;r++)o.push(l[h[r]][i]||0);c={name:s[i].name||"Value",data:o},s[i].stack&&(c.stack=s[i].stack),d.push(c)}this.drawChart(t,d,a)},V.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},V.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},V.prototype.destroy=function(t){t.chart&&t.chart.destroy()},V.prototype.drawChart=function(t,e,i){this.destroy(t),t.destroyed||(i.chart.renderTo=t.element.id,i.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i))};var q={},K=[],Z={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},$=function(t,e,i){var r;void 0!==e?(r=e?!0===e?"right":e:"none",t.legend.position=r):i&&(t.legend.position="none")},J=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},Q=function(t,e){t.hAxis.viewWindow.min=e},tt=function(t,e){t.hAxis.viewWindow.max=e},et=function(t,e){t.isStacked=e||!1},it=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},rt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},nt=d(Z,$,J,(function(t,e){t.vAxis.viewWindow.min=e}),(function(t,e){t.vAxis.viewWindow.max=e}),et,it,rt),ot=function(t){this.name="google",this.library=t};function st(t,e){var i,r,n=[];if(r="number"===e?l:"datetime"===e?h:a,"bubble"===e)for(i=0;i<t.length;i++)n.push([l(t[i][0]),l(t[i][1]),l(t[i][2])]);else for(i=0;i<t.length;i++)n.push([r(t[i][0]),l(t[i][1])]);return"datetime"===e?n.sort(u):"number"===e&&n.sort(p),n}function at(t,e){var i,r,n;for(i=0;i<t.length;i++)for(n=c(t[i].data),r=0;r<n.length;r++)if(!e(n[r][0]))return!1;return!0}function lt(e,i,r){var n,o=e.options,a=e.rawData;for(e.singleSeriesFormat=!t(a)||"object"!==s(a[0])||t(a[0]),e.singleSeriesFormat&&(a=[{name:o.label,data:a}]),a=function(t){var e,i,r=[];for(e=0;e<t.length;e++){var n={};for(i in t[e])t[e].hasOwnProperty(i)&&(n[i]=t[e][i]);r.push(n)}return r}(a),n=0;n<a.length;n++)a[n].data=c(a[n].data);for(e.xtype=i||(o.discrete?"string":function(t,e,i){return ct(t)?!i.xmin&&!i.xmax||i.xmin&&!w(i.xmin)||i.xmax&&!w(i.xmax)?"number":"datetime":at(t,k)?"number":!e&&at(t,w)?"datetime":"string"}(a,r,o)),n=0;n<a.length;n++)a[n].data=st(a[n].data,e.xtype);return a}function ht(t){var e,i=c(t.rawData);for(e=0;e<i.length;e++)i[e]=[a(i[e][0]),l(i[e][1])];return i}function ct(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var i=0;i<t.length;i++)if(t[i].data.length>0)return!1;return!0}function dt(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1),i;var r=function(){return i.call(t,window.event)};return t.attachEvent("on"+e,r),r}function ut(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}function pt(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}ot.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={};!1===t.options.curve&&(i.curveType="none"),!1===t.options.points&&(i.pointSize=0);var r=nt(t,t.options,i),n=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",n,r)}))},ot.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&$(i,t.options.legend),t.options.title&&J(i,t.options.title);var r=n(n(Z,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number","Value"),o.addRows(t.data),e.drawChart(t,"PieChart",o,r)}))},ot.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i=nt(t,t.options),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",r,i)}))},ot.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i=d(Z,$,J,Q,tt,et,it,rt)(t,t.options,{hAxis:{gridlines:{color:"#ccc"}}}),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",r,i)}))},ot.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i=nt(t,t.options,{isStacked:!0,pointSize:0,areaOpacity:.5}),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",r,i)}))},ot.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,"geochart",(function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},r=n(n(Z,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number",t.options.label||"Value"),o.addRows(t.data),e.drawChart(t,"GeoChart",o,r)}))},ot.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i,r,n,o,s=nt(t,t.options,{}),a=t.data,l=[];for(i=0;i<a.length;i++)for(a[i].name=a[i].name||"Value",o=a[i].data,r=0;r<o.length;r++){var h=new Array(a.length+1);h[0]=o[r][0],h[i+1]=o[r][1],l.push(h)}for((n=new e.library.visualization.DataTable).addColumn("number",""),i=0;i<a.length;i++)n.addColumn("number",a[i].name);n.addRows(l),e.drawChart(t,"ScatterChart",n,s)}))},ot.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",(function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var r=n(n(Z,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn({type:"string",id:"Name"}),o.addColumn({type:"date",id:"Start"}),o.addColumn({type:"date",id:"End"}),o.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",o,r)}))},ot.prototype.destroy=function(t){t.chart&&t.chart.clearChart()},ot.prototype.drawChart=function(t,e,i,r){var n;this.destroy(t),t.destroyed||(t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(r)+");"),t.chart=new this.library.visualization[e](t.element),n=function(){t.chart.draw(i,r)},window.attachEvent?window.attachEvent("onresize",n):window.addEventListener&&window.addEventListener("resize",n,!0),n())},ot.prototype.waitForLoaded=function(t,e,i){var r=this;if(i||(i=e,e="corechart"),K.push({pack:e,callback:i}),q[e])this.runCallbacks();else{q[e]=!0;var n={packages:[e],callback:function(){r.runCallbacks()}},o=t.__config();o.language&&(n.language=o.language),"geochart"===e&&o.mapsApiKey&&(n.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",n)}},ot.prototype.runCallbacks=function(){for(var t,e=0;e<K.length;e++)t=K[e],this.library.visualization&&("corechart"===t.pack&&this.library.visualization.LineChart||"timeline"===t.pack&&this.library.visualization.Timeline||"geochart"===t.pack&&this.library.visualization.GeoChart)&&(t.callback(),K.splice(e,1),e--)},ot.prototype.createDataTable=function(t,e){var i,r,n,o,s,h=[],c=[];for(i=0;i<t.length;i++)for(n=t[i],t[i].name=t[i].name||"Value",r=0;r<n.data.length;r++)o=n.data[r],h[s="datetime"===e?o[0].getTime():o[0]]||(h[s]=new Array(t.length),c.push(s)),h[s][i]=l(o[1]);var d,f=[],g=!0;for(r=0;r<c.length;r++)i=c[r],"datetime"===e?(d=new Date(l(i)),g=g&&v(d)):d="number"===e?l(i):i,f.push([d].concat(h[i]));if("datetime"===e)f.sort(u);else if("number"===e){for(f.sort(p),i=0;i<f.length;i++)f[i][0]=a(f[i][0]);e="string"}var m=new this.library.visualization.DataTable;for(e="datetime"===e&&g?"date":e,m.addColumn(e,""),i=0;i<t.length;i++)m.addColumn("number",t[i].name);return m.addRows(f),m};var ft=[],gt=0;function mt(){if(gt<4){var t=ft.shift();t&&(gt++,e=t[0],i=t[1],r=t[2],function(t,e,i){var r=window.jQuery||window.Zepto||window.$;if(r&&r.ajax)r.ajax({dataType:"json",url:t,success:e,error:i,complete:vt});else{var n=new XMLHttpRequest;n.open("GET",t,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){vt(),200===n.status?e(JSON.parse(n.responseText),n.statusText,n):i(n,"error",n.statusText)},n.send()}}(e,i,(function(t,e,i){var n="string"===typeof i?i:i.message;r(n)})),mt())}var e,i,r}function vt(){gt--,mt()}var yt={},xt=[];function bt(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function wt(t,e,i){i||(e="Error Loading Chart: "+e),bt(t,e),t.style.color="#ff0000"}function kt(t){try{t.__render()}catch(e){throw wt(t.element,e.message),e}}function Ct(t,e,i){if(i&&t.options.loading&&("string"===typeof e||"function"===typeof e)&&bt(t.element,t.options.loading),"string"===typeof e)r=e,n=function(e){t.rawData=e,kt(t)},o=function(e){wt(t.element,e)},ft.push([r,n,o]),mt();else if("function"===typeof e)try{e((function(e){t.rawData=e,kt(t)}),(function(e){wt(t.element,e,!0)}))}catch(s){wt(t.element,s,!0)}else t.rawData=e,kt(t);var r,n,o}function St(t){var i=new(function(t){if(t){if("Highcharts"===t.product)return V;if(t.charts)return ot;if(e(t))return W}throw new Error("Unknown adapter")}(t))(t);-1===xt.indexOf(i)&&xt.push(i)}function _t(t,i){if(ct(i.data,t)){var r=i.options.empty||i.options.messages&&i.options.messages.empty||"No data";bt(i.element,r)}else!function(t,i){var r,n,o,s;for((o="render"+t,s=i.options.adapter,"Chart"in window&&St(window.Chart),"Highcharts"in window&&St(window.Highcharts),window.google&&window.google.charts&&St(window.google),r=0);r<xt.length;r++)if(n=xt[r],(!s||s===n.name)&&e(n[o]))return i.adapter=n.name,i.__adapterObject=n,n[o](i);throw xt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}(t,i),i.options.download&&!i.__downloadAttached&&"chartjs"===i.adapter&&function(t){var e=t.element,i=document.createElement("a"),r=t.options.download;!0===r?r={}:"string"===typeof r&&(r={filename:r}),i.download=r.filename||"chart.png",i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.zIndex=1e3,i.style.lineHeight="20px",i.target="_blank";var n=document.createElement("img");n.alt="Download",n.style.border="none",n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",i.appendChild(n),e.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=dt(e,"mouseover",(function(n){var o=n.relatedTarget;o&&(o===this||pt(this,o))||!t.options.download||(i.href=t.toImage(r),e.appendChild(i))})),t.__leaveEvent=dt(e,"mouseout",(function(t){var e=t.relatedTarget;e&&(e===this||pt(this,e))||i.parentNode&&i.parentNode.removeChild(i)}))}(i)}var Mt=function(t,e,i){var r;if("string"===typeof t&&(r=t,!(t=document.getElementById(t))))throw new Error("No element with id "+r);this.element=t,this.options=n(Tt.options,i||{}),this.dataSource=e,Tt.charts[t.id]=this,Ct(this,e,!0),this.options.refresh&&this.startRefresh()};Mt.prototype.getElement=function(){return this.element},Mt.prototype.getDataSource=function(){return this.dataSource},Mt.prototype.getData=function(){return this.data},Mt.prototype.getOptions=function(){return this.options},Mt.prototype.getChartObject=function(){return this.chart},Mt.prototype.getAdapter=function(){return this.adapter},Mt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),Ct(this,t,!0)},Mt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},Mt.prototype.redraw=function(){Ct(this,this.rawData)},Mt.prototype.refreshData=function(){if("string"===typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";Ct(this,this.dataSource+t+"_="+(new Date).getTime())}else"function"===typeof this.dataSource&&Ct(this,this.dataSource)},Mt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&"string"!==typeof this.dataSource&&"function"!==typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval((function(){t.refreshData()}),1e3*e)}},Mt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Mt.prototype.toImage=function(t){if("chartjs"===this.adapter){if(t&&t.background&&"transparent"!==t.background){var e=this.chart.canvas,i=this.chart.ctx,r=document.createElement("canvas"),n=r.getContext("2d");return r.width=i.canvas.width,r.height=i.canvas.height,n.fillStyle=t.background,n.fillRect(0,0,r.width,r.height),n.drawImage(e,0,0),r.toDataURL("image/png")}return this.chart.toBase64Image()}throw new Error("Feature only available for Chart.js")},Mt.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&ut(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&ut(this.element,"mouseout",this.__leaveEvent)},Mt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=n(Tt.options,t),e&&(this.stopRefresh(),this.startRefresh())},Mt.prototype.__render=function(){this.data=this.__processData(),_t(this.__chartName(),this)},Mt.prototype.__config=function(){return yt};var Tt={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this)},e.prototype.__chartName=function(){return"LineChart"},e}(Mt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return ht(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Mt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(Mt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(Mt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(Mt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return ht(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Mt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Mt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return lt(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Mt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=h(e[t][1]),e[t][2]=h(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(Mt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(yt[e]=t[e])},setDefaultOptions:function(t){Tt.options=t},eachChart:function(t){for(var e in Tt.charts)Tt.charts.hasOwnProperty(e)&&t(Tt.charts[e])},destroyAll:function(){for(var t in Tt.charts)Tt.charts.hasOwnProperty(t)&&(Tt.charts[t].destroy(),delete Tt.charts[t])},config:yt,options:{},adapters:xt,addAdapter:St,use:function(t){return St(t),Tt}};return"undefined"===typeof window||window.Chartkick||(window.Chartkick=Tt,document.addEventListener("turbolinks:before-render",(function(){Tt.destroyAll()})),setTimeout((function(){window.dispatchEvent(new Event("chartkick:load"))}),0)),Tt.default=Tt,Tt},"object"===s(e)&&"undefined"!==typeof t?t.exports=o():void 0===(n="function"===typeof(r=o)?r.call(e,i,e,t):r)||(t.exports=n)},function(t,e,i){"use strict";(function(t){var r,n,o;function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n="undefined"!==typeof window?window:this,o=function(t){function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i))}var i={};return e(i,"Core/Globals.js",[],(function(){var e,i="undefined"!==typeof t?t:"undefined"!==typeof window?window:{};return function(t){t.SVG_NS="http://www.w3.org/2000/svg",t.product="Highcharts",t.version="9.1.2",t.win=i,t.doc=t.win.document,t.svg=t.doc&&t.doc.createElementNS&&!!t.doc.createElementNS(t.SVG_NS,"svg").createSVGRect,t.userAgent=t.win.navigator&&t.win.navigator.userAgent||"",t.isChrome=-1!==t.userAgent.indexOf("Chrome"),t.isFirefox=-1!==t.userAgent.indexOf("Firefox"),t.isMS=/(edge|msie|trident)/i.test(t.userAgent)&&!t.win.opera,t.isSafari=!t.isChrome&&-1!==t.userAgent.indexOf("Safari"),t.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(t.userAgent),t.isWebKit=-1!==t.userAgent.indexOf("AppleWebKit"),t.deg2rad=2*Math.PI/360,t.hasBidiBug=t.isFirefox&&4>parseInt(t.userAgent.split("Firefox/")[1],10),t.hasTouch=!!t.win.TouchEvent,t.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],t.noop=function(){},t.supportsPassiveEvents=function(){var e=!1;if(!t.isMS){var i=Object.defineProperty({},"passive",{get:function(){e=!0}});t.win.addEventListener&&t.win.removeEventListener&&(t.win.addEventListener("testPassive",t.noop,i),t.win.removeEventListener("testPassive",t.noop,i))}return e}(),t.charts=[],t.dateFormats={},t.seriesTypes={},t.symbolSizes={},t.chartCount=0}(e||(e={})),e})),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],(function(t){function e(i,r,n,o){var s=r?"Highcharts error":"Highcharts warning";32===i&&(i=s+": Deprecated member");var a=h(i),l=a?s+" #"+i+": www.highcharts.com/errors/"+i+"/":i.toString();if("undefined"!==typeof o){var c="";a&&(l+="?"),v(o,(function(t,e){c+="\n - "+e+": "+t,a&&(l+=encodeURI(e)+"="+encodeURI(t))})),l+=c}x(t,"displayError",{chart:n,code:i,message:l,params:o},(function(){if(r)throw Error(l);C.console&&-1===e.messages.indexOf(l)&&console.warn(l)})),e.messages.push(l)}function i(t,e){return parseInt(t,e||10)}function r(t){return"string"===typeof t}function n(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t}function o(t,e){return!!t&&"object"===s(t)&&(!e||!n(t))}function a(t){return o(t)&&"number"===typeof t.nodeType}function l(t){var e=t&&t.constructor;return!(!o(t,!0)||a(t)||!e||!e.name||"Object"===e.name)}function h(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function c(t){return"undefined"!==typeof t&&null!==t}function d(t,e,i){var n;return r(e)?c(i)?t.setAttribute(e,i):t&&t.getAttribute&&((n=t.getAttribute(e))||"class"!==e||(n=t.getAttribute(e+"Name"))):v(e,(function(e,i){t.setAttribute(i,e)})),n}function u(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t}function p(){for(var t=arguments,e=t.length,i=0;i<e;i++){var r=t[i];if("undefined"!==typeof r&&null!==r)return r}}function f(e,i){t.isMS&&!t.svg&&i&&"undefined"!==typeof i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),u(e.style,i)}function g(t,e,i,r,n){return t=k.createElement(t),e&&u(t,e),n&&f(t,{padding:"0",border:"none",margin:"0"}),i&&f(t,i),r&&r.appendChild(t),t}function m(t,e){return parseFloat(t.toPrecision(e||14))}function v(t,e,i){for(var r in t)Object.hasOwnProperty.call(t,r)&&e.call(i||t[r],t[r],r,t)}function y(e,i,r){function n(i,r){var n=e.removeEventListener||t.removeEventListenerPolyfill;n&&n.call(e,i,r,!1)}function o(t){var r;if(e.nodeName){if(i){var o={};o[i]=!0}else o=t;v(o,(function(e,i){if(t[i])for(r=t[i].length;r--;)n(i,t[i][r].fn)}))}}var s="function"===typeof e&&e.prototype||e;if(Object.hasOwnProperty.call(s,"hcEvents")){var a=s.hcEvents;i?(s=a[i]||[],r?(a[i]=s.filter((function(t){return r!==t.fn})),n(i,r)):(o(a),a[i]=[])):(o(a),delete s.hcEvents)}}function x(e,i,r,n){if(r=r||{},k.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var o=k.createEvent("Events");o.initEvent(i,!0,!0),r=u(o,r),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(i,r)}else if(e.hcEvents){r.target||u(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),o=[];for(var s=e,a=!1;s.hcEvents;)Object.hasOwnProperty.call(s,"hcEvents")&&s.hcEvents[i]&&(o.length&&(a=!0),o.unshift.apply(o,s.hcEvents[i])),s=Object.getPrototypeOf(s);a&&o.sort((function(t,e){return t.order-e.order})),o.forEach((function(t){!1===t.fn.call(e,r)&&r.preventDefault()}))}n&&!r.defaultPrevented&&n.call(e,r)}var b,w=t.charts,k=t.doc,C=t.win;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var S=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,r=t.length;for(i=0;i<r;i++)if(e(t[i],i))return t[i]};v({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(i,r){t[r]=function(t){var n;return e(32,!1,void 0,((n={})["Highcharts."+r]="use Array."+i,n)),Array.prototype[i].apply(t,[].slice.call(arguments,1))}}));var _,M=function(){var t=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"highcharts-"+(_?"":t)+e++}}();return C.jQuery&&(C.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[r(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):w[d(this[0],"data-highcharts-chart")]}),{addEvent:function(e,i,r,n){void 0===n&&(n={});var o="function"===typeof e&&e.prototype||e;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={}),o=o.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);var s=e.addEventListener||t.addEventListenerPolyfill;return s&&s.call(e,i,r,!!t.supportsPassiveEvents&&{passive:void 0===n.passive?-1!==i.indexOf("touch"):n.passive,capture:!1}),o[i]||(o[i]=[]),o[i].push({fn:r,order:"number"===typeof n.order?n.order:1/0}),o[i].sort((function(t,e){return t.order-e.order})),function(){y(e,i,r)}},arrayMax:function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},attr:d,clamp:function(t,e,i){return t>e?t<i?t:i:e},cleanRecursively:function t(e,i){var r={};return v(e,(function(n,s){o(e[s],!0)&&!e.nodeType&&i[s]?(n=t(e[s],i[s]),Object.keys(n).length&&(r[s]=n)):(o(e[s])||e[s]!==i[s])&&(r[s]=e[s])})),r},clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){c(t)&&clearTimeout(t)})),correctFloat:m,createElement:g,css:f,defined:c,destroyObjectProperties:function(t,e){v(t,(function(i,r){i&&i!==e&&i.destroy&&i.destroy(),delete t[r]}))},discardElement:function(t){b||(b=g("div")),t&&b.appendChild(t),b.innerHTML=""},erase:function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},error:e,extend:u,extendClass:function(t,e){var i=function(){};return u(i.prototype=new t,e),i},find:S,fireEvent:x,getMagnitude:function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},getNestedProperty:function(t,e){for(t=t.split(".");t.length&&c(e);){var i=t.shift();if("undefined"===typeof i||"__proto__"===i)return;if(!c(e=e[i])||"function"===typeof e||"number"===typeof e.nodeType||e===C)return}return e},getStyle:function r(n,o,s){var a=t.getStyle||r;if("width"===o)return o=Math.min(n.offsetWidth,n.scrollWidth),(s=n.getBoundingClientRect&&n.getBoundingClientRect().width)<o&&s>=o-1&&(o=Math.floor(s)),Math.max(0,o-(a(n,"padding-left",!0)||0)-(a(n,"padding-right",!0)||0));if("height"===o)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(a(n,"padding-top",!0)||0)-(a(n,"padding-bottom",!0)||0));if(C.getComputedStyle||e(27,!0),n=C.getComputedStyle(n,void 0)){var l=n.getPropertyValue(o);p(s,"opacity"!==o)&&(l=i(l))}return l},inArray:function(t,i,r){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(t,r)},isArray:n,isClass:l,isDOMElement:a,isFunction:function(t){return"function"===typeof t},isNumber:h,isObject:o,isString:r,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){var t,e=arguments,i={},r=function t(e,i){return"object"!==s(e)&&(e={}),v(i,(function(r,n){"__proto__"!==n&&"constructor"!==n&&(!o(r,!0)||l(r)||a(r)?e[n]=i[n]:e[n]=t(e[n]||{},r))})),e};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));var n=e.length;for(t=0;t<n;t++)i=r(i,e[t]);return i},normalizeTickInterval:function(t,e,i,r,n){var o=t,s=t/(i=p(i,1));for(e||(e=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?e=e.filter((function(t){return 0===t%1})):.1>=i&&(e=[1/i]))),r=0;r<e.length&&(o=e[r],!(n&&o*i>=t||!n&&s<=(e[r]+(e[r+1]||e[r]))/2));r++);return m(o*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:v,offset:function(t){var e=k.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(C.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(C.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:p,pInt:i,relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:y,splat:function(t){return n(t)?t:[t]},stableSort:function(t,e){var i,r,n=t.length;for(r=0;r<n;r++)t[r].safeI=r;for(t.sort((function(t,r){return 0===(i=e(t,r))?t.safeI-r.safeI:i})),r=0;r<n;r++)delete t[r].safeI},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:M,useSerialIds:function(t){return _=p(t,_)},wrap:function(t,e,i){var r=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,n=this;return n.proceed=function(){r.apply(n,arguments.length?arguments:e)},t.unshift(r),t=i.apply(this,t),n.proceed=null,t}}}})),e(i,"Core/Color/Palette.js",[],(function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),backgroundColor:"#ffffff",neutralColor100:"#000000",neutralColor80:"#333333",neutralColor60:"#666666",neutralColor40:"#999999",neutralColor20:"#cccccc",neutralColor10:"#e6e6e6",neutralColor5:"#f2f2f2",neutralColor3:"#f7f7f7",highlightColor100:"#003399",highlightColor80:"#335cad",highlightColor60:"#6685c2",highlightColor20:"#ccd6eb",highlightColor10:"#e6ebf5",positiveColor:"#06b535",negativeColor:"#f21313"}})),e(i,"Core/Chart/ChartDefaults.js",[i["Core/Color/Palette.js"]],(function(t){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:t.highlightColor80,backgroundColor:t.backgroundColor,plotBorderColor:t.neutralColor20}})),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){var i=e.isNumber,r=e.merge,n=e.pInt;return e=function(){function e(i){this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),1]}}],this.rgba=[];var r=t.Color;return r&&r!==e?new r(i):this instanceof e?void this.init(i):new e(i)}return e.parse=function(t){return new e(t)},e.prototype.init=function(t){var i,r;if((this.input=t=e.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=t.stops.map((function(t){return new e(t[1])}));else{if(t&&t.charAt&&"#"===t.charAt()){var n=t.length;t=parseInt(t.substr(1),16),7===n?i=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===n&&(i=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])}if(!i)for(r=this.parsers.length;r--&&!i;){var o=this.parsers[r];(n=o.regex.exec(t))&&(i=o.parse(n))}}this.rgba=i||[]},e.prototype.get=function(t){var e=this.input,n=this.rgba;if("undefined"!==typeof this.stops){var o=r(e);o.stops=[].concat(o.stops),this.stops.forEach((function(e,i){o.stops[i]=[o.stops[i][0],e.get(t)]}))}else o=n&&i(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":e;return o},e.prototype.brighten=function(t){var e,r=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(e=0;3>e;e++)r[e]+=n(255*t),0>r[e]&&(r[e]=0),255<r[e]&&(r[e]=255);return this},e.prototype.setOpacity=function(t){return this.rgba[3]=t,this},e.prototype.tweenTo=function(t,e){var i=this.rgba,r=t.rgba;return e=r.length&&i&&i.length?((t=1!==r[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(r[0]+(i[0]-r[0])*(1-e))+","+Math.round(r[1]+(i[1]-r[1])*(1-e))+","+Math.round(r[2]+(i[2]-r[2])*(1-e))+(t?","+(r[3]+(i[3]-r[3])*(1-e)):"")+")":t.input||"none"},e.names={white:"#ffffff",black:"#000000"},e}()})),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){var i=t.win,r=e.defined,n=e.error,o=e.extend,s=e.isObject,a=e.merge,l=e.objectEach,h=e.pad,c=e.pick,d=e.splat,u=e.timeUnits,p=t.isSafari&&Intl&&Intl.DateTimeFormat.prototype.formatRange,f=t.isSafari&&Intl&&!Intl.DateTimeFormat.prototype.formatRange;return e=function(){function e(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}return e.prototype.get=function(t,e){if(this.variableTimezone||this.timezoneOffset){var i=e.getTime(),r=i-this.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()},e.prototype.set=function(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](i);var r=this.getTimezoneOffset(e);return r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=this.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)},e.prototype.update=function(t){var e=c(t&&t.useUTC,!0);this.options=t=a(!0,this.options||{},t),this.Date=t.Date||i.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)},e.prototype.makeTime=function(t,e,i,r,n,o){if(this.useUTC){var s=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(s);s+=a;var l=this.getTimezoneOffset(s);a!==l?s+=l-a:a-36e5!==this.getTimezoneOffset(s-36e5)||f||(s-=36e5)}else s=new this.Date(t,e,c(i,1),c(r,0),c(n,0),c(o,0)).getTime();return s},e.prototype.timezoneOffsetFunction=function(){var t=this,e=this.options,r=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(r)return function(t){return 6e4*-r.tz(t,e.timezone).utcOffset()};n(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6e4*e.getTimezoneOffset(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}},e.prototype.dateFormat=function(e,i,n){if(!r(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=c(e,"%Y-%m-%d %H:%M:%S");var s=this,a=new this.Date(i),d=this.get("Hours",a),u=this.get("Day",a),p=this.get("Date",a),f=this.get("Month",a),g=this.get("FullYear",a),m=t.defaultOptions.lang,v=m&&m.weekdays,y=m&&m.shortWeekdays;return a=o({a:y?y[u]:v[u].substr(0,3),A:v[u],d:h(p),e:h(p,2," "),w:u,b:m.shortMonths[f],B:m.months[f],m:h(f+1),o:f+1,y:g.toString().substr(2,2),Y:g,H:h(d),k:d,I:h(d%12||12),l:d%12||12,M:h(this.get("Minutes",a)),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:h(a.getSeconds()),L:h(Math.floor(i%1e3),3)},t.dateFormats),l(a,(function(t,r){for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"===typeof t?t.call(s,i):t)})),n?e.substr(0,1).toUpperCase()+e.substr(1):e},e.prototype.resolveDTLFormat=function(t){return s(t,!0)?t:{main:(t=d(t))[0],from:t[1],to:t[2]}},e.prototype.getTimeTicks=function(t,e,i,n){var s,a=this,l=[],h={},d=new a.Date(e),p=t.unitRange,f=t.count||1;if(n=c(n,1),r(e)){if(a.set("Milliseconds",d,p>=u.second?0:f*Math.floor(a.get("Milliseconds",d)/f)),p>=u.second&&a.set("Seconds",d,p>=u.minute?0:f*Math.floor(a.get("Seconds",d)/f)),p>=u.minute&&a.set("Minutes",d,p>=u.hour?0:f*Math.floor(a.get("Minutes",d)/f)),p>=u.hour&&a.set("Hours",d,p>=u.day?0:f*Math.floor(a.get("Hours",d)/f)),p>=u.day&&a.set("Date",d,p>=u.month?1:Math.max(1,f*Math.floor(a.get("Date",d)/f))),p>=u.month){a.set("Month",d,p>=u.year?0:f*Math.floor(a.get("Month",d)/f));var g=a.get("FullYear",d)}p>=u.year&&a.set("FullYear",d,g-g%f),p===u.week&&(g=a.get("Day",d),a.set("Date",d,a.get("Date",d)-g+n+(g<n?-7:0))),g=a.get("FullYear",d),n=a.get("Month",d);var m=a.get("Date",d),v=a.get("Hours",d);for(e=d.getTime(),!a.variableTimezone&&a.useUTC||!r(i)||(s=i-e>4*u.month||a.getTimezoneOffset(e)!==a.getTimezoneOffset(i)),e=d.getTime(),d=1;e<i;)l.push(e),e=p===u.year?a.makeTime(g+d*f,0):p===u.month?a.makeTime(g,n+d*f):!s||p!==u.day&&p!==u.week?s&&p===u.hour&&1<f?a.makeTime(g,n,m,v+d*f):e+p*f:a.makeTime(g,n,m+d*f*(p===u.day?1:7)),d++;l.push(e),p<=u.hour&&1e4>l.length&&l.forEach((function(t){0===t%18e5&&"000000000"===a.dateFormat("%H%M%S%L",t)&&(h[t]="day")}))}return l.info=o(t,{higherRanks:h,totalRange:p*f}),l},e}()})),e(i,"Core/DefaultOptions.js",[i["Core/Globals.js"],i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Color/Palette.js"],i["Core/Time.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o){var s=t.isTouchDevice,a=t.svg;i=i.parse;var l=o.merge,h={colors:r.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:e,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:r.neutralColor80}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:r.neutralColor40,borderRadius:0,navigation:{activeColor:r.highlightColor100,inactiveColor:r.neutralColor20},itemStyle:{color:r.neutralColor80,cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:r.neutralColor100},itemHiddenStyle:{color:r.neutralColor20},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:r.backgroundColor,opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:s?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:i(r.neutralColor3).setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:r.neutralColor80,cursor:"default",fontSize:"12px",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:r.neutralColor40,fontSize:"9px"},text:"Highcharts.com"}};h.chart.styledMode=!1;var c=new n(l(h.global,h.time));return{defaultOptions:h,defaultTime:c,getOptions:function(){return h},setOptions:function(e){return l(!0,h,e),(e.time||e.global)&&(t.time?t.time.update(l(h.global,h.time,e.global,e.time)):t.time=c),h}}})),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){var r=t.parse,n=e.win,o=i.isNumber,s=i.objectEach;return function(){function t(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}return t.prototype.dSetter=function(){var t=this.paths,e=t&&t[0];t=t&&t[1];var i=this.now||0,r=[];if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(var n=0;n<t.length;n++){for(var s=e[n],a=t[n],l=[],h=0;h<a.length;h++){var c=s[h],d=a[h];o(c)&&o(d)&&("A"!==a[0]||4!==h&&5!==h)?l[h]=c+i*(d-c):l[h]=d}r.push(l)}else r=t;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)},t.prototype.update=function(){var t=this.elem,e=this.prop,i=this.now,r=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,r&&r.call(t,i,this)},t.prototype.run=function(e,i,r){var o=this,s=o.options,a=function t(e){return!t.stopped&&o.step(e)},l=n.requestAnimationFrame||function(t){setTimeout(t,13)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l((function e(){for(var i=0;i<t.timers.length;i++)t.timers[i]()||t.timers.splice(i--,1);t.timers.length&&l(e)}))):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))},t.prototype.step=function(t){var e=+new Date,i=this.options,r=this.elem,n=i.complete,o=i.duration,a=i.curAnim;if(r.attr&&!r.element)t=!1;else if(t||e>=o+this.startTime){this.now=this.end,this.pos=1,this.update();var l=a[this.prop]=!0;s(a,(function(t){!0!==t&&(l=!1)})),l&&n&&n.call(r),t=!1}else this.pos=i.easing((e-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},t.prototype.initPath=function(t,e,i){function r(t,e){for(;t.length<u;){var i=t[0],r=e[u-t.length];r&&"M"===i[0]&&(t[0]="C"===r[0]?["C",i[1],i[2],i[1],i[2],i[1],i[2]]:["L",i[1],i[2]]),t.unshift(i),l&&(i=t.pop(),t.push(t[t.length-1],i))}}function n(t,e){for(;t.length<u;)if("C"===(e=t[Math.floor(t.length/h)-1].slice())[0]&&(e[1]=e[5],e[2]=e[6]),l){var i=t[Math.floor(t.length/h)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}var s=t.startX,a=t.endX;i=i.slice();var l=t.isArea,h=l?2:1;if(!(e=e&&e.slice()))return[i,i];if(s&&a&&a.length){for(t=0;t<s.length;t++){if(s[t]===a[0]){var c=t;break}if(s[0]===a[a.length-s.length+t]){c=t;var d=!0;break}if(s[s.length-1]===a[a.length-s.length+t]){c=s.length-t;break}}"undefined"===typeof c&&(e=[])}if(e.length&&o(c)){var u=i.length+c*h;d?(r(e,i),n(i,e)):(r(i,e),n(e,i))}return[e,i]},t.prototype.fillSetter=function(){t.prototype.strokeSetter.apply(this,arguments)},t.prototype.strokeSetter=function(){this.elem.attr(this.prop,r(this.start).tweenTo(r(this.end),this.pos),null,!0)},t.timers=[],t}()})),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],(function(t,e){function i(t){return l(t)?h({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function r(e,i){for(var r=t.timers.length;r--;)t.timers[r].elem!==e||i&&i!==t.timers[r].prop||(t.timers[r].stopped=!0)}var n=e.defined,o=e.getStyle,s=e.isArray,a=e.isNumber,l=e.isObject,h=e.merge,c=e.objectEach,d=e.pick;return{animate:function(e,i,n){var d,u,p,f="";if(!l(n)){var g=arguments;n={duration:g[2],easing:g[3],complete:g[4]}}a(n.duration)||(n.duration=400),n.easing="function"===typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=h(i),c(i,(function(a,l){r(e,l),p=new t(e,n,l),u=void 0,"d"===l&&s(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,d=0,u=1):e.attr?d=e.attr(l):(d=parseFloat(o(e,l))||0,"opacity"!==l&&(f="px")),u||(u=a),"string"===typeof u&&u.match("px")&&(u=u.replace(/px/g,"")),p.run(d,u,f)}))},animObject:i,getDeferredAnimation:function(t,e,r){var o=i(e),s=0,a=0;return(r?[r]:t.series).forEach((function(t){t=i(t.options.animation),s=e&&n(e.defer)?o.defer:Math.max(s,t.duration+t.defer),a=Math.min(o.duration,t.duration)})),t.renderer.forExport&&(s=0),{defer:Math.max(0,s-a),duration:Math.min(s,a)}},setAnimation:function(t,e){e.renderer.globalAnimation=d(t,e.options.chart.animation,!0)},stop:r}})),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){var i=t.SVG_NS,r=e.attr,n=e.createElement,o=e.discardElement,s=e.error,a=e.isString,l=e.objectEach,h=e.splat;try{var c=!!(new DOMParser).parseFromString("","text/html")}catch(d){c=!1}return e=function(){function e(t){this.nodes="string"===typeof t?this.parseMarkup(t):t}return e.filterUserAttributes=function(t){return l(t,(function(i,r){var n=!0;-1===e.allowedAttributes.indexOf(r)&&(n=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(r)&&(n=a(i)&&e.allowedReferences.some((function(t){return 0===i.indexOf(t)}))),n||(s("Highcharts warning: Invalid attribute '"+r+"' in config"),delete t[r])})),t},e.setElementHTML=function(t,i){t.innerHTML="",i&&new e(i).addToDOM(t)},e.prototype.addToDOM=function(n){return function n(o,a){var c;return h(o).forEach((function(o){var h=o.tagName,d=o.textContent?t.doc.createTextNode(o.textContent):void 0;if(h)if("#text"===h)var u=d;else if(-1!==e.allowedTags.indexOf(h)){h=t.doc.createElementNS("svg"===h?i:a.namespaceURI||i,h);var p=o.attributes||{};l(o,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"textContent"!==e&&(p[e]=t)})),r(h,e.filterUserAttributes(p)),d&&h.appendChild(d),n(o.children||[],h),u=h}else s("Highcharts warning: Invalid tagName '"+h+"' in config");u&&a.appendChild(u),c=u})),c}(this.nodes,n)},e.prototype.parseMarkup=function(t){var e=[];if(c)t=(new DOMParser).parseFromString(t,"text/html");else{var i=n("div");i.innerHTML=t,t={body:i}}var r=function t(e,i){var r=e.nodeName.toLowerCase(),n={tagName:r};if("#text"===r){if(r=e.textContent||"",/^[\s]*$/.test(r))return;n.textContent=r}if(r=e.attributes){var o={};[].forEach.call(r,(function(t){o[t.name]=t.value})),n.attributes=o}if(e.childNodes.length){var s=[];[].forEach.call(e.childNodes,(function(e){t(e,s)})),s.length&&(n.children=s)}i.push(n)};return[].forEach.call(t.body.childNodes,(function(t){return r(t,e)})),i&&o(i),e},e.allowedTags="a b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),e.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength type valign width x x1 x2 y y1 y2 zIndex".split(" "),e.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),e}()})),e(i,"Core/FormatUtilities.js",[i["Core/DefaultOptions.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e,i,n){t=+t||0,e=+e;var o=r.lang,h=(t.toString().split(".")[1]||"").split("e")[0].length,c=t.toString().split("e"),d=e;if(-1===e)e=Math.min(h,20);else if(s(e)){if(e&&c[1]&&0>c[1]){var u=e+ +c[1];0<=u?(c[0]=(+c[0]).toExponential(u).split("e")[0],e=u):(c[0]=c[0].split(".")[0]||0,t=20>e?(c[0]*Math.pow(10,c[1])).toFixed(e):0,c[1]=0)}}else e=2;u=(Math.abs(c[1]?c[0]:t)+Math.pow(10,-Math.max(e,h)-1)).toFixed(e);var p=3<(h=String(l(u))).length?h.length%3:0;return i=a(i,o.decimalPoint),n=a(n,o.thousandsSep),t=(0>t?"-":"")+(p?h.substr(0,p)+n:""),t=0>+c[1]&&!d?"0":t+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+n),e&&(t+=i+u.slice(-e)),c[1]&&0!==+t&&(t+="e"+c[1]),t}var r=t.defaultOptions,n=t.defaultTime,o=e.getNestedProperty,s=e.isNumber,a=e.pick,l=e.pInt;return{dateFormat:function(t,e,i){return n.dateFormat(t,e,i)},format:function(t,e,s){var a="{",l=!1,h=/f$/,c=/\.([0-9])/,d=r.lang,u=s&&s.time||n;s=s&&s.numberFormatter||i;for(var p=[];t;){var f=t.indexOf(a);if(-1===f)break;var g=t.slice(0,f);if(l){if(g=g.split(":"),a=o(g.shift()||"",e),g.length&&"number"===typeof a)if(g=g.join(":"),h.test(g)){var m=parseInt((g.match(c)||["","-1"])[1],10);null!==a&&(a=s(a,m,d.decimalPoint,-1<g.indexOf(",")?d.thousandsSep:""))}else a=u.dateFormat(g,a);p.push(a)}else p.push(g);t=t.slice(f+1),a=(l=!l)?"}":"{"}return p.push(t),p.join("")},numberFormat:i}})),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palette.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o){var a=t.animate,l=t.animObject,h=t.stop,c=r.deg2rad,d=r.doc,u=r.noop,p=r.svg,f=r.SVG_NS,g=r.win,m=o.addEvent,v=o.attr,y=o.createElement,x=o.css,b=o.defined,w=o.erase,k=o.extend,C=o.fireEvent,S=o.isArray,_=o.isFunction,M=o.isNumber,T=o.isString,A=o.merge,D=o.objectEach,L=o.pick,O=o.pInt,P=o.syncTimeout,E=o.uniqueKey;return(t=function(){function t(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=f,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return t.prototype._defaultGetter=function(t){return t=L(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},t.prototype._defaultSetter=function(t,e,i){i.setAttribute(e,t)},t.prototype.add=function(t){var e=this.renderer,i=this.element;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,!t||t.handleZ||this.zIndex)var r=this.zIndexSetter();return r||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this},t.prototype.addClass=function(t,e){var i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "))!==i&&this.attr("class",t),this},t.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},t.prototype.align=function(t,e,i){var r,n,o,s={},a=this.renderer,l=a.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||T(i))&&(this.alignTo=r=i||"renderer",w(l,this),l.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),i=L(i,a[r],"scrollablePlotBox"===r?a.plotBox:void 0,a),r=t.align;var h=t.verticalAlign;return a=(i.x||0)+(t.x||0),l=(i.y||0)+(t.y||0),"right"===r?n=1:"center"===r&&(n=2),n&&(a+=(i.width-(t.width||0))/n),s[e?"translateX":"x"]=Math.round(a),"bottom"===h?o=1:"middle"===h&&(o=2),o&&(l+=(i.height-(t.height||0))/o),s[e?"translateY":"y"]=Math.round(l),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},t.prototype.alignSetter=function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},t.prototype.animate=function(t,e,i){var r=this,n=l(L(e,this.renderer.globalAnimation,!0));return e=n.defer,L(d.hidden,d.msHidden,d.webkitHidden,!1)&&(n.duration=0),0!==n.duration?(i&&(n.complete=i),P((function(){r.element&&a(r,t,n)}),e)):(this.attr(t,void 0,i),D(t,(function(t,e){n.step&&n.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this},t.prototype.applyTextOutline=function(t){var e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var i=t.split(" ");if(t=i[i.length-1],(i=i[0])&&"none"!==i&&r.svg){this.fakeTS=!0,this.ySetter=this.xSetter,i=i.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();var n=d.createElementNS(f,"tspan");v(n,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":i,"stroke-linejoin":"round"}),[].forEach.call(e.childNodes,(function(t){var e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((function(t){return e.removeAttribute(t)})),n.appendChild(e)}));var o=d.createElementNS(f,"tspan");o.textContent="\u200b",["x","y"].forEach((function(t){var i=e.getAttribute(t);i&&o.setAttribute(t,i)})),n.appendChild(o),e.insertBefore(n,e.firstChild)}},t.prototype.attr=function(t,e,i,r){var n,o,s,a=this.element,l=this.symbolCustomAttribs,c=this;if("string"===typeof t&&"undefined"!==typeof e){var d=t;(t={})[d]=e}return"string"===typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,a):(D(t,(function(e,i){o=!1,r||h(this,i),this.symbolName&&-1!==l.indexOf(i)&&(n||(this.symbolAttr(t),n=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((s=this[i+"Setter"]||this._defaultSetter).call(this,e,i,a),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,s))}),this),this.afterSetters()),i&&i.call(this),c},t.prototype.clip=function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},t.prototype.crisp=function(t,e){e=e||t.strokeWidth||0;var i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),b(t.strokeWidth)&&(t.strokeWidth=e),t},t.prototype.complexColor=function(t,e,r){var n,o,s,a,l,h,c,d,u,p,f,g=this.renderer,m=[];C(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?o="radialGradient":t.linearGradient&&(o="linearGradient"),o){if(s=t[o],l=g.gradients,h=t.stops,u=r.radialReference,S(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&u&&!b(s.gradientUnits)&&(a=s,s=A(s,g.getRadialAttr(u,a),{gradientUnits:"userSpaceOnUse"})),D(s,(function(t,e){"id"!==e&&m.push(e,t)})),D(h,(function(t){m.push(t)})),m=m.join(","),l[m])p=l[m].attr("id");else{s.id=p=E();var v=l[m]=g.createElement(o).attr(s).add(g.defs);v.radAttr=a,v.stops=[],h.forEach((function(t){0===t[1].indexOf("rgba")?(n=i.parse(t[1]),c=n.get("rgb"),d=n.get("a")):(c=t[1],d=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":d}).add(v),v.stops.push(t)}))}f="url("+g.url+"#"+p+")",r.setAttribute(e,f),r.gradient=m,t.toString=function(){return f}}}))},t.prototype.css=function(t){var e=this.styles,i={},r=this.element,n=["textOutline","textOverflow","width"],o="",s=!e;if(t&&t.color&&(t.fill=t.color),e&&D(t,(function(t,r){e&&e[r]!==t&&(i[r]=t,s=!0)})),s){if(e&&(t=k(e,i)),t)if(null===t.width||"auto"===t.width)delete this.textWidth;else if("text"===r.nodeName.toLowerCase()&&t.width)var a=this.textWidth=O(t.width);if(this.styles=t,a&&!p&&this.renderer.forExport&&delete t.width,r.namespaceURI===this.SVG_NS){var l=function(t,e){return"-"+e.toLowerCase()};D(t,(function(t,e){-1===n.indexOf(e)&&(o+=e.replace(/([A-Z])/g,l)+":"+t+";")})),o&&v(r,"style",o)}else x(r,t);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},t.prototype.dashstyleSetter=function(t){var e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){var i=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+O(i[t])*L(e,NaN);t=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},t.prototype.destroy=function(){var t=this,e=t.element||{},i=t.renderer,r=e.ownerSVGElement,n=i.isSVG&&"SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,h(t),t.clipPath&&r){var o=t.clipPath;[].forEach.call(r.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(o.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=o.destroy()}if(t.stops){for(r=0;r<t.stops.length;r++)t.stops[r].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e),i.styledMode||t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;t.alignTo&&w(i.alignedObjects,t),D(t,(function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]}))},t.prototype.destroyShadows=function(){(this.shadows||[]).forEach((function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},t.prototype.destroyTextPath=function(t,e){var i=t.getElementsByTagName("text")[0];if(i){if(i.removeAttribute("dx"),i.removeAttribute("dy"),e.element.setAttribute("id",""),this.textPathWrapper&&i.getElementsByTagName("textPath").length){for(t=this.textPathWrapper.element.childNodes;t.length;)i.appendChild(t[0]);i.removeChild(this.textPathWrapper.element)}}else(t.getAttribute("dx")||t.getAttribute("dy"))&&(t.removeAttribute("dx"),t.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},t.prototype.dSetter=function(t,e,i){S(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((function(t,e,i){return e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString()}),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},t.prototype.fadeOut=function(t){var e=this;e.animate({opacity:0},{duration:L(t,150),complete:function(){e.attr({y:-9999}).hide()}})},t.prototype.fillSetter=function(t,e,i){"string"===typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},t.prototype.getBBox=function(e,i){var r=this.renderer,n=this.element,o=this.styles,s=this.textStr,a=r.cache,l=r.cacheKeys,h=n.namespaceURI===this.SVG_NS;i=L(i,this.rotation,0);var d,u=r.styledMode?n&&t.prototype.getStyle.call(n,"font-size"):o&&o.fontSize;if(b(s)){var p=s.toString();-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",i,u,this.textWidth,o&&o.textOverflow,o&&o.fontWeight].join()}if(p&&!e&&(d=a[p]),!d){if(h||r.forExport){try{var f=this.fakeTS&&function(t){var e=n.querySelector(".highcharts-text-outline");e&&x(e,{display:t})};_(f)&&f("none"),d=n.getBBox?k({},n.getBBox()):{width:n.offsetWidth,height:n.offsetHeight},_(f)&&f("")}catch(g){}(!d||0>d.width)&&(d={width:0,height:0})}else d=this.htmlGetBBox();if(r.isSVG&&(e=d.width,r=d.height,h&&(d.height=r={"11px,17":14,"13px,20":16}[o&&o.fontSize+","+Math.round(r)]||r),i&&(o=i*c,d.width=Math.abs(r*Math.sin(o))+Math.abs(e*Math.cos(o)),d.height=Math.abs(r*Math.cos(o))+Math.abs(e*Math.sin(o)))),p&&0<d.height){for(;250<l.length;)delete a[l.shift()];a[p]||l.push(p),a[p]=d}}return d},t.prototype.getStyle=function(t){return g.getComputedStyle(this.element||this,"").getPropertyValue(t)},t.prototype.hasClass=function(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)},t.prototype.hide=function(t){return t?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},t.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},t.prototype.init=function(t,e){this.element="span"===e?y(e):d.createElementNS(this.SVG_NS,e),this.renderer=t,C(this,"afterInit")},t.prototype.invert=function(t){return this.inverted=t,this.updateTransform(),this},t.prototype.on=function(t,e){var i=this.onEvents;return i[t]&&i[t](),i[t]=m(this.element,t,e),this},t.prototype.opacitySetter=function(t,e,i){this.opacity=t=Number(Number(t).toFixed(3)),i.setAttribute(e,t)},t.prototype.removeClass=function(t){return this.attr("class",(""+this.attr("class")).replace(T(t)?new RegExp("(^| )"+t+"( |$)"):t," ").replace(/ +/g," ").trim())},t.prototype.removeTextOutline=function(){var t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)},t.prototype.safeRemoveChild=function(t){var e=t.parentNode;e&&e.removeChild(t)},t.prototype.setRadialReference=function(t){var e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},t.prototype.setTextPath=function(t,i){var r=this.element,n=this.text?this.text.element:r,o={textAnchor:"text-anchor"},s=!1,a=this.textPathWrapper,l=!a;i=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},i);var h=e.filterUserAttributes(i.attributes);if(t&&i&&i.enabled){a&&null===a.element.parentNode?(l=!0,a=a.destroy()):a&&this.removeTextOutline.call(a.parentGroup),this.options&&this.options.padding&&(h.dx=-this.options.padding),a||(this.textPathWrapper=a=this.renderer.createElement("textPath"),s=!0);var c=a.element;if((i=t.element.getAttribute("id"))||t.element.setAttribute("id",i=E()),l)for(n.setAttribute("y",0),M(h.dx)&&n.setAttribute("x",-h.dx),t=[].slice.call(n.childNodes),l=0;l<t.length;l++){var d=t[l];d.nodeType!==Node.TEXT_NODE&&"tspan"!==d.nodeName||c.appendChild(d)}s&&a&&a.add({element:n}),c.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+i),b(h.dy)&&(c.parentNode.setAttribute("dy",h.dy),delete h.dy),b(h.dx)&&(c.parentNode.setAttribute("dx",h.dx),delete h.dx),D(h,(function(t,e){c.setAttribute(o[e]||e,t)})),r.removeAttribute("transform"),this.removeTextOutline.call(a),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=u}else a&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(r,t),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},t.prototype.shadow=function(t,e,i){var r,o=[],a=this.element,l=this.oldShadowOptions,h={color:n.neutralColor100,offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},c=!1;if(!0===t?r=h:"object"===s(t)&&(r=k(h,t)),r&&(r&&l&&D(r,(function(t,e){t!==l[e]&&(c=!0)})),c&&this.destroyShadows(),this.oldShadowOptions=r),r){if(!this.shadows){var d=r.opacity/r.width,u=this.parentInverted?"translate("+r.offsetY+", "+r.offsetX+")":"translate("+r.offsetX+", "+r.offsetY+")";for(h=1;h<=r.width;h++){var p=a.cloneNode(!1),f=2*r.width+1-2*h;v(p,{stroke:t.color||n.neutralColor100,"stroke-opacity":d*h,"stroke-width":f,transform:u,fill:"none"}),p.setAttribute("class",(p.getAttribute("class")||"")+" highcharts-shadow"),i&&(v(p,"height",Math.max(v(p,"height")-f,0)),p.cutHeight=f),e?e.element.appendChild(p):a.parentNode&&a.parentNode.insertBefore(p,a),o.push(p)}this.shadows=o}}else this.destroyShadows();return this},t.prototype.show=function(t){return this.attr({visibility:t?"inherit":"visible"})},t.prototype.strokeSetter=function(e,i,r){this[i]=e,this.stroke&&this["stroke-width"]?(t.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===e&&this.hasStroke?(r.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},t.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t=this.getStyle("stroke-width"),e=0;if(t.indexOf("px")===t.length-2)e=O(t);else if(""!==t){var i=d.createElementNS(f,"rect");v(i,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(i),e=i.getBBox().width,i.parentNode.removeChild(i)}return e},t.prototype.symbolAttr=function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(i){e[i]=L(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},t.prototype.textSetter=function(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},t.prototype.titleSetter=function(t){var e=this.element,i=e.getElementsByTagName("title")[0]||d.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(L(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},t.prototype.toFront=function(){var t=this.element;return t.parentNode.appendChild(t),this},t.prototype.translate=function(t,e){return this.attr({translateX:t,translateY:e})},t.prototype.updateShadows=function(t,e,i){var r=this.shadows;if(r)for(var n=r.length;n--;)i.call(r[n],"height"===t?Math.max(e-(r[n].cutHeight||0),0):"d"===t?this.d:e,t,r[n])},t.prototype.updateTransform=function(){var t=this.scaleX,e=this.scaleY,i=this.inverted,r=this.rotation,n=this.matrix,o=this.element,s=this.translateX||0,a=this.translateY||0;i&&(s+=this.width,a+=this.height),s=["translate("+s+","+a+")"],b(n)&&s.push("matrix("+n.join(",")+")"),i?s.push("rotate(90) scale(-1,1)"):r&&s.push("rotate("+r+" "+L(this.rotationOriginX,o.getAttribute("x"),0)+" "+L(this.rotationOriginY,o.getAttribute("y")||0)+")"),(b(t)||b(e))&&s.push("scale("+L(t,1)+" "+L(e,1)+")"),s.length&&o.setAttribute("transform",s.join(" "))},t.prototype.visibilitySetter=function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},t.prototype.xGetter=function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},t.prototype.zIndexSetter=function(t,e){var i=this.renderer,r=this.parentGroup,n=(r||i).element||i.box,o=this.element;i=n===i.box;var s,a=!1,l=this.added;if(b(t)?(o.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):b(this[e])&&o.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&r&&(r.handleZ=!0),s=(e=n.childNodes).length-1;0<=s&&!a;s--){l=(r=e[s]).getAttribute("data-z-index");var h=!b(l);r!==o&&(0>t&&h&&!i&&!s?(n.insertBefore(o,e[s]),a=!0):(O(l)<=t||h&&(!b(t)||0<=t))&&(n.insertBefore(o,e[s+1]||null),a=!0))}a||(n.insertBefore(o,e[i?3:0]||null),a=!0)}return a},t}()).prototype["stroke-widthSetter"]=t.prototype.strokeSetter,t.prototype.yGetter=t.prototype.xGetter,t.prototype.matrixSetter=t.prototype.rotationOriginXSetter=t.prototype.rotationOriginYSetter=t.prototype.rotationSetter=t.prototype.scaleXSetter=t.prototype.scaleYSetter=t.prototype.translateXSetter=t.prototype.translateYSetter=t.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},t})),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],(function(t){var e;return function(e){var i;e.rendererTypes={},e.getRendererType=function(t){return void 0===t&&(t=i),e.rendererTypes[t]||e.rendererTypes[i]},e.registerRendererType=function(r,n,o){e.rendererTypes[r]=n,i&&!o||(i=r,t.Renderer=n)}}(e||(e={})),e})),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),n=e.defined,o=e.extend,s=e.isNumber,a=e.merge,l=e.pick,h=e.removeEvent;return function(e){function i(t,r,n,o,s,a,l,h,c,d){var u,p=e.call(this)||this;return p.paddingLeftSetter=p.paddingSetter,p.paddingRightSetter=p.paddingSetter,p.init(t,"g"),p.textStr=r,p.x=n,p.y=o,p.anchorX=a,p.anchorY=l,p.baseline=c,p.className=d,p.addClass("button"===d?"highcharts-no-tooltip":"highcharts-label"),d&&p.addClass("highcharts-"+d),p.text=t.text("",0,0,h).attr({zIndex:1}),"string"===typeof s&&((u=/^url\((.*?)\)$/.test(s))||p.renderer.symbols[s])&&(p.symbolKey=s),p.bBox=i.emptyBBox,p.padding=3,p.baselineOffset=0,p.needsBox=t.styledMode||u,p.deferredAttr={},p.alignFactor=0,p}return r(i,e),i.prototype.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==this.alignFactor&&(this.alignFactor=t,this.bBox&&s(this.xSetting)&&this.attr({x:this.xSetting}))},i.prototype.anchorXSetter=function(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)},i.prototype.anchorYSetter=function(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)},i.prototype.boxAttr=function(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e},i.prototype.css=function(e){if(e){var r={};e=a(e),i.textProps.forEach((function(t){"undefined"!==typeof e[t]&&(r[t]=e[t],delete e[t])})),this.text.css(r);var n="width"in r;"fontSize"in r||"fontWeight"in r?this.updateTextPadding():n&&this.updateBoxSize()}return t.prototype.css.call(this,e)},i.prototype.destroy=function(){h(this.element,"mouseenter"),h(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)},i.prototype.fillSetter=function(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)},i.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var t=this.padding,e=l(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}},i.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},i.prototype.heightSetter=function(t){this.heightSetting=t},i.prototype.on=function(e,i){var r=this,n=r.text,o=n&&"SPAN"===n.element.tagName?n:void 0;if(o){var s=function(t){("mouseenter"===e||"mouseleave"===e)&&t.relatedTarget instanceof Element&&(r.element.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY||o.element.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.call(r.element,t)};o.on(e,s)}return t.prototype.on.call(r,e,s||i),r},i.prototype.onAdd=function(){var t=this.textStr;this.text.add(this),this.attr({text:n(t)?t:"",x:this.x,y:this.y}),this.box&&n(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},i.prototype.paddingSetter=function(t,e){s(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0},i.prototype.rSetter=function(t,e){this.boxAttr(e,t)},i.prototype.shadow=function(t){return t&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(t)),this},i.prototype.strokeSetter=function(t,e){this.stroke=t,this.boxAttr(e,t)},i.prototype["stroke-widthSetter"]=function(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)},i.prototype["text-alignSetter"]=function(t){this.textAlign=t},i.prototype.textSetter=function(t){"undefined"!==typeof t&&this.text.attr({text:t}),this.updateTextPadding()},i.prototype.updateBoxSize=function(){var t=this.text.element.style,e={},r=this.padding,a=this.bBox=s(this.widthSetting)&&s(this.heightSetting)&&!this.textAlign||!n(this.text.textStr)?i.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||a.height||0)+2*r,t=this.renderer.fontMetrics(t&&t.fontSize,this.text),this.baselineOffset=r+Math.min((this.text.firstLineMetrics||t).b,a.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-t.h)/2),this.needsBox&&(this.box||((r=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),r.add(this)),r=this.getCrispAdjust(),e.x=r,e.y=(this.baseline?-this.baselineOffset:0)+r,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(o(e,this.deferredAttr)),this.deferredAttr={})},i.prototype.updateTextPadding=function(){var t=this.text;this.updateBoxSize();var e=this.baseline?0:this.baselineOffset,i=l(this.paddingLeft,this.padding);n(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(i+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),i===t.x&&e===t.y||(t.attr("x",i),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),"undefined"!==typeof e&&t.attr("y",e)),t.x=i,t.y=e},i.prototype.widthSetter=function(t){this.widthSetting=s(t)?t:void 0},i.prototype.getPaddedWidth=function(){var t=this.padding,e=l(this.paddingLeft,t);return t=l(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t},i.prototype.xSetter=function(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)},i.prototype.ySetter=function(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)},i.emptyBBox={width:0,height:0,x:0,y:0},i.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),i}(t)})),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],(function(t){function e(t,e,i,r,o){var a=[];if(o){var l=o.start||0,h=s(o.r,i);i=s(o.r,r||i);var c=(o.end||0)-.001;r=o.innerR;var d=s(o.open,.001>Math.abs((o.end||0)-l-2*Math.PI)),u=Math.cos(l),p=Math.sin(l),f=Math.cos(c),g=Math.sin(c);l=s(o.longArc,.001>c-l-Math.PI?0:1),a.push(["M",t+h*u,e+i*p],["A",h,i,0,l,s(o.clockwise,1),t+h*f,e+i*g]),n(r)&&a.push(d?["M",t+r*f,e+r*g]:["L",t+r*f,e+r*g],["A",r,r,0,l,n(o.clockwise)?1-o.clockwise:0,t+r*u,e+r*p]),d||a.push(["Z"])}return a}function i(t,e,i,n,o){return o&&o.r?r(t,e,i,n,o):[["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["Z"]]}function r(t,e,i,r,n){return[["M",t+(n=n&&n.r||0),e],["L",t+i-n,e],["C",t+i,e,t+i,e,t+i,e+n],["L",t+i,e+r-n],["C",t+i,e+r,t+i,e+r,t+i-n,e+r],["L",t+n,e+r],["C",t,e+r,t,e+r,t,e+r-n],["L",t,e+n],["C",t,e,t,e,t+n,e]]}var n=t.defined,o=t.isNumber,s=t.pick;return{arc:e,callout:function(t,e,i,n,s){var a=Math.min(s&&s.r||0,i,n),l=a+6,h=s&&s.anchorX;s=s&&s.anchorY||0;var c=r(t,e,i,n,{r:a});return o(h)?(t+h>=i?s>e+l&&s<e+n-l?c.splice(3,1,["L",t+i,s-6],["L",t+i+6,s],["L",t+i,s+6],["L",t+i,e+n-a]):c.splice(3,1,["L",t+i,n/2],["L",h,s],["L",t+i,n/2],["L",t+i,e+n-a]):0>=t+h?s>e+l&&s<e+n-l?c.splice(7,1,["L",t,s+6],["L",t-6,s],["L",t,s-6],["L",t,e+a]):c.splice(7,1,["L",t,n/2],["L",h,s],["L",t,n/2],["L",t,e+a]):s&&s>n&&h>t+l&&h<t+i-l?c.splice(5,1,["L",h+6,e+n],["L",h,e+n+6],["L",h-6,e+n],["L",t+a,e+n]):s&&0>s&&h>t+l&&h<t+i-l&&c.splice(1,1,["L",h-6,e],["L",h,e-6],["L",h+6,e],["L",i-a,e]),c):c},circle:function(t,i,r,n){return e(t+r/2,i+n/2,r/2,n/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,r){return[["M",t+i/2,e],["L",t+i,e+r/2],["L",t+i/2,e+r],["L",t,e+r/2],["Z"]]},rect:i,roundedRect:r,square:i,triangle:function(t,e,i,r){return[["M",t+i/2,e],["L",t+i,e+r],["L",t,e+r],["Z"]]},"triangle-down":function(t,e,i,r){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+r],["Z"]]}}})),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){var r=e.doc,n=e.SVG_NS,o=i.attr,s=i.isString,a=i.objectEach,l=i.pick;return function(){function e(t){var e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace),this.fontSize=e&&e.fontSize}return e.prototype.buildSVG=function(){var e=this.svgElement,i=e.element,n=e.renderer,o=l(e.textStr,"").toString(),a=-1!==o.indexOf("<"),h=i.childNodes,c=h.length;n=this.width&&!e.added&&n.box;var d=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(d!==e.textCache){for(e.textCache=d,delete e.actualWidth;c--;)i.removeChild(h[c]);a||this.ellipsis||this.width||-1!==o.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(o))?""!==o&&(n&&n.appendChild(i),o=new t(o),this.modifyTree(o.nodes),o.addToDOM(e.element),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("\u2026")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),n&&n.removeChild(i)):i.appendChild(r.createTextNode(this.unescapeEntities(o))),s(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}},e.prototype.modifyDOM=function(){var t=this,e=this.svgElement,i=o(e.element,"x");e.firstLineMetrics=void 0,[].forEach.call(e.element.querySelectorAll("tspan.highcharts-br"),(function(r,n){r.nextSibling&&r.previousSibling&&(0===n&&1===r.previousSibling.nodeType&&(e.firstLineMetrics=e.renderer.fontMetrics(void 0,r.previousSibling)),o(r,{dy:t.getLineHeight(r.nextSibling),x:i}))}));var s=this.width||0;if(s){var a=function(a,l){var h=a.textContent||"",c=h.replace(/([^\^])-/g,"$1- ").split(" "),d=!t.noWrap&&(1<c.length||1<e.element.childNodes.length),u=t.getLineHeight(l),p=0,f=e.actualWidth;if(t.ellipsis)h&&t.truncate(a,h,void 0,0,Math.max(0,s-parseInt(t.fontSize||12,10)),(function(t,e){return t.substring(0,e)+"\u2026"}));else if(d){for(h=[],d=[];l.firstChild&&l.firstChild!==a;)d.push(l.firstChild),l.removeChild(l.firstChild);for(;c.length;)c.length&&!t.noWrap&&0<p&&(h.push(a.textContent||""),a.textContent=c.join(" ").replace(/- /g,"-")),t.truncate(a,void 0,c,0===p&&f||0,s,(function(t,e){return c.slice(0,e).join(" ").replace(/- /g,"-")})),f=e.actualWidth,p++;d.forEach((function(t){l.insertBefore(t,a)})),h.forEach((function(t){l.insertBefore(r.createTextNode(t),a),(t=r.createElementNS(n,"tspan")).textContent="\u200b",o(t,{dy:u,x:i}),l.insertBefore(t,a)}))}};!function t(i){[].slice.call(i.childNodes).forEach((function(r){r.nodeType===Node.TEXT_NODE?a(r,i):(-1!==r.className.baseVal.indexOf("highcharts-br")&&(e.actualWidth=0),t(r))}))}(e.element)}},e.prototype.getLineHeight=function(t){var e;return t=t.nodeType===Node.TEXT_NODE?t.parentElement:t,this.renderer.styledMode||(e=t&&/(px|em)$/.test(t.style.fontSize)?t.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(e,t||this.svgElement.element).h},e.prototype.modifyTree=function(t){var e=this;for(t.forEach((function i(r,n){var o=r.tagName,a=e.renderer.styledMode,l=r.attributes||{};"b"===o||"strong"===o?a?l.class="highcharts-strong":l.style="font-weight:bold;"+(l.style||""):"i"!==o&&"em"!==o||(a?l.class="highcharts-emphasized":l.style="font-style:italic;"+(l.style||"")),s(l.style)&&(l.style=l.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===o&&(l.class="highcharts-br",r.textContent="\u200b",(n=t[n+1])&&n.textContent&&(n.textContent=n.textContent.replace(/^ +/gm,""))),"#text"!==o&&"a"!==o&&(r.tagName="tspan"),r.attributes=l,r.children&&r.children.filter((function(t){return"#text"!==t.tagName})).forEach(i)}));t[0]&&"tspan"===t[0].tagName&&!t[0].children;)t.splice(0,1)},e.prototype.truncate=function(t,e,i,r,n,o){var s,a=this.svgElement,l=a.renderer,h=a.rotation,c=[],d=i?1:0,u=(e||i||"").length,p=u,f=function(n,s){s=s||n;var h=t.parentNode;if(h&&"undefined"===typeof c[s])if(h.getSubStringLength)try{c[s]=r+h.getSubStringLength(0,i?s+1:s)}catch(d){}else l.getSpanWidth&&(t.textContent=o(e||i,n),c[s]=r+l.getSpanWidth(a,t));return c[s]};a.rotation=0;var g=f(t.textContent.length);if(r+g>n){for(;d<=u;)p=Math.ceil((d+u)/2),i&&(s=o(i,p)),g=f(p,s&&s.length-1),d===u?d=u+1:g>n?u=p-1:d=p;0===u?t.textContent="":e&&u===e.length-1||(t.textContent=s||o(e||i,p))}i&&i.splice(0,p),a.actualWidth=g,a.rotation=h},e.prototype.unescapeEntities=function(t,e){return a(this.renderer.escapes,(function(i,r){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),r))})),t},e}()})),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palette.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s,a,l,h){var c,d=i.charts,u=i.deg2rad,p=i.doc,f=i.isFirefox,g=i.isMS,m=i.isWebKit,v=i.noop,y=i.SVG_NS,x=i.symbolSizes,b=i.win,w=h.addEvent,k=h.attr,C=h.createElement,S=h.css,_=h.defined,M=h.destroyObjectProperties,T=h.extend,A=h.isArray,D=h.isNumber,L=h.isObject,O=h.isString,P=h.merge,E=h.pick,N=h.pInt,I=h.uniqueKey;return i=function(){function i(t,e,i,r,n,o,s){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,i,r,n,o,s)}return i.prototype.init=function(t,e,i,r,n,o,s){var a,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),h=l.element;s||l.css(this.getStyle(r)),t.appendChild(h),k(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&k(h,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=h,this.boxWrapper=l,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 9.1.2")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=n,this.styledMode=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),f&&t.getBoundingClientRect&&((e=function(){S(t,{left:0,top:0}),a=t.getBoundingClientRect(),S(t,{left:Math.ceil(a.left)-a.left+"px",top:Math.ceil(a.top)-a.top+"px"})})(),this.unSubPixelFix=w(b,"resize",e))},i.prototype.definition=function(e){return new t([e]).addToDOM(this.defs.element)},i.prototype.getReferenceURL=function(){if((f||m)&&p.getElementsByTagName("base").length){if(!_(c)){var e=I();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+e+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(p.body),S(e,{position:"fixed",top:0,left:0,zIndex:9e5});var i=p.elementFromPoint(6,6);c="hitme"===(i&&i.id),p.body.removeChild(e)}if(c)return b.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},i.prototype.getStyle=function(t){return this.style=T({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},i.prototype.setStyle=function(t){this.boxWrapper.css(this.getStyle(t))},i.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},i.prototype.destroy=function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},i.prototype.createElement=function(t){var e=new this.Element;return e.init(this,t),e},i.prototype.getRadialAttr=function(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}},i.prototype.buildText=function(t){new l(t).buildSVG()},i.prototype.getContrast=function(t){return(t=e.parse(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},i.prototype.button=function(e,i,n,o,s,a,l,h,c,d){var u=this.label(e,i,n,c,void 0,void 0,d,void 0,"button"),p=this.styledMode,f=0,m=s?P(s):{};if(e=m&&m.style||{},m=t.filterUserAttributes(m),u.attr(P({padding:8,r:2},m)),!p){var v=(m=P({fill:r.neutralColor3,stroke:r.neutralColor20,"stroke-width":1,style:{color:r.neutralColor80,cursor:"pointer",fontWeight:"normal"}},{style:e},m)).style;delete m.style;var y=(a=P(m,{fill:r.neutralColor10},t.filterUserAttributes(a||{}))).style;delete a.style;var x=(l=P(m,{fill:r.highlightColor10,style:{color:r.neutralColor100,fontWeight:"bold"}},t.filterUserAttributes(l||{}))).style;delete l.style;var b=(h=P(m,{style:{color:r.neutralColor20}},t.filterUserAttributes(h||{}))).style;delete h.style}return w(u.element,g?"mouseover":"mouseenter",(function(){3!==f&&u.setState(1)})),w(u.element,g?"mouseout":"mouseleave",(function(){3!==f&&u.setState(f)})),u.setState=function(t){1!==t&&(u.state=f=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),p||u.attr([m,a,l,h][t||0]).css([v,y,x,b][t||0])},p||u.attr(m).css(T({cursor:"default"},v)),u.on("touchstart",(function(t){return t.stopPropagation()})).on("click",(function(t){3!==f&&o.call(u,t)}))},i.prototype.crispLine=function(t,e,i){void 0===i&&(i="round");var r=t[0],n=t[1];return _(r[1])&&r[1]===n[1]&&(r[1]=n[1]=Math[i](r[1])-e%2/2),_(r[2])&&r[2]===n[2]&&(r[2]=n[2]=Math[i](r[2])+e%2/2),t},i.prototype.path=function(t){var e=this.styledMode?{}:{fill:"none"};return A(t)?e.d=t:L(t)&&T(e,t),this.createElement("path").attr(e)},i.prototype.circle=function(t,e,i){return t=L(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},i.prototype.arc=function(t,e,i,r,n,o){return L(t)?(e=(r=t).y,i=r.r,t=r.x):r={innerR:r,start:n,end:o},(t=this.symbol("arc",t,e,i,i,r)).r=i,t},i.prototype.rect=function(t,e,i,r,n,o){n=L(t)?t.r:n;var s=this.createElement("rect");return t=L(t)?t:"undefined"===typeof t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(r,0)},this.styledMode||("undefined"!==typeof o&&(t["stroke-width"]=o,t=s.crisp(t)),t.fill="none"),n&&(t.r=n),s.rSetter=function(t,e,i){s.r=t,k(i,{rx:t,ry:t})},s.rGetter=function(){return s.r||0},s.attr(t)},i.prototype.setSize=function(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(i,!0)?void 0:0}),this.alignElements()},i.prototype.g=function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},i.prototype.image=function(t,e,i,r,n,o){var s={preserveAspectRatio:"none"},a=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};1<arguments.length&&T(s,{x:e,y:i,width:r,height:n});var l=this.createElement("image").attr(s);if(s=function(e){a(l.element,t),o.call(l,e)},o){a(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");var h=new b.Image;w(h,"load",s),h.src=t,h.complete&&s({})}else a(l.element,t);return l},i.prototype.symbol=function(t,e,i,r,n,o){var s,a=this,l=/^url\((.*?)\)$/,h=l.test(t),c=!h&&(this.symbols[t]?t:"circle"),u=c&&this.symbols[c];if(u){"number"===typeof e&&(s=u.call(this.symbols,Math.round(e||0),Math.round(i||0),r||0,n||0,o));var f=this.path(s);a.styledMode||f.attr("fill","none"),T(f,{symbolName:c||void 0,x:e,y:i,width:r,height:n}),o&&T(f,o)}else if(h){var g=t.match(l)[1],m=f=this.image(g);m.imgwidth=E(x[g]&&x[g].width,o&&o.width),m.imgheight=E(x[g]&&x[g].height,o&&o.height);var v=function(t){return t.attr({width:t.width,height:t.height})};["width","height"].forEach((function(t){m[t+"Setter"]=function(t,e){var i=this["img"+e];this[e]=t,_(i)&&(o&&"within"===o.backgroundSize&&this.width&&this.height&&(i=Math.round(i*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(t=((this[e]||0)-i)/2,this.attr("width"===e?{translateX:t}:{translateY:t})))}})),_(e)&&m.attr({x:e,y:i}),m.isImg=!0,_(m.imgwidth)&&_(m.imgheight)?v(m):(m.attr({width:0,height:0}),C("img",{onload:function(){var t=d[a.chartIndex];0===this.width&&(S(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),x[g]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&v(m),this.parentNode&&this.parentNode.removeChild(this),a.imgCount--,a.imgCount||!t||t.hasLoaded||t.onload()},src:g}),this.imgCount++)}return f},i.prototype.clipRect=function(t,e,i,r){var n=I()+"-",o=this.createElement("clipPath").attr({id:n}).add(this.defs);return(t=this.rect(t,e,i,r,0).add(o)).id=n,t.clipPath=o,t.count=0,t},i.prototype.text=function(t,e,i,r){var n={};return!r||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),_(t)&&(n.text=t),t=this.createElement("text").attr(n),r||(t.xSetter=function(t,e,i){for(var r,n=i.getElementsByTagName("tspan"),o=i.getAttribute(e),s=0;s<n.length;s++)(r=n[s]).getAttribute(e)===o&&r.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},i.prototype.fontMetrics=function(t,e){return t=!this.styledMode&&/px/.test(t)||!b.getComputedStyle?t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize:e&&o.prototype.getStyle.call(e,"font-size"),{h:e=24>(t=/px/.test(t)?N(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},i.prototype.rotCorr=function(t,e,i){var r=t;return e&&i&&(r=Math.max(r*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:r}},i.prototype.pathToSegments=function(t){for(var e=[],i=[],r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},n=0;n<t.length;n++)O(i[0])&&D(t[n])&&i.length===r[i[0].toUpperCase()]&&t.splice(n,0,i[0].replace("M","L").replace("m","l")),"string"===typeof t[n]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[n]);return e.push(i.slice(0)),e},i.prototype.label=function(t,e,i,r,n,o,a,l,h){return new s(this,t,e,i,r,n,o,a,l,h)},i.prototype.alignElements=function(){this.alignedObjects.forEach((function(t){return t.align()}))},i}(),T(i.prototype,{Element:o,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:a,draw:v}),n.registerRendererType("svg",i,!0),i})),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=t.isFirefox,s=t.isMS,a=t.isWebKit,l=t.win,h=i.css,c=i.defined,d=i.extend,u=i.pick,p=i.pInt;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.compose=function(t){t=t.prototype;var i=e.prototype;t.getSpanCorrection=i.getSpanCorrection,t.htmlCss=i.htmlCss,t.htmlGetBBox=i.htmlGetBBox,t.htmlUpdateTransform=i.htmlUpdateTransform,t.setSpanRotation=i.setSpanRotation},e.prototype.getSpanCorrection=function(t,e,i){this.xCorr=-t*i,this.yCorr=-e},e.prototype.htmlCss=function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,i=u(e&&t.width,void 0);if(e){delete t.width,this.textWidth=i;var r=!0}return t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=d(this.styles,t),h(this.element,t),r&&this.htmlUpdateTransform(),this},e.prototype.htmlGetBBox=function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},e.prototype.htmlUpdateTransform=function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,r=this.translateY||0,n=this.x||0,o=this.y||0,s=this.textAlign||"left",a={left:0,center:.5,right:1}[s],l=this.styles;if(l=l&&l.whiteSpace,h(e,{marginLeft:i,marginTop:r}),!t.styledMode&&this.shadows&&this.shadows.forEach((function(t){h(t,{marginLeft:i+1,marginTop:r+1})})),this.inverted&&[].forEach.call(e.childNodes,(function(i){t.invertChild(i,e)})),"SPAN"===e.tagName){var d=this.rotation,u=this.textWidth&&p(this.textWidth),f=[d,s,e.innerHTML,this.textWidth,this.textAlign].join(),g=void 0;(g=u!==this.oldTextWidth)&&!(g=u>this.oldTextWidth)&&((g=this.textPxLength)||(h(e,{width:"",whiteSpace:l||"nowrap"}),g=e.offsetWidth),g=g>u),g&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(h(e,{width:u+"px",display:"block",whiteSpace:l||"normal"}),this.oldTextWidth=u,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,f!==this.cTT&&(g=t.fontMetrics(e.style.fontSize,e).b,!c(d)||d===(this.oldRotation||0)&&s===this.oldAlign||this.setSpanRotation(d,a,g),this.getSpanCorrection(!c(d)&&this.textPxLength||e.offsetWidth,g,a,d,s)),h(e,{left:n+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),this.cTT=f,this.oldRotation=d,this.oldAlign=s}}else this.alignOnAdd=!0},e.prototype.setSpanRotation=function(t,e,i){var r={},n=s&&!/Edge/.test(l.navigator.userAgent)?"-ms-transform":a?"-webkit-transform":o?"MozTransform":l.opera?"-o-transform":void 0;n&&(r[n]=r.transform="rotate("+t+"deg)",r[n+(o?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",h(this.element,r))},e}(e)})),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=r.attr,a=r.createElement,l=r.extend,h=r.pick;return function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return o(r,i),r.compose=function(t){t.prototype.html=r.prototype.html},r.prototype.html=function(i,r,n){var o=this.createElement("span"),c=o.element,d=o.renderer,u=d.isSVG,p=function(t,i){["opacity","visibility"].forEach((function(r){t[r+"Setter"]=function(n,o,s){var a=t.div?t.div.style:i;e.prototype[r+"Setter"].call(this,n,o,s),a&&(a[o]=n)}})),t.addedSetters=!0};return o.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,h(e,"")),this.textStr=e,o.doTransform=!0)},u&&p(o,o.element.style),o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(t,e){"align"===e?o.alignValue=o.textAlign=t:o[e]=t,o.doTransform=!0},o.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},o.attr({text:i,x:Math.round(r),y:Math.round(n)}).css({position:"absolute"}),d.styledMode||o.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),c.style.whiteSpace="nowrap",o.css=o.htmlCss,u&&(o.add=function(t){var e=d.box.parentNode,i=[];if(this.parentGroup=t){var r=t.div;if(!r){for(;t;)i.push(t),t=t.parentGroup;i.reverse().forEach((function(t){function n(e,i){t[i]=e,"translateX"===i?d.left=e+"px":d.top=e+"px",t.doTransform=!0}var h=s(t.element,"class"),c=t.styles||{},d=(r=t.div=t.div||a("div",h?{className:h}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,cursor:c.cursor,pointerEvents:c.pointerEvents},r||e)).style;l(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(r),on:function(){return i[0].div&&o.on.apply({element:i[0].div,onEvents:o.onEvents},arguments),t},translateXSetter:n,translateYSetter:n}),t.addedSetters||p(t)}))}}else r=e;return r.appendChild(c),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},r}(i)})),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],(function(t){var e=t.addEvent,i=t.isFunction,r=t.objectEach,n=t.removeEvent;return{registerEventOptions:function(t,o){t.eventOptions=t.eventOptions||{},r(o.events,(function(r,o){i(r)&&t.eventOptions[o]!==r&&(i(t.eventOptions[o])&&n(t,o,t.eventOptions[o]),t.eventOptions[o]=r,e(t,o,r))}))}}})),e(i,"Core/Axis/AxisDefaults.js",[i["Core/Color/Palette.js"]],(function(t){var e;return function(e){e.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:t.neutralColor60,cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:t.neutralColor60}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:t.neutralColor5,minorGridLineWidth:1,minorTickColor:t.neutralColor40,lineColor:t.highlightColor20,lineWidth:1,gridLineColor:t.neutralColor10,gridLineWidth:void 0,tickColor:t.highlightColor20},e.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:t.neutralColor100,fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},e.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},e.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},e.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},e.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(e||(e={})),e})),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){var r=e.deg2rad,n=i.clamp,o=i.correctFloat,s=i.defined,a=i.destroyObjectProperties,l=i.extend,h=i.fireEvent,c=i.isNumber,d=i.merge,u=i.objectEach,p=i.pick;return e=function(){function e(t,e,i,r,n){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=n||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,h(this,"init"),i||r||this.addLabel()}return e.prototype.addLabel=function(){var e=this,i=e.axis,r=i.options,n=i.chart,a=i.categories,d=i.logarithmic,u=i.names,f=e.pos,g=p(e.options&&e.options.labels,r.labels),m=i.tickPositions,v=f===m[0],y=f===m[m.length-1],x=(!g.step||1===g.step)&&1===i.tickInterval;m=m.info;var b,w=e.label;if(a=this.parameters.category||(a?p(a[f],u[f],f):f),d&&c(a)&&(a=o(d.lin2log(a))),i.dateTime&&m)var k=n.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&m.higherRanks[f]||m.unitName]),C=k.main;e.isFirst=v,e.isLast=y;var S={axis:i,chart:n,dateTimeLabelFormat:C,isFirst:v,isLast:y,pos:f,tick:e,tickPositionInfo:m,value:a};h(this,"labelFormat",S);var _=function(e){return g.formatter?g.formatter.call(e,e):g.format?(e.text=i.defaultLabelFormatter.call(e),t.format(g.format,e,n)):i.defaultLabelFormatter.call(e,e)};r=_.call(S,S);var M=k&&k.list;e.shortenLabel=M?function(){for(b=0;b<M.length;b++)if(l(S,{dateTimeLabelFormat:M[b]}),w.attr({text:_.call(S,S)}),w.getBBox().width<i.getSlotWidth(e)-2*g.padding)return;w.attr({text:""})}:void 0,x&&i._addedPlotLB&&e.moveLabel(r,g),s(w)||e.movedLabel?w&&w.textStr!==r&&!x&&(!w.textWidth||g.style.width||w.styles.width||w.css({width:null}),w.attr({text:r}),w.textPxLength=w.getBBox().width):(e.label=w=e.createLabel({x:0,y:0},r,g),e.rotation=0)},e.prototype.createLabel=function(t,e,i){var r=this.axis,n=r.chart;return(t=s(e)&&i.enabled?n.renderer.text(e,t.x,t.y,i.useHTML).add(r.labelGroup):null)&&(n.styledMode||t.css(d(i.style)),t.textPxLength=t.getBBox().width),t},e.prototype.destroy=function(){a(this,this.axis)},e.prototype.getPosition=function(t,e,i,r){var s=this.axis,a=s.chart,l=r&&a.oldChartHeight||a.chartHeight;return(t={x:t?o(s.translate(e+i,null,null,r)+s.transB):s.left+s.offset+(s.opposite?(r&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:t?l-s.bottom+s.offset-(s.opposite?s.height:0):o(l-s.translate(e+i,null,null,r)-s.transB)}).y=n(t.y,-1e5,1e5),h(this,"afterGetPosition",{pos:t}),t},e.prototype.getLabelPosition=function(t,e,i,n,o,a,l,c){var d=this.axis,u=d.transA,p=d.isLinked&&d.linkedParent?d.linkedParent.reversed:d.reversed,f=d.staggerLines,g=d.tickRotCorr||{x:0,y:0},m=n||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),v={},y=o.y;return s(y)||(y=0===d.side?i.rotation?-8:-i.getBBox().height:2===d.side?g.y+8:Math.cos(i.rotation*r)*(g.y-i.getBBox(!1,0).height/2)),t=t+o.x+m+g.x-(a&&n?a*u*(p?-1:1):0),e=e+y-(a&&!n?a*u*(p?1:-1):0),f&&(i=l/(c||1)%f,d.opposite&&(i=f-i-1),e+=d.labelOffset/f*i),v.x=t,v.y=Math.round(e),h(this,"afterGetLabelPosition",{pos:v,tickmarkOffset:a,index:l}),v},e.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},e.prototype.getMarkPath=function(t,e,i,r,n,o){return o.crispLine([["M",t,e],["L",t+(n?0:-i),e+(n?i:0)]],r)},e.prototype.handleOverflow=function(t){var e=this.axis,i=e.options.labels,n=t.x,o=e.chart.chartWidth,s=e.chart.spacing,a=p(e.labelLeft,Math.min(e.pos,s[3]));s=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-s[1]));var l,h=this.label,c=this.rotation,d={left:0,center:.5,right:1}[e.labelAlign||h.attr("align")],u=h.getBBox().width,f=e.getSlotWidth(this),g={},m=f,v=1;c||"justify"!==i.overflow?0>c&&n-d*u<a?l=Math.round(n/Math.cos(c*r)-a):0<c&&n+d*u>s&&(l=Math.round((o-n)/Math.cos(c*r))):(o=n+(1-d)*u,n-d*u<a?m=t.x+m*(1-d)-a:o>s&&(m=s-t.x+m*d,v=-1),(m=Math.min(f,m))<f&&"center"===e.labelAlign&&(t.x+=v*(f-m-d*(f-Math.min(u,m)))),(u>m||e.autoRotation&&(h.styles||{}).width)&&(l=m)),l&&(this.shortenLabel?this.shortenLabel():(g.width=Math.floor(l)+"px",(i.style||{}).textOverflow||(g.textOverflow="ellipsis"),h.css(g)))},e.prototype.moveLabel=function(t,e){var i=this,r=i.label,n=i.axis,o=n.reversed,s=!1;if(r&&r.textStr===t?(i.movedLabel=r,s=!0,delete i.label):u(n.ticks,(function(e){s||e.isNew||e===i||!e.label||e.label.textStr!==t||(i.movedLabel=e.label,s=!0,e.labelPos=i.movedLabel.xy,delete e.label)})),!s&&(i.labelPos||r)){var a=i.labelPos||r.xy;r=n.horiz?o?0:n.width+n.left:a.x,n=n.horiz?a.y:o?n.width+n.left:0,i.movedLabel=i.createLabel({x:r,y:n},t,e),i.movedLabel&&i.movedLabel.attr({opacity:0})}},e.prototype.render=function(t,e,i){var r=this.axis,n=r.horiz,o=this.pos,s=p(this.tickmarkOffset,r.tickmarkOffset);s=(o=this.getPosition(n,o,s,e)).x;var a=o.y;r=n&&s===r.pos+r.len||!n&&a===r.pos?-1:1,n=p(i,this.label&&this.label.newOpacity,1),i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,r),this.renderMark(o,i,r),this.renderLabel(o,e,n,t),this.isNew=!1,h(this,"afterRender")},e.prototype.renderGridLine=function(t,e,i){var r=this.axis,n=r.options,o={},s=this.pos,a=this.type,l=p(this.tickmarkOffset,r.tickmarkOffset),h=r.chart.renderer,c=this.gridLine,d=n.gridLineWidth,u=n.gridLineColor,f=n.gridLineDashStyle;"minor"===this.type&&(d=n.minorGridLineWidth,u=n.minorGridLineColor,f=n.minorGridLineDashStyle),c||(r.chart.styledMode||(o.stroke=u,o["stroke-width"]=d||0,o.dashstyle=f),a||(o.zIndex=1),t&&(e=0),this.gridLine=c=h.path().attr(o).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(r.gridGroup)),c&&(i=r.getPlotLinePath({value:s+l,lineWidth:c.strokeWidth()*i,force:"pass",old:t}))&&c[t||this.isNew?"attr":"animate"]({d:i,opacity:e})},e.prototype.renderMark=function(t,e,i){var r=this.axis,n=r.options,o=r.chart.renderer,s=this.type,a=r.tickSize(s?s+"Tick":"tick"),l=t.x;t=t.y;var h=p(n["minor"!==s?"tickWidth":"minorTickWidth"],!s&&r.isXAxis?1:0);n=n["minor"!==s?"tickColor":"minorTickColor"];var c=this.mark,d=!c;a&&(r.opposite&&(a[0]=-a[0]),c||(this.mark=c=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||c.attr({stroke:n,"stroke-width":h})),c[d?"attr":"animate"]({d:this.getMarkPath(l,t,a[0],c.strokeWidth()*i,r.horiz,o),opacity:e}))},e.prototype.renderLabel=function(t,e,i,r){var n=this.axis,o=n.horiz,s=n.options,a=this.label,l=s.labels,h=l.step;n=p(this.tickmarkOffset,n.tickmarkOffset);var d=t.x;t=t.y;var u=!0;a&&c(d)&&(a.xy=t=this.getLabelPosition(d,t,a,o,l,n,r,h),this.isFirst&&!this.isLast&&!s.showFirstLabel||this.isLast&&!this.isFirst&&!s.showLastLabel?u=!1:!o||l.step||l.rotation||e||0===i||this.handleOverflow(t),h&&r%h&&(u=!1),u&&c(t.y)?(t.opacity=i,a[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(a.attr("y",-9999),this.isNewLabel=!0))},e.prototype.replaceMovedLabel=function(){var t=this.label,e=this.axis,i=e.reversed;if(t&&!this.isNew){var r=e.horiz?i?e.left:e.width+e.left:t.xy.x;i=e.horiz?t.xy.y:i?e.width+e.top:e.top,t.animate({x:r,y:i,opacity:0},void 0,t.destroy),delete this.label}e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},e}()})),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Color/Palette.js"],i["Core/DefaultOptions.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Axis/Tick.js"]],(function(t,e,i,r,n,o,s,a,l){var h=t.animObject,c=n.registerEventOptions,d=o.deg2rad,u=r.defaultOptions,p=s.arrayMax,f=s.arrayMin,g=s.clamp,m=s.correctFloat,v=s.defined,y=s.destroyObjectProperties,x=s.erase,b=s.error,w=s.extend,k=s.fireEvent,C=s.getMagnitude,S=s.isArray,_=s.isNumber,M=s.isString,T=s.merge,A=s.normalizeTickInterval,D=s.objectEach,L=s.pick,O=s.relativeLength,P=s.removeEvent,E=s.splat,N=s.syncTimeout;return t=function(){function t(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(t,e)}return t.prototype.init=function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),k(this,"init",{userOptions:e}),this.opposite=L(e.opposite,this.opposite),this.side=L(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var r=this.options,n=r.labels,o=r.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=L(r.reversed,this.reversed),this.visible=r.visible,this.zoomEnabled=r.zoomEnabled,this.hasNames="category"===o||!0===r.categories,this.categories=r.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=v(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.min=this.max=null,e=L(r.crosshair,E(t.options.tooltip.crosshairs)[i?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&i&&"undefined"===typeof this.reversed&&(this.reversed=!0),this.labelRotation=_(n.rotation)?n.rotation:void 0,c(this,r),k(this,"afterInit")},t.prototype.setOptions=function(t){this.options=T(a.defaultXAxisOptions,"yAxis"===this.coll&&a.defaultYAxisOptions,[a.defaultTopAxisOptions,a.defaultRightAxisOptions,a.defaultBottomAxisOptions,a.defaultLeftAxisOptions][this.side],T(u[this.coll],t)),k(this,"afterSetOptions",{userOptions:t})},t.prototype.defaultLabelFormatter=function(t){var e=this.axis;t=this.chart.numberFormatter;var i=_(this.value)?this.value:NaN,r=e.chart.time,n=this.dateTimeLabelFormat,o=u.lang,s=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;var a=e.logarithmic?Math.abs(i):e.tickInterval,l=s&&s.length;if(e.categories)var h=""+this.value;else if(n)h=r.dateFormat(n,i);else if(l&&1e3<=a)for(;l--&&"undefined"===typeof h;)a>=(e=Math.pow(o,l+1))&&0===10*i%e&&null!==s[l]&&0!==i&&(h=t(i/e,-1)+s[l]);return"undefined"===typeof h&&(h=1e4<=Math.abs(i)?t(i,-1):t(i,-1,void 0,"")),h},t.prototype.getSeriesExtremes=function(){var t,e=this,i=e.chart;k(this,"getSeriesExtremes",null,(function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.stacking&&e.stacking.buildStacks(),e.series.forEach((function(r){if(r.visible||!i.options.chart.ignoreHiddenSeries){var n=r.options,o=n.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=o&&(o=null),e.isXAxis){if((n=r.xData).length){n=e.logarithmic?n.filter(e.validatePositiveValue):n;var s=(t=r.getXExtremes(n)).min,a=t.max;_(s)||s instanceof Date||(n=n.filter(_),s=(t=r.getXExtremes(n)).min,a=t.max),n.length&&(e.dataMin=Math.min(L(e.dataMin,s),s),e.dataMax=Math.max(L(e.dataMax,a),a))}}else r=r.applyExtremes(),_(r.dataMin)&&(s=r.dataMin,e.dataMin=Math.min(L(e.dataMin,s),s)),_(r.dataMax)&&(a=r.dataMax,e.dataMax=Math.max(L(e.dataMax,a),a)),v(o)&&(e.threshold=o),(!n.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}))})),k(this,"afterGetSeriesExtremes")},t.prototype.translate=function(t,e,i,r,n,o){var s=this.linkedParent||this,a=r&&s.old?s.old.min:s.min,l=s.minPixelPadding;n=(s.isOrdinal||s.brokenAxis&&s.brokenAxis.hasBreaks||s.logarithmic&&n)&&s.lin2val;var h=1,c=0;return(r=r&&s.old?s.old.transA:s.transA)||(r=s.transA),i&&(h*=-1,c=s.len),s.reversed&&(c-=(h*=-1)*(s.sector||s.len)),e?(t=(t*h+c-l)/r+a,n&&(t=s.lin2val(t))):(n&&(t=s.val2lin(t)),t=_(a)?h*(t-a)*r+c+h*l+(_(o)?r*o:0):void 0),t},t.prototype.toPixels=function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},t.prototype.toValue=function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},t.prototype.getPlotLinePath=function(t){function e(t,e,i){return("pass"!==x&&t<e||t>i)&&(x?t=g(t,e,i):s=!0),t}var i,r,n,o,s,a=this,l=a.chart,h=a.left,c=a.top,d=t.old,u=t.value,p=t.lineWidth,f=d&&l.oldChartHeight||l.chartHeight,m=d&&l.oldChartWidth||l.chartWidth,v=a.transB,y=t.translatedValue,x=t.force;return t={value:u,lineWidth:p,old:d,force:x,acrossPanes:t.acrossPanes,translatedValue:y},k(this,"getPlotLinePath",t,(function(t){y=L(y,a.translate(u,null,null,d)),y=g(y,-1e5,1e5),i=n=Math.round(y+v),r=o=Math.round(f-y-v),_(y)?a.horiz?(r=c,o=f-a.bottom,i=n=e(i,h,h+a.width)):(i=h,n=m-a.right,r=o=e(r,c,c+a.height)):(s=!0,x=!1),t.path=s&&!x?null:l.renderer.crispLine([["M",i,r],["L",n,o]],p||1)})),t.path},t.prototype.getLinearTickPositions=function(t,e,i){var r=m(Math.floor(e/t)*t);i=m(Math.ceil(i/t)*t);var n,o=[];if(m(r+t)===r&&(n=20),this.single)return[e];for(e=r;e<=i&&(o.push(e),(e=m(e+t,n))!==s);)var s=e;return o},t.prototype.getMinorTickInterval=function(){var t=this.options;return!0===t.minorTicks?L(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},t.prototype.getMinorTickPositions=function(){var t=this.options,e=this.tickPositions,i=this.minorTickInterval,r=this.pointRangePadding||0,n=this.min-r,o=(r=this.max+r)-n,s=[];if(o&&o/i<this.len/3){var a=this.logarithmic;if(a)this.paddedTicks.forEach((function(t,e,r){e&&s.push.apply(s,a.getLogTickPositions(i,r[e-1],r[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())s=s.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),n,r,t.startOfWeek));else for(t=n+(e[0]-n)%i;t<=r&&t!==s[0];t+=i)s.push(t)}return 0!==s.length&&this.trimTicks(s),s},t.prototype.adjustForMinRange=function(){var t,e,i,r,n=this.options,o=this.logarithmic,s=this.min,a=this.max,l=0;if(this.isXAxis&&"undefined"===typeof this.minRange&&!o&&(v(n.min)||v(n.max)?this.minRange=null:(this.series.forEach((function(n){if(i=n.xData,r=n.xIncrement?1:i.length-1,1<i.length)for(t=r;0<t;t--)e=i[t]-i[t-1],(!l||e<l)&&(l=e)})),this.minRange=Math.min(5*l,this.dataMax-this.dataMin))),a-s<this.minRange){var h=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,d=(c-a+s)/2;d=[s-d,L(n.min,s-d)],h&&(d[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),a=[(s=p(d))+c,L(n.max,s+c)],h&&(a[2]=o?o.log2lin(this.dataMax):this.dataMax),(a=f(a))-s<c&&(d[0]=a-c,d[1]=L(n.min,a-c),s=p(d))}this.min=s,this.max=a},t.prototype.getClosest=function(){var t;return this.categories?t=1:this.series.forEach((function(e){var i=e.closestPointRange,r=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&v(i)&&r&&(t=v(t)?Math.min(t,i):i)})),t},t.prototype.nameToX=function(t){var e=S(this.categories),i=e?this.categories:this.names,r=t.options.x;if(t.series.requireSorting=!1,v(r)||(r=this.options.uniqueNames?e?i.indexOf(t.name):L(i.keys[t.name],-1):t.series.autoIncrement()),-1===r){if(!e)var n=i.length}else n=r;return"undefined"!==typeof n&&(this.names[n]=t.name,this.names.keys[t.name]=n),n},t.prototype.updateNames=function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,r){if(i&&i.options&&"undefined"!==typeof i.name){var n=t.nameToX(i);"undefined"!==typeof n&&n!==i.x&&(i.x=n,e.xData[r]=n)}}))})))},t.prototype.setAxisTranslation=function(){var t=this,e=t.max-t.min,i=t.linkedParent,r=!!t.categories,n=t.isXAxis,o=t.axisPointRange||0,s=0,a=0,l=t.transA;if(n||r||o){var h=t.getClosest();i?(s=i.minPointOffset,a=i.pointRangePadding):t.series.forEach((function(e){var i=r?1:n?L(e.options.pointRange,h,0):t.axisPointRange||0,l=e.options.pointPlacement;o=Math.max(o,i),t.single&&!r||(e=e.is("xrange")?!n:n,s=Math.max(s,e&&M(l)?0:i/2),a=Math.max(a,e&&"on"===l?0:i))})),i=t.ordinal&&t.ordinal.slope&&h?t.ordinal.slope/h:1,t.minPointOffset=s*=i,t.pointRangePadding=a*=i,t.pointRange=Math.min(o,t.single&&r?1:e),n&&(t.closestPointRange=h)}t.translationSlope=t.transA=l=t.staticScale||t.len/(e+a||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=l*s,k(this,"afterSetAxisTranslation")},t.prototype.minFromRange=function(){return this.max-this.range},t.prototype.setTickInterval=function(t){var e=this,i=e.chart,r=e.logarithmic,n=e.options,o=e.isXAxis,s=e.isLinked,a=n.tickPixelInterval,l=e.categories,h=e.softThreshold,c=n.maxPadding,d=n.minPadding,u=n.tickInterval,p=_(e.threshold)?e.threshold:null;e.dateTime||l||s||this.getTickAmount();var f=L(e.userMin,n.min),g=L(e.userMax,n.max);if(s){e.linkedParent=i[e.coll][n.linkedTo];var y=e.linkedParent.getExtremes();e.min=L(y.min,y.dataMin),e.max=L(y.max,y.dataMax),n.type!==e.linkedParent.options.type&&b(11,1,i)}else{if(h&&v(p))if(e.dataMin>=p)y=p,d=0;else if(e.dataMax<=p){var x=p;c=0}e.min=L(f,y,e.dataMin),e.max=L(g,x,e.dataMax)}r&&(e.positiveValuesOnly&&!t&&0>=Math.min(e.min,L(e.dataMin,e.min))&&b(10,1,i),e.min=m(r.log2lin(e.min),16),e.max=m(r.log2lin(e.max),16)),e.range&&v(e.max)&&(e.userMin=e.min=f=Math.max(e.dataMin,e.minFromRange()),e.userMax=g=e.max,e.range=null),k(e,"foundExtremes"),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),!(l||e.axisPointRange||e.stacking&&e.stacking.usePercentage||s)&&v(e.min)&&v(e.max)&&(i=e.max-e.min)&&(!v(f)&&d&&(e.min-=i*d),!v(g)&&c&&(e.max+=i*c)),_(e.userMin)||(_(n.softMin)&&n.softMin<e.min&&(e.min=f=n.softMin),_(n.floor)&&(e.min=Math.max(e.min,n.floor))),_(e.userMax)||(_(n.softMax)&&n.softMax>e.max&&(e.max=g=n.softMax),_(n.ceiling)&&(e.max=Math.min(e.max,n.ceiling))),h&&v(e.dataMin)&&(p=p||0,!v(f)&&e.min<p&&e.dataMin>=p?e.min=e.options.minRange?Math.min(p,e.max-e.minRange):p:!v(g)&&e.max>p&&e.dataMax<=p&&(e.max=e.options.minRange?Math.max(p,e.min+e.minRange):p)),_(e.min)&&_(e.max)&&!this.chart.polar&&e.min>e.max&&(v(e.options.min)?e.max=e.min:v(e.options.max)&&(e.min=e.max)),e.tickInterval=e.min===e.max||"undefined"===typeof e.min||"undefined"===typeof e.max?1:s&&e.linkedParent&&!u&&a===e.linkedParent.options.tickPixelInterval?u=e.linkedParent.tickInterval:L(u,this.tickAmount?(e.max-e.min)/Math.max(this.tickAmount-1,1):void 0,l?1:(e.max-e.min)*a/Math.max(e.len,a)),o&&!t&&e.series.forEach((function(t){t.processData(e.min!==(e.old&&e.old.min)||e.max!==(e.old&&e.old.max))})),e.setAxisTranslation(),k(this,"initialAxisTranslation"),e.pointRange&&!u&&(e.tickInterval=Math.max(e.pointRange,e.tickInterval)),t=L(n.minTickInterval,e.dateTime&&!e.series.some((function(t){return t.noSharedTooltip}))?e.closestPointRange:0),!u&&e.tickInterval<t&&(e.tickInterval=t),e.dateTime||e.logarithmic||u||(e.tickInterval=A(e.tickInterval,void 0,C(e.tickInterval),L(n.allowDecimals,.5>e.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(e.tickInterval=e.unsquish()),this.setTickPositions()},t.prototype.setTickPositions=function(){var t=this.options,e=t.tickPositions,i=this.getMinorTickInterval(),r=this.hasVerticalPanning(),n="colorAxis"===this.coll,o=(n||!r)&&t.startOnTick;r=(n||!r)&&t.endOnTick,n=t.tickPositioner,this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i&&this.tickInterval?this.tickInterval/5:i,this.single=this.min===this.max&&v(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=i=e&&e.slice(),!i&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?i=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(i=[this.min,this.max],b(19,!1,this.chart)),i.length>this.len&&(i=[i[0],i.pop()])[0]===i[1]&&(i.length=1),this.tickPositions=i,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=i=n),this.paddedTicks=i.slice(0),this.trimTicks(i,o,r),this.isLinked||(this.single&&2>i.length&&!this.categories&&!this.series.some((function(t){return t.is("heatmap")&&"between"===t.options.pointPlacement}))&&(this.min-=.5,this.max+=.5),e||n||this.adjustTickAmount()),k(this,"afterSetTickPositions")},t.prototype.trimTicks=function(t,e,i){var r=t[0],n=t[t.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(k(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==r)this.min=r;else for(;this.min-o>t[0];)t.shift();if(i)this.max=n;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&v(r)&&!this.options.tickPositions&&t.push((n+r)/2)}},t.prototype.alignToOthers=function(){var t,e={},i=this.options;return!1!==this.chart.options.chart.alignTicks&&i.alignTicks&&!1!==i.startOnTick&&!1!==i.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach((function(i){var r=i.options;r=[i.horiz?r.left:r.top,r.width,r.height,r.pane].join(),i.series.length&&(e[r]?t=!0:e[r]=1)})),t},t.prototype.getTickAmount=function(){var t=this.options,e=t.tickPixelInterval,i=t.tickAmount;!v(t.tickInterval)&&!i&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i},t.prototype.adjustTickAmount=function(){var t=this.options,e=this.tickInterval,i=this.tickPositions,r=this.tickAmount,n=this.finalTickAmt,o=i&&i.length,s=L(this.threshold,this.softThreshold?0:null);if(this.hasData()&&_(this.min)&&_(this.max)){if(o<r){for(;i.length<r;)i.length%2||this.min===s?i.push(m(i[i.length-1]+e)):i.unshift(m(i[0]-e));this.transA*=(o-1)/(r-1),this.min=t.startOnTick?i[0]:Math.min(this.min,i[0]),this.max=t.endOnTick?i[i.length-1]:Math.max(this.max,i[i.length-1])}else o>r&&(this.tickInterval*=2,this.setTickPositions());if(v(n)){for(e=t=i.length;e--;)(3===n&&1===e%2||2>=n&&0<e&&e<t-1)&&i.splice(e,1);this.finalTickAmt=void 0}}},t.prototype.setScale=function(){var t=!1,e=!1;this.series.forEach((function(i){t=t||i.isDirtyData||i.isDirty,e=e||i.xAxis&&i.xAxis.isDirty||!1})),this.setAxisSize();var i=this.len!==(this.old&&this.old.len);i||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=i||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),k(this,"afterSetScale")},t.prototype.setExtremes=function(t,e,i,r,n){var o=this,s=o.chart;i=L(i,!0),o.series.forEach((function(t){delete t.kdTree})),n=w(n,{min:t,max:e}),k(o,"setExtremes",n,(function(){o.userMin=t,o.userMax=e,o.eventArgs=n,i&&s.redraw(r)}))},t.prototype.zoom=function(t,e){var i=this,r=this.dataMin,n=this.dataMax,o=this.options,s=Math.min(r,L(o.min,r)),a=Math.max(n,L(o.max,n));return k(this,"zoom",t={newMin:t,newMax:e},(function(t){var e=t.newMin,o=t.newMax;e===i.min&&o===i.max||(i.allowZoomOutside||(v(r)&&(e<s&&(e=s),e>a&&(e=a)),v(n)&&(o<s&&(o=s),o>a&&(o=a))),i.displayBtn="undefined"!==typeof e||"undefined"!==typeof o,i.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed},t.prototype.setAxisSize=function(){var t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],r=this.horiz,n=this.width=Math.round(O(L(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),o=this.height=Math.round(O(L(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),s=this.top=Math.round(O(L(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(O(L(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-n-e,this.len=Math.max(r?n:o,0),this.pos=r?e:s},t.prototype.getExtremes=function(){var t=this.logarithmic;return{min:t?m(t.lin2log(this.min)):this.min,max:t?m(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},t.prototype.getThreshold=function(t){var e=this.logarithmic,i=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},t.prototype.autoLabelAlign=function(t){var e=(L(t,0)-90*this.side+720)%360;return k(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align},t.prototype.tickSize=function(t){var e=this.options,i=L(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0),r=e["tick"===t?"tickLength":"minorTickLength"];if(i&&r){"inside"===e[t+"Position"]&&(r=-r);var n=[r,i]}return k(this,"afterTickSize",t={tickSize:n}),t.tickSize},t.prototype.labelMetrics=function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},t.prototype.unsquish=function(){var t,e,i=this.options.labels,r=this.horiz,n=this.tickInterval,o=this.len/(((this.categories?1:0)+this.max-this.min)/n),s=i.rotation,a=this.labelMetrics(),l=Math.max(this.max-this.min,0),h=function(t){var e=t/(o||1);return(e=1<e?Math.ceil(e):1)*n>l&&1/0!==t&&1/0!==o&&l&&(e=Math.ceil(l/n)),m(e*n)},c=n,u=Number.MAX_VALUE;if(r){if(!i.staggerLines&&!i.step)if(_(s))var p=[s];else o<i.autoRotationLimit&&(p=i.autoRotation);p&&p.forEach((function(i){if(i===s||i&&-90<=i&&90>=i){var r=(e=h(Math.abs(a.h/Math.sin(d*i))))+Math.abs(i/360);r<u&&(u=r,t=i,c=e)}}))}else i.step||(c=h(a.h));return this.autoRotation=p,this.labelRotation=L(t,_(s)?s:0),c},t.prototype.getSlotWidth=function(t){var e=this.chart,i=this.horiz,r=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];if(t&&_(t.slotWidth))return t.slotWidth;if(i&&2>r.step)return r.rotation?0:(this.staggerLines||1)*this.len/n;if(!i){if(void 0!==(t=r.style.width))return parseInt(String(t),10);if(o)return o-e.spacing[3]}return.33*e.chartWidth},t.prototype.renderUnsquish=function(){var t=this.chart,e=t.renderer,i=this.tickPositions,r=this.ticks,n=this.options.labels,o=n.style,s=this.horiz,a=this.getSlotWidth(),l=Math.max(1,Math.round(a-2*n.padding)),h={},c=this.labelMetrics(),d=o.textOverflow,u=0;if(M(n.rotation)||(h.rotation=n.rotation||0),i.forEach((function(t){(t=r[t]).movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>u&&(u=t.label.textPxLength)})),this.maxLabelLength=u,this.autoRotation)u>l&&u>c.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(a){var p=l;if(!d){var f="clip";for(l=i.length;!s&&l--;){var g=i[l];(g=r[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>a&&g.css({width:a+"px"}),g.getBBox().height>this.len/i.length-(c.h-c.f)&&(g.specificTextOverflow="ellipsis"))}}}h.rotation&&(p=u>.5*t.chartHeight?.33*t.chartHeight:u,d||(f="ellipsis")),(this.labelAlign=n.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),i.forEach((function(t){var e=(t=r[t])&&t.label,i=o.width,n={};e&&(e.attr(h),t.shortenLabel?t.shortenLabel():p&&!i&&"nowrap"!==o.whiteSpace&&(p<e.textPxLength||"SPAN"===e.element.tagName)?(n.width=p+"px",d||(n.textOverflow=e.specificTextOverflow||f),e.css(n)):e.styles&&e.styles.width&&!n.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=h.rotation)}),this),this.tickRotCorr=e.rotCorr(c.b,this.labelRotation||0,0!==this.side)},t.prototype.hasData=function(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&v(this.min)&&v(this.max)},t.prototype.addTitle=function(t){var e,i=this.chart.renderer,r=this.horiz,n=this.opposite,o=this.options.title,s=this.chart.styledMode;this.axisTitle||((e=o.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:n?"right":"left",middle:"center",high:n?"left":"right"})[o.align]),this.axisTitle=i.text(o.text||"",0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation,align:e}).addClass("highcharts-axis-title"),s||this.axisTitle.css(T(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),s||o.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)},t.prototype.generateTick=function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new l(this,t)},t.prototype.getOffset=function(){var t=this,e=this,i=e.chart,r=i.renderer,n=e.options,o=e.tickPositions,s=e.ticks,a=e.horiz,l=e.side,h=i.inverted&&!e.isZAxis?[1,0,3,2][l]:l,c=e.hasData(),d=n.title,u=n.labels,p=i.axisOffset;i=i.clipOffset;var f,g=[-1,1,1,-1][l],m=n.className,y=e.axisParent,x=0,b=0,w=0;if(e.showAxis=f=c||n.showEmpty,e.staggerLines=e.horiz&&u.staggerLines||void 0,!e.axisGroup){var C=function(e,i,n){return r.g(e).attr({zIndex:n}).addClass("highcharts-"+t.coll.toLowerCase()+i+" "+(t.isRadial?"highcharts-radial-axis"+i+" ":"")+(m||"")).add(y)};e.gridGroup=C("grid","-grid",n.gridZIndex),e.axisGroup=C("axis","",n.zIndex),e.labelGroup=C("axis-labels","-labels",u.zIndex)}if(c||e.isLinked?(o.forEach((function(t){e.generateTick(t)})),e.renderUnsquish(),e.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===e.labelAlign,L(u.reserveSpace,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&o.forEach((function(t){w=Math.max(s[t].getLabelSize(),w)})),e.staggerLines&&(w*=e.staggerLines),e.labelOffset=w*(e.opposite?-1:1)):D(s,(function(t,e){t.destroy(),delete s[e]})),d&&d.text&&!1!==d.enabled&&(e.addTitle(f),f&&!1!==d.reserveSpace)){e.titleOffset=x=e.axisTitle.getBBox()[a?"height":"width"];var S=d.offset;b=v(S)?0:L(d.margin,a?5:10)}e.renderLine(),e.offset=g*L(n.offset,p[l]?p[l]+(n.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},d=0===l?-e.labelMetrics().h:2===l?e.tickRotCorr.y:0,c=Math.abs(w)+b,w&&(c=c-d+g*(a?L(u.y,e.tickRotCorr.y+8*g):u.x)),e.axisTitleMargin=L(S,c),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(s,o)),a=this.tickSize("tick"),p[l]=Math.max(p[l],(e.axisTitleMargin||0)+x+g*e.offset,c,o&&o.length&&a?a[0]+g*e.offset:0),n=n.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),i[h]=Math.max(i[h],n),k(this,"afterGetOffset")},t.prototype.getLinePath=function(t){var e=this.chart,i=this.opposite,r=this.offset,n=this.horiz,o=this.left+(i?this.width:0)+r;return r=e.chartHeight-this.bottom-(i?this.height:0)+r,i&&(t*=-1),e.renderer.crispLine([["M",n?this.left:o,n?r:this.top],["L",n?e.chartWidth-this.right:o,n?r:e.chartHeight-this.bottom]],t)},t.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},t.prototype.getTitlePosition=function(){var t=this.horiz,e=this.left,i=this.top,r=this.len,n=this.options.title,o=t?e:i,s=this.opposite,a=this.offset,l=n.x,h=n.y,c=this.axisTitle,d=this.chart.renderer.fontMetrics(n.style.fontSize,c);return c=Math.max(c.getBBox(null,0).height-d.h-1,0),r={low:o+(t?0:r),middle:o+r/2,high:o+(t?r:0)}[n.align],e=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-c,c,d.f,-c][this.side],t={x:t?r+l:e+(s?this.width:0)+a+l,y:t?e+h-(s?this.height:0)+a:r+h},k(this,"afterGetTitlePosition",{titlePosition:t}),t},t.prototype.renderMinorTick=function(t,e){var i=this.minorTicks;i[t]||(i[t]=new l(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},t.prototype.renderTick=function(t,e,i){var r=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(r[t]||(r[t]=new l(this,t)),i&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))},t.prototype.render=function(){var t,e,i=this,r=i.chart,n=i.logarithmic,s=i.options,a=i.isLinked,c=i.tickPositions,d=i.axisTitle,u=i.ticks,p=i.minorTicks,f=i.alternateBands,g=s.stackLabels,m=s.alternateGridColor,v=i.tickmarkOffset,y=i.axisLine,x=i.showAxis,b=h(r.renderer.globalAnimation);if(i.labelEdge.length=0,i.overlap=!1,[u,p,f].forEach((function(t){D(t,(function(t){t.isActive=!1}))})),i.hasData()||a){var w=i.chart.hasRendered&&i.old&&_(i.old.min);i.minorTickInterval&&!i.categories&&i.getMinorTickPositions().forEach((function(t){i.renderMinorTick(t,w)})),c.length&&(c.forEach((function(t,e){i.renderTick(t,e,w)})),v&&(0===i.min||i.single)&&(u[-1]||(u[-1]=new l(i,-1,null,!0)),u[-1].render(-1))),m&&c.forEach((function(s,a){e="undefined"!==typeof c[a+1]?c[a+1]+v:i.max-v,0===a%2&&s<i.max&&e<=i.max+(r.polar?-v:v)&&(f[s]||(f[s]=new o.PlotLineOrBand(i)),t=s+v,f[s].options={from:n?n.lin2log(t):t,to:n?n.lin2log(e):e,color:m,className:"highcharts-alternate-grid"},f[s].render(),f[s].isActive=!0)})),i._addedPlotLB||(i._addedPlotLB=!0,(s.plotLines||[]).concat(s.plotBands||[]).forEach((function(t){i.addPlotBandOrLine(t)})))}[u,p,f].forEach((function(t){var e=[],i=b.duration;D(t,(function(t,i){t.isActive||(t.render(i,!1,0),t.isActive=!1,e.push(i))})),N((function(){for(var i=e.length;i--;)t[e[i]]&&!t[e[i]].isActive&&(t[e[i]].destroy(),delete t[e[i]])}),t!==f&&r.hasRendered&&i?i:0)})),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[x?"show":"hide"](x)),d&&x&&(s=i.getTitlePosition(),_(s.y)?(d[d.isNew?"attr":"animate"](s),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),g&&g.enabled&&i.stacking&&i.stacking.renderStackTotals(),i.old={len:i.len,max:i.max,min:i.min,transA:i.transA,userMax:i.userMax,userMin:i.userMin},i.isDirty=!1,k(this,"afterRender")},t.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))},t.prototype.getKeepProps=function(){return this.keepProps||t.keepProps},t.prototype.destroy=function(t){var e=this,i=e.plotLinesAndBands,r=this.eventOptions;if(k(this,"destroy",{keepEvents:t}),t||P(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){y(t)})),i)for(t=i.length;t--;)i[t].destroy();for(var n in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())})),e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[n]=e.plotLinesAndBandsGroups[n].destroy();D(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=r},t.prototype.drawCrosshair=function(t,r){var n,o=this.crosshair,s=L(o&&o.snap,!0),a=this.chart,l=this.cross;if(k(this,"drawCrosshair",{e:t,point:r}),t||(t=this.cross&&this.cross.e),o&&!1!==(v(r)||!s)){if(s?v(r)&&(n=L("colorAxis"!==this.coll?r.crosshairPos:null,this.isXAxis?r.plotX:this.len-r.plotY)):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),v(n)){var h={value:r&&(this.isXAxis?r.x:L(r.stackY,r.y)),translatedValue:n};a.polar&&w(h,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:r}),h=this.getPlotLinePath(h)||null}if(!v(h))return void this.hideCrosshair();s=this.categories&&!this.isRadial,l||(this.cross=l=a.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+(o.className||"")).attr({zIndex:L(o.zIndex,2)}).add(),a.styledMode||(l.attr({stroke:o.color||(s?e.parse(i.highlightColor20).setOpacity(.25).get():i.neutralColor20),"stroke-width":L(o.width,1)}).css({"pointer-events":"none"}),o.dashStyle&&l.attr({dashstyle:o.dashStyle}))),l.show().attr({d:h}),s&&!o.width&&l.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();k(this,"afterDrawCrosshair",{e:t,point:r})},t.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),k(this,"afterHideCrosshair")},t.prototype.hasVerticalPanning=function(){var t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))},t.prototype.validatePositiveValue=function(t){return _(t)&&0<t},t.prototype.update=function(t,e){var i=this.chart;t=T(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,L(e,!0)&&i.redraw()},t.prototype.remove=function(t){for(var e=this.chart,i=this.coll,r=this.series,n=r.length;n--;)r[n]&&r[n].remove(!1);x(e.axes,this),x(e[i],this),e[i].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,L(t,!0)&&e.redraw()},t.prototype.setTitle=function(t,e){this.update({title:t},e)},t.prototype.setCategories=function(t,e){this.update({categories:t},e)},t.defaultOptions=a.defaultXAxisOptions,t.keepProps="extKey hcEvents names series userMax userMin".split(" "),t}()})),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Axis/Axis.js"],i["Core/Utilities.js"]],(function(t,e){var i=e.addEvent,r=e.getMagnitude,n=e.normalizeTickInterval,o=e.timeUnits,s=function(){function t(t){this.axis=t}return t.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var s,a=o[e[0]],l=e[1];for(s=0;s<i.length&&(e=i[s],a=o[e[0]],l=e[1],!(i[s+1]&&t<=(a*l[l.length-1]+o[i[s+1][0]])/2));s++);return a===o.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=n(t/a,l,"year"===e[0]?Math.max(r(t/a),1):1),unitName:e[0]}},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("dateTime"),t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},i(t,"init",(function(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new s(this))}))},t.AdditionsClass=s,t}()).compose(t),e})),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Axis/Axis.js"],i["Core/Utilities.js"]],(function(t,e){var i=e.addEvent,r=e.getMagnitude,n=e.normalizeTickInterval,o=e.pick,s=function(){function t(t){this.axis=t}return t.prototype.getLogTickPositions=function(t,e,i,s){var a=this.axis,l=a.len,h=a.options,c=[];if(s||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=a.getLinearTickPositions(t,e,i);else if(.08<=t){var d,u=Math.floor(e),p=h=void 0;for(l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<i+1&&!p;u++){var f=l.length;for(d=0;d<f&&!p;d++){var g=this.log2lin(this.lin2log(u)*l[d]);g>e&&(!s||h<=i)&&"undefined"!==typeof h&&c.push(h),h>i&&(p=!0),h=g}}}else e=this.lin2log(e),i=this.lin2log(i),t=s?a.getMinorTickInterval():h.tickInterval,t=o("auto"===t?null:t,this.minorAutoInterval,h.tickPixelInterval/(s?5:1)*(i-e)/((s?l/a.tickPositions.length:l)||1)),t=n(t,void 0,r(t)),c=a.getLinearTickPositions(t,e,i).map(this.log2lin),s||(this.minorAutoInterval=t/5);return s||(a.tickInterval=t),c},t.prototype.lin2log=function(t){return Math.pow(10,t)},t.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("logarithmic"),i(t,"init",(function(t){var e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new s(this))})),i(t,"afterInit",(function(){var t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}))},t}()).compose(t),e})),e(i,"Core/Axis/PlotLineOrBand.js",[i["Core/Axis/Axis.js"],i["Core/Color/Palette.js"],i["Core/Utilities.js"]],(function(t,e,i){var r=i.arrayMax,n=i.arrayMin,o=i.defined,s=i.destroyObjectProperties,a=i.erase,l=i.extend,h=i.fireEvent,c=i.isNumber,d=i.merge,u=i.objectEach,p=i.pick,f=function(){function t(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}return t.prototype.render=function(){h(this,"render");var t=this,i=t.axis,r=i.horiz,n=i.logarithmic,s=t.options,a=s.label,l=t.label,c=s.to,f=s.from,g=s.value,m=o(f)&&o(c),v=o(g),y=t.svgElem,x=!y,b=[],w=s.color,k=p(s.zIndex,0),C=s.events;b={class:"highcharts-plot-"+(m?"band ":"line ")+(s.className||"")};var S={},_=i.chart.renderer,M=m?"bands":"lines";if(n&&(f=n.log2lin(f),c=n.log2lin(c),g=n.log2lin(g)),i.chart.styledMode||(v?(b.stroke=w||e.neutralColor40,b["stroke-width"]=p(s.width,1),s.dashStyle&&(b.dashstyle=s.dashStyle)):m&&(b.fill=w||e.highlightColor10,s.borderWidth&&(b.stroke=s.borderColor,b["stroke-width"]=s.borderWidth))),S.zIndex=k,M+="-"+k,(n=i.plotLinesAndBandsGroups[M])||(i.plotLinesAndBandsGroups[M]=n=_.g("plot-"+M).attr(S).add()),x&&(t.svgElem=y=_.path().attr(b).add(n)),v)b=i.getPlotLinePath({value:g,lineWidth:y.strokeWidth(),acrossPanes:s.acrossPanes});else{if(!m)return;b=i.getPlotBandPath(f,c,s)}return!t.eventsAdded&&C&&(u(C,(function(e,i){y.on(i,(function(e){C[i].apply(t,[e])}))})),t.eventsAdded=!0),(x||!y.d)&&b&&b.length?y.attr({d:b}):y&&(b?(y.show(!0),y.animate({d:b})):y.d&&(y.hide(),l&&(t.label=l=l.destroy()))),a&&(o(a.text)||o(a.formatter))&&b&&b.length&&0<i.width&&0<i.height&&!b.isFlat?(a=d({align:r&&m&&"center",x:r?!m&&4:10,verticalAlign:!r&&m&&"middle",y:r?m?16:10:m?6:-4,rotation:r&&!m&&90},a),this.renderLabel(a,b,m,k)):l&&l.hide(),t},t.prototype.renderLabel=function(t,e,i,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||"")}).zIndex=o,o=this.getLabelText(t),this.label=s=a.text(o,0,0,t.useHTML).attr(s).add(),this.axis.chart.styledMode||s.css(t.style)),a=e.xBounds||[e[0][1],e[1][1],i?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],i?e[2][2]:e[0][2]],i=n(a),o=n(e),s.align(t,!1,{x:i,y:o,width:r(a)-i,height:r(e)-o}),s.show(!0)},t.prototype.getLabelText=function(t){return o(t.formatter)?t.formatter.call(this):t.text},t.prototype.destroy=function(){a(this.axis.plotLinesAndBands,this),delete this.axis,s(this)},t}();return l(t.prototype,{getPlotBandPath:function(t,e,i){void 0===i&&(i=this.options);var r=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes});i=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes});var n=[],o=this.horiz,s=1;if(t=!c(this.min)||!c(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,i&&r){if(t){var a=i.toString()===r.toString();s=0}for(t=0;t<i.length;t+=2){e=i[t];var l=i[t+1],h=r[t],d=r[t+1];"M"!==e[0]&&"L"!==e[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==h[0]&&"L"!==h[0]||"M"!==d[0]&&"L"!==d[0]||(o&&h[1]===e[1]?(h[1]+=s,d[1]+=s):o||h[2]!==e[2]||(h[2]+=s,d[2]+=s),n.push(["M",e[1],e[2]],["L",l[1],l[2]],["L",d[1],d[2]],["L",h[1],h[2]],["Z"])),n.isFlat=a}}return n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=this,r=new f(this,t),n=this.userOptions;if(this.visible&&(r=r.render()),r){if(this._addedPlotLB||(this._addedPlotLB=!0,(n.plotLines||[]).concat(n.plotBands||[]).forEach((function(t){i.addPlotBandOrLine(t)}))),e){var o=n[e]||[];o.push(t),n[e]=o}this.plotLinesAndBands.push(r)}return r},removePlotBandOrLine:function(t){var e=this.plotLinesAndBands,i=this.options,r=this.userOptions;if(e){for(var n=e.length;n--;)e[n].id===t&&e[n].destroy();[i.plotLines||[],r.plotLines||[],i.plotBands||[],r.plotBands||[]].forEach((function(e){for(n=e.length;n--;)(e[n]||{}).id===t&&a(e,e[n])}))}},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}}),f})),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Color/Palette.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n){var o=t.format,s=e.doc,a=n.clamp,l=n.css,h=n.defined,c=n.discardElement,d=n.extend,u=n.fireEvent,p=n.isArray,f=n.isNumber,g=n.isString,m=n.merge,v=n.pick,y=n.splat,x=n.syncTimeout,b=n.timeUnits;return t=function(){function t(t,e){this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}return t.prototype.applyFilter=function(){var t=this.chart;t.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+t.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},t.prototype.bodyFormatter=function(t){return t.map((function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))},t.prototype.cleanSplit=function(t){this.chart.series.forEach((function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))},t.prototype.defaultFormatter=function(t){var e=this.points||y(this),i=[t.tooltipFooterHeaderFormatter(e[0])];return(i=i.concat(t.bodyFormatter(e))).push(t.tooltipFooterHeaderFormatter(e[0],!0)),i},t.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),c(this.container)),n.clearTimeout(this.hideTimer),n.clearTimeout(this.tooltipTimeout)},t.prototype.getAnchor=function(t,e){var i,r,n=this.chart,o=n.pointer,s=n.inverted,a=n.plotTop,l=n.plotLeft,h=0,c=0;return t=y(t),this.followPointer&&e?("undefined"===typeof e.chartX&&(e=o.normalize(e)),o=[e.chartX-l,e.chartY-a]):t[0].tooltipPos?o=t[0].tooltipPos:(t.forEach((function(t){i=t.series.yAxis,r=t.series.xAxis,h+=t.plotX||0,c+=t.plotLow?(t.plotLow+(t.plotHigh||0))/2:t.plotY||0,r&&i&&(s?(h+=a+n.plotHeight-r.len-r.pos,c+=l+n.plotWidth-i.len-i.pos):(h+=r.pos-l,c+=i.pos-a))})),h/=t.length,c/=t.length,o=[s?n.plotWidth-c:h,s?n.plotHeight-h:c],this.shared&&1<t.length&&e&&(s?o[0]=e.chartX-l:o[1]=e.chartY-a)),o.map(Math.round)},t.prototype.getDateFormat=function(t,e,i,r){var n=this.chart.time,o=n.dateFormat("%m-%d %H:%M:%S.%L",e),s={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond";for(l in b){if(t===b.week&&+n.dateFormat("%w",e)===i&&"00:00:00.000"===o.substr(6)){var l="week";break}if(b[l]>t){l=a;break}if(s[l]&&o.substr(s[l])!=="01-01 00:00:00.000".substr(s[l]))break;"week"!==l&&(a=l)}if(l)var h=n.resolveDTLFormat(r[l]).main;return h},t.prototype.getLabel=function(){var t,i=this,n=this.chart.renderer,o=this.chart.styledMode,s=this.options,a="tooltip"+(h(s.className)?" "+s.className:""),c=s.style&&s.style.pointerEvents||(!this.followPointer&&s.stickOnContact?"auto":"none");if(!this.label){if(this.outside){var d=this.chart.options.chart.style,u=r.getRendererType();this.container=t=e.doc.createElement("div"),t.className="highcharts-tooltip-container",l(t,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style&&this.options.style.zIndex||0,(d&&d.zIndex||0)+3)}),e.doc.body.appendChild(t),this.renderer=n=new u(t,0,0,d,void 0,void 0,n.styledMode)}if(this.split?this.label=n.g(a):(this.label=n.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,a).attr({padding:s.padding,r:s.borderRadius}),o||this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).css({pointerEvents:c}).shadow(s.shadow)),o&&s.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),i.outside&&!i.split){var p=this.label,f=p.xSetter,g=p.ySetter;p.xSetter=function(e){f.call(p,i.distance),t.style.left=e+"px"},p.ySetter=function(e){g.call(p,i.distance),t.style.top=e+"px"}}this.label.on("mouseenter",(function(){i.inContact=!0})).on("mouseleave",(function(){var t=i.chart.hoverSeries;i.inContact=!1,t&&t.onMouseOut&&t.onMouseOut()})).attr({zIndex:8}).add()}return this.label},t.prototype.getPosition=function(t,e,i){var r,n=this.chart,o=this.distance,a={},l=n.inverted&&i.h||0,h=this.outside,c=h?s.documentElement.clientWidth-2*o:n.chartWidth,d=h?Math.max(s.body.scrollHeight,s.documentElement.scrollHeight,s.body.offsetHeight,s.documentElement.offsetHeight,s.documentElement.clientHeight):n.chartHeight,u=n.pointer.getChartPosition(),p=function(r){var s="x"===r;return[r,s?c:d,s?t:e].concat(h?[s?t*u.scaleX:e*u.scaleY,s?u.left-o+(i.plotX+n.plotLeft)*u.scaleX:u.top-o+(i.plotY+n.plotTop)*u.scaleY,0,s?c:d]:[s?t:e,s?i.plotX+n.plotLeft:i.plotY+n.plotTop,s?n.plotLeft:n.plotTop,s?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},f=p("y"),g=p("x"),m=!this.followPointer&&v(i.ttBelow,!n.inverted===!!i.negative),y=function(t,e,i,r,n,s,c){var d=h?"y"===t?o*u.scaleY:o*u.scaleX:o,p=(i-r)/2,f=r<n-o,g=n+o+r<e,v=n-d-i+p;if(n=n+d-p,m&&g)a[t]=n;else if(!m&&f)a[t]=v;else if(f)a[t]=Math.min(c-r,0>v-l?v:v-l);else{if(!g)return!1;a[t]=Math.max(s,n+l+i>e?n:n+l)}},x=function(t,e,i,r,n){var s;return n<o||n>e-o?s=!1:a[t]=n<i/2?1:n>e-r/2?e-r-2:n-i/2,s},b=function(t){var e=f;f=g,g=e,r=t};return(n.inverted||1<this.len)&&b(),function t(){!1!==y.apply(0,f)?!1!==x.apply(0,g)||r||(b(!0),t()):r?a.x=a.y=0:(b(!0),t())}(),a},t.prototype.getXDateFormat=function(t,e,i){e=e.dateTimeLabelFormats;var r=i&&i.closestPointRange;return(r?this.getDateFormat(r,t.x,i.options.startOfWeek,e):e.day)||e.year},t.prototype.hide=function(t){var e=this;n.clearTimeout(this.hideTimer),t=v(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=x((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))},t.prototype.init=function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=v(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))},t.prototype.isStickyOnContact=function(){return!(this.followPointer||!this.options.stickOnContact||!this.inContact)},t.prototype.move=function(t,e,i,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=o.followPointer||1<o.len;d(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+i)/3:i,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),o.drawTracker(),a&&(n.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,e,i,r)}),32))},t.prototype.refresh=function(t,e){var r=this.chart,o=this.options,s=y(t),a=s[0],l={},h=[],c=o.formatter||this.defaultFormatter;l=this.shared;var d=r.styledMode;if(o.enabled){n.clearTimeout(this.hideTimer),this.followPointer=!this.split&&a.series.tooltipOptions.followPointer;var f=this.getAnchor(t,e),g=f[0],m=f[1];if(!l||!p(t)&&t.series&&t.series.noSharedTooltip?l=a.getLabelConfig():(r.pointer.applyInactiveState(s),s.forEach((function(t){t.setState("hover"),h.push(t.getLabelConfig())})),(l={x:a.category,y:a.y}).points=h),this.len=h.length,t=c.call(l,this),c=a.series,this.distance=v(c.tooltipOptions.distance,16),!1===t)this.hide();else{if(this.split)this.renderSplit(t,s);else{if(s=g,l=m,e&&r.pointer.isDirectTouch&&(s=e.chartX-r.plotLeft,l=e.chartY-r.plotTop),!r.polar&&!1!==c.options.clip&&!c.shouldShowTooltip(s,l))return void this.hide();e=this.getLabel(),o.style.width&&!d||e.css({width:this.chart.spacingBox.width+"px"}),e.attr({text:t&&t.join?t.join(""):t}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+v(a.colorIndex,c.colorIndex)),d||e.attr({stroke:o.borderColor||a.color||c.color||i.neutralColor60}),this.updatePosition({plotX:g,plotY:m,negative:a.negative,ttBelow:a.ttBelow,h:f[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}u(this,"refresh")}},t.prototype.renderSplit=function(t,r){function n(t,e,i,r,n){return void 0===n&&(n=!0),i?(e=L?0:N,t=a(t-r/2,T.left,T.right-r-(o.outside?O:0))):(e-=P,t=a(t=n?t-r-S:t+S,n?t:T.left,T.right)),{x:t,y:e}}var o=this,l=o.chart,h=o.chart,c=h.chartWidth,u=h.chartHeight,p=h.plotHeight,f=h.plotLeft,m=h.plotTop,y=h.pointer,x=h.scrollablePixelsY;x=void 0===x?0:x;var b=h.scrollablePixelsX,w=h.scrollingContainer,k=(w=void 0===w?{scrollLeft:0,scrollTop:0}:w).scrollLeft;w=w.scrollTop;var C=h.styledMode,S=o.distance,_=o.options,M=o.options.positioner,T=o.outside&&"number"!==typeof b?s.documentElement.getBoundingClientRect():{left:k,right:k+c,top:w,bottom:w+u},A=o.getLabel(),D=this.renderer||l.renderer,L=!(!l.xAxis[0]||!l.xAxis[0].opposite),O=(l=y.getChartPosition()).left;l=l.top;var P=m+w,E=0,N=p-x;g(t)&&(t=[!1,t]),t=t.slice(0,r.length+1).reduce((function(t,e,s){if(!1!==e&&""!==e){var l=(s=r[s-1]||{isHeader:!0,plotX:r[0].plotX,plotY:p,series:{}}).isHeader,h=l?o:s.series;e=e.toString();var c=h.tt,d=s.isHeader,u=s.series,g="highcharts-color-"+v(s.colorIndex,u.colorIndex,"none");if(c||(c={padding:_.padding,r:_.borderRadius},C||(c.fill=_.backgroundColor,c["stroke-width"]=_.borderWidth),c=D.label("",0,0,_[d?"headerShape":"shape"]||"callout",void 0,void 0,_.useHTML).addClass((d?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+g).attr(c).add(A)),c.isActive=!0,c.attr({text:e}),C||c.css(_.style).shadow(_.shadow).attr({stroke:_.borderColor||s.color||u.color||i.neutralColor80}),e=(d=(h=h.tt=c).getBBox()).width+h.strokeWidth(),l&&(E=d.height,N+=E,L&&(P-=E)),u=void 0===(u=s.plotX)?0:u,g=void 0===(g=s.plotY)?0:g,c=s.series,s.isHeader){u=f+u;var y=m+p/2}else{var x=c.xAxis,b=c.yAxis;u=x.pos+a(u,-S,x.len+S),c.shouldShowTooltip(0,b.pos-m+g,{ignoreX:!0})&&(y=b.pos+g)}u=a(u,T.left-S,T.right+S),"number"===typeof y?(d=d.height+1,g=M?M.call(o,e,d,s):n(u,y,l,e),t.push({align:M?0:void 0,anchorX:u,anchorY:y,boxWidth:e,point:s,rank:v(g.rank,l?1:0),size:d,target:g.y,tt:h,x:g.x})):h.isActive=!1}return t}),[]),!M&&t.some((function(t){var e=(o.outside?O:0)+t.anchorX;return e<T.left&&e+t.boxWidth<T.right||e<O-T.left+t.boxWidth&&T.right-e>e}))&&(t=t.map((function(t){var e=n(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return d(t,{target:e.y,x:e.x})}))),o.cleanSplit(),e.distribute(t,N);var I=O,z=O;t.forEach((function(t){var e=t.x,i=t.boxWidth;(t=t.isHeader)||(o.outside&&O+e<I&&(I=O+e),!t&&o.outside&&I+i>z&&(z=O+e))})),t.forEach((function(t){var e=t.x,i=t.anchorX,r=t.pos,n=t.point.isHeader;if(r={visibility:"undefined"===typeof r?"hidden":"inherit",x:e,y:r+P,anchorX:i,anchorY:t.anchorY},o.outside&&e<i){var s=O-I;0<s&&(n||(r.x=e+s,r.anchorX=i+s),n&&(r.x=(z-I)/2,r.anchorX=i+s))}t.tt.attr(r)})),t=o.container,x=o.renderer,o.outside&&t&&x&&(h=A.getBBox(),x.setSize(h.width+h.x,h.height+h.y,!1),t.style.left=I+"px",t.style.top=l+"px")},t.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(e&&i){var r={x:0,y:0,width:0,height:0};i=this.getAnchor(i);var n=e.getBBox();i[0]+=t.plotLeft-e.translateX,i[1]+=t.plotTop-e.translateY,r.x=Math.min(0,i[0]),r.y=Math.min(0,i[1]),r.width=0>i[0]?Math.max(Math.abs(i[0]),n.width-i[0]):Math.max(Math.abs(i[0]),n.width),r.height=0>i[1]?Math.max(Math.abs(i[1]),n.height-Math.abs(i[1])):Math.max(Math.abs(i[1]),n.height),this.tracker?this.tracker.attr(r):(this.tracker=e.renderer.rect(r).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},t.prototype.styledModeFormat=function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},t.prototype.tooltipFooterHeaderFormatter=function(t,e){var i=e?"footer":"header",r=t.series,n=r.tooltipOptions,s=n.xDateFormat,a=r.xAxis,l=a&&"datetime"===a.options.type&&f(t.key),h=n[i+"Format"];return u(this,"headerFormatter",e={isFooter:e,labelConfig:t},(function(e){l&&!s&&(s=this.getXDateFormat(t,n,a)),l&&s&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){h=h.replace("{point."+t+"}","{point."+t+":"+s+"}")})),r.chart.styledMode&&(h=this.styledModeFormat(h)),e.text=o(h,{point:t,series:r},this.chart)})),e.text},t.prototype.update=function(t){this.destroy(),m(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,m(!0,this.options,t))},t.prototype.updatePosition=function(t){var e=this.chart,i=e.pointer,r=this.getLabel(),n=t.plotX+e.plotLeft;if(e=t.plotY+e.plotTop,i=i.getChartPosition(),t=(this.options.positioner||this.getPosition).call(this,r.width,r.height,t),this.outside){var o=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(r.width+o,r.height+o,!1),1===i.scaleX&&1===i.scaleY||(l(this.container,{transform:"scale("+i.scaleX+", "+i.scaleY+")"}),n*=i.scaleX,e*=i.scaleY),n+=i.left-t.x,e+=i.top-t.y}this.move(Math.round(t.x),Math.round(t.y||0),n,e)},t}(),e.Tooltip=t,e.Tooltip})),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palette.js"],i["Core/Tooltip.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n){var o=t.parse,s=e.charts,a=e.noop,l=n.addEvent,h=n.attr,c=n.css,d=n.defined,u=n.extend,p=n.find,f=n.fireEvent,g=n.isNumber,m=n.isObject,v=n.objectEach,y=n.offset,x=n.pick,b=n.splat;return t=function(){function t(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}return t.prototype.applyInactiveState=function(t){var e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))},t.prototype.destroy=function(){var i=this;this.eventsToUnbind.forEach((function(t){return t()})),this.eventsToUnbind=[],e.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),v(i,(function(t,e){i[e]=void 0}))},t.prototype.drag=function(t){var e=this.chart,r=e.options.chart,n=this.zoomHor,s=this.zoomVert,a=e.plotLeft,l=e.plotTop,h=e.plotWidth,c=e.plotHeight,d=this.mouseDownX||0,u=this.mouseDownY||0,p=m(r.panning)?r.panning&&r.panning.enabled:r.panning,f=r.panKey&&t[r.panKey+"Key"],g=t.chartX,v=t.chartY,y=this.selectionMarker;if((!y||!y.touch)&&(g<a?g=a:g>a+h&&(g=a+h),v<l?v=l:v>l+c&&(v=l+c),this.hasDragged=Math.sqrt(Math.pow(d-g,2)+Math.pow(u-v,2)),10<this.hasDragged)){var x=e.isInsidePlot(d-a,u-l,{visiblePlotOnly:!0});e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&x&&!f&&!y&&(this.selectionMarker=y=e.renderer.rect(a,l,n?1:h,s?1:c,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||y.attr({fill:r.selectionMarkerFill||o(i.highlightColor80).setOpacity(.25).get()})),y&&n&&(n=g-d,y.attr({width:Math.abs(n),x:(0<n?0:n)+d})),y&&s&&(n=v-u,y.attr({height:Math.abs(n),y:(0<n?0:n)+u})),x&&!y&&p&&e.pan(t,r.panning)}},t.prototype.dragStart=function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},t.prototype.drop=function(t){var e=this,i=this.chart,r=this.hasPinched;if(this.selectionMarker){var n,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,h=s.attr?s.attr("width"):s.width,p=s.attr?s.attr("height"):s.height;(this.hasDragged||r)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&d(i.min)&&(r||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&g(a)&&g(l)){var s=i.horiz,c="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((s?a:l)+c);s=i.toValue((s?a+h:l+p)-c),o[i.coll].push({axis:i,min:Math.min(u,s),max:Math.max(u,s)}),n=!0}})),n&&f(i,"selection",o,(function(t){i.zoom(u(t,r?{animation:!1}:null))}))),g(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),r&&this.scaleGroups()}i&&g(i.index)&&(c(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},t.prototype.findNearestKDPoint=function(t,e,i){var r,n=this.chart,o=n.hoverPoint;return n=n.tooltip,o&&n&&n.isStickyOnContact()?o:(t.forEach((function(t){var n=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,n),(n=m(t,!0)&&t.series)&&!(n=!m(r,!0))){n=r.distX-t.distX;var o=r.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);n=0<(0!==n&&e?n:0!==o?o:0!==s?s:r.series.index>t.series.index?-1:1)}n&&(r=t)})),r)},t.prototype.getChartCoordinatesFromPoint=function(t,e){var i=t.series,r=i.xAxis;i=i.yAxis;var n=t.shapeArgs;if(r&&i){var o=x(t.clientX,t.plotX),s=t.plotY||0;return t.isNode&&n&&g(n.x)&&g(n.y)&&(o=n.x,s=n.y),e?{chartX:i.len+i.pos-s,chartY:r.len+r.pos-o}:{chartX:o+r.pos,chartY:s+i.pos}}if(n&&n.x&&n.y)return{chartX:n.x,chartY:n.y}},t.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var t=this.chart.container,e=y(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};var i=t.offsetWidth;return t=t.offsetHeight,2<i&&2<t&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/t),this.chartPosition},t.prototype.getCoordinates=function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},t.prototype.getHoverData=function(t,e,i,r,n,o){var s=[];r=!(!r||!t);var a={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:n};f(this,"beforeGetHoverData",a);var l=e&&!e.stickyTracking?[e]:i.filter((function(t){return a.filter?a.filter(t):t.visible&&!(!n&&t.directTouch)&&x(t.options.enableMouseTracking,!0)&&t.stickyTracking})),h=r||!o?t:this.findNearestKDPoint(l,n,o);return e=h&&h.series,h&&(n&&!e.noSharedTooltip?(l=i.filter((function(t){return a.filter?a.filter(t):t.visible&&!(!n&&t.directTouch)&&x(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}))).forEach((function(t){var e=p(t.points,(function(t){return t.x===h.x&&!t.isNull}));m(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),s.push(e))})):s.push(h)),f(this,"afterGetHoverData",a={hoverPoint:h}),{hoverPoint:a.hoverPoint,hoverSeries:e,hoverPoints:s}},t.prototype.getPointFromEvent=function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},t.prototype.onTrackerMouseOut=function(t){t=t.relatedTarget||t.toElement;var e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},t.prototype.inClass=function(t,e){for(var i;t;){if(i=h(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},t.prototype.init=function(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},r&&(t.tooltip=new r(t,e.tooltip),this.followTouchMove=x(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},t.prototype.normalize=function(t,e){var i=t.touches,r=i?i.length?i.item(0):x(i.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),i=r.pageX-e.left,r=r.pageY-e.top,i/=e.scaleX,r/=e.scaleY,u(t,{chartX:Math.round(i),chartY:Math.round(r)})},t.prototype.onContainerClick=function(t){var e=this.chart,i=e.hoverPoint;t=this.normalize(t);var r=e.plotLeft,n=e.plotTop;e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(f(i.series,"click",u(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-r,t.chartY-n,{visiblePlotOnly:!0})&&f(e,"click",t)))},t.prototype.onContainerMouseDown=function(t){var i=1===(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),("undefined"===typeof t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))},t.prototype.onContainerMouseLeave=function(e){var i=s[x(t.hoverChartIndex,-1)],r=this.chart.tooltip;e=this.normalize(e),i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset()},t.prototype.onContainerMouseEnter=function(t){delete this.chartPosition},t.prototype.onContainerMouseMove=function(t){var e=this.chart;t=this.normalize(t),this.setHoverChartIndex(),t.preventDefault||(t.returnValue=!1),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))},t.prototype.onDocumentTouchEnd=function(e){var i=s[x(t.hoverChartIndex,-1)];i&&i.pointer.drop(e)},t.prototype.onContainerTouchMove=function(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)},t.prototype.onContainerTouchStart=function(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))},t.prototype.onDocumentMouseMove=function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i);var r=e.tooltip;!i||r&&r.isStickyOnContact()||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||this.inClass(t.target,"highcharts-tracker")||this.reset()},t.prototype.onDocumentMouseUp=function(e){var i=s[x(t.hoverChartIndex,-1)];i&&i.pointer.drop(e)},t.prototype.pinch=function(t){var e=this,i=e.chart,r=e.pinchDown,n=t.touches||[],o=n.length,s=e.lastValidTouch,l=e.hasZoom,h={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),d={},p=e.selectionMarker;1<o&&(e.initiated=!0),l&&e.initiated&&!c&&!1!==t.cancelable&&t.preventDefault(),[].map.call(n,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(n,(function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}})),s.x=[r[0].chartX,r[1]&&r[1].chartX],s.y=[r[0].chartY,r[1]&&r[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],r=t.minPixelPadding,n=t.toPixels(Math.min(x(t.options.min,t.dataMin),t.dataMin)),o=t.toPixels(Math.max(x(t.options.max,t.dataMax),t.dataMax)),s=Math.max(n,o);e.min=Math.min(t.pos,Math.min(n,o)-r),e.max=Math.max(t.pos+t.len,s+r)}})),e.res=!0):e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):r.length&&(p||(e.selectionMarker=p=u({destroy:a,touch:!0},i.plotBox)),e.pinchTranslate(r,n,h,p,d,s),e.hasPinched=l,e.scaleGroups(h,d),e.res&&(e.res=!1,this.reset(!1,0)))},t.prototype.pinchTranslate=function(t,e,i,r,n,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,r,n,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,r,n,o)},t.prototype.pinchTranslateDirection=function(t,e,i,r,n,o,s,a){var l=this.chart,h=t?"x":"y",c=t?"X":"Y",d="chart"+c,u=t?"width":"height",p=l["plot"+(t?"Left":"Top")],f=l.inverted,g=l.bounds[t?"h":"v"],m=1===e.length,v=e[0][d],y=!m&&e[1][d];e=function(){"number"===typeof C&&20<Math.abs(v-y)&&(w=a||Math.abs(k-C)/Math.abs(v-y)),b=(p-k)/w+v,x=l["plot"+(t?"Width":"Height")]/w};var x,b,w=a||1,k=i[0][d],C=!m&&i[1][d];if(e(),(i=b)<g.min){i=g.min;var S=!0}else i+x>g.max&&(i=g.max-x,S=!0);S?(k-=.8*(k-s[h][0]),"number"===typeof C&&(C-=.8*(C-s[h][1])),e()):s[h]=[k,C],f||(o[h]=b-p,o[u]=x),o=f?1/w:w,n[u]=x,n[h]=i,r[f?t?"scaleY":"scaleX":"scale"+c]=w,r["translate"+c]=o*p+(k-o*v)},t.prototype.reset=function(t,e){var i=this.chart,r=i.hoverSeries,n=i.hoverPoint,o=i.hoverPoints,s=i.tooltip,a=s&&s.shared?o:n;t&&a&&b(a).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?s&&a&&b(a).length&&(s.refresh(a),s.shared&&o?o.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):n&&(n.setState(n.state,!0),i.axes.forEach((function(t){t.crosshair&&n.series[t.coll]===t&&t.drawCrosshair(null,n)})))):(n&&n.onMouseOut(),o&&o.forEach((function(t){t.setState()})),r&&r.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)},t.prototype.runPointActions=function(e,i){var r=this.chart,n=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,o=!!n&&n.shared,a=i||r.hoverPoint,h=a&&a.series||r.hoverSeries;a=(i=this.getHoverData(a,h,r.series,(!e||"touchmove"!==e.type)&&(!!i||h&&h.directTouch&&this.isDirectTouch),o,e)).hoverPoint,h=i.hoverSeries;var c=i.hoverPoints;if(i=h&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,o=o&&h&&!h.noSharedTooltip,a&&(a!==r.hoverPoint||n&&n.isHidden)){if((r.hoverPoints||[]).forEach((function(t){-1===c.indexOf(t)&&t.setState()})),r.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(c),(c||[]).forEach((function(t){t.setState("hover")})),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!a.series)return;r.hoverPoints=c,r.hoverPoint=a,a.firePointEvent("mouseOver"),n&&n.refresh(o?c:a,e)}else i&&n&&!n.isHidden&&(a=n.getAnchor([{}],e),r.isInsidePlot(a[0],a[1],{visiblePlotOnly:!0})&&n.updatePosition({plotX:a[0],plotY:a[1]}));this.unDocMouseMove||(this.unDocMouseMove=l(r.container.ownerDocument,"mousemove",(function(e){var i=s[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach((function(t){var i,n=x((t.crosshair||{}).snap,!0);n&&((i=r.hoverPoint)&&i.series[t.coll]===t||(i=p(c,(function(e){return e.series[t.coll]===t})))),i||!n?t.drawCrosshair(e,i):t.hideCrosshair()}))},t.prototype.scaleGroups=function(t,e){var i=this.chart;i.series.forEach((function(r){var n=t||r.getPlotBox();r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))})),i.clipRect.attr(e||i.clipBox)},t.prototype.setDOMEvents=function(){var i=this,r=this.chart.container,n=r.ownerDocument;r.onmousedown=this.onContainerMouseDown.bind(this),r.onmousemove=this.onContainerMouseMove.bind(this),r.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(l(r,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(l(r,"mouseleave",this.onContainerMouseLeave.bind(this))),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=l(n,"mouseup",this.onDocumentMouseUp.bind(this)));for(var o=this.chart.renderTo.parentElement;o&&"BODY"!==o.tagName;)this.eventsToUnbind.push(l(o,"scroll",(function(){delete i.chartPosition}))),o=o.parentElement;e.hasTouch&&(this.eventsToUnbind.push(l(r,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(l(r,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=l(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},t.prototype.setHoverChartIndex=function(){var i=this.chart,r=e.charts[x(t.hoverChartIndex,-1)];r&&r!==i&&r.pointer.onContainerMouseLeave({relatedTarget:!0}),r&&r.mouseIsDown||(t.hoverChartIndex=i.index)},t.prototype.touch=function(t,e){var i=this.chart;if(this.setHoverChartIndex(),1===t.touches.length)if(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop,{visiblePlotOnly:!0})&&!i.openMenu){if(e&&this.runPointActions(t),"touchmove"===t.type)var r=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2));x(r,!0)&&this.pinch(t)}else e&&this.reset();else 2===t.touches.length&&this.pinch(t)},t.prototype.touchSelect=function(t){return!(!this.chart.options.chart.zoomBySingleTouch||!t.touches||1!==t.touches.length)},t.prototype.zoomOption=function(t){var e=this.chart,i=e.options.chart;e=e.inverted;var r=i.zoomType||"";/touch/.test(t.type)&&(r=x(i.pinchType,r)),this.zoomX=t=/x/.test(r),this.zoomY=i=/y/.test(r),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},t}()})),e(i,"Core/MSPointer.js",[i["Core/Globals.js"],i["Core/Pointer.js"],i["Core/Utilities.js"]],(function(t,e,i){function r(){var t=[];return t.item=function(t){return this[t]},p(g,(function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})})),t}function n(t,i,n,o){var s=a[e.hoverChartIndex||NaN];"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!s||(s=s.pointer,o(t),s[i]({type:n,target:t.currentTarget,preventDefault:h,touches:r()}))}var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=t.charts,l=t.doc,h=t.noop,c=t.win,d=i.addEvent,u=i.css,p=i.objectEach,f=i.removeEvent,g={},m=!!c.PointerEvent;return function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return s(i,e),i.isRequired=function(){return!(t.hasTouch||!c.PointerEvent&&!c.MSPointerEvent)},i.prototype.batchMSEvents=function(t){t(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(l,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},i.prototype.destroy=function(){this.batchMSEvents(f),e.prototype.destroy.call(this)},i.prototype.init=function(t,i){e.prototype.init.call(this,t,i),this.hasZoom&&u(t.container,{"-ms-touch-action":"none","touch-action":"none"})},i.prototype.onContainerPointerDown=function(t){n(t,"onContainerTouchStart","touchstart",(function(t){g[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},i.prototype.onContainerPointerMove=function(t){n(t,"onContainerTouchMove","touchmove",(function(t){g[t.pointerId]={pageX:t.pageX,pageY:t.pageY},g[t.pointerId].target||(g[t.pointerId].target=t.currentTarget)}))},i.prototype.onDocumentPointerUp=function(t){n(t,"onDocumentTouchEnd","touchend",(function(t){delete g[t.pointerId]}))},i.prototype.setDOMEvents=function(){e.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(d)},i}(e)})),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/DefaultOptions.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o){var a=e.animObject,l=i.format,h=n.defaultOptions,c=o.addEvent,d=o.defined,u=o.erase,p=o.extend,f=o.fireEvent,g=o.getNestedProperty,m=o.isArray,v=o.isFunction,y=o.isNumber,x=o.isObject,b=o.merge,w=o.objectEach,k=o.pick,C=o.syncTimeout,S=o.removeEvent,_=o.uniqueKey;return e=function(){function e(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return e.prototype.animateBeforeDestroy=function(){var t,e=this,i={x:e.startXPos,opacity:0},r=e.getGraphicalProps();r.singular.forEach((function(r){t="dataLabel"===r,e[r]=e[r].animate(t?{x:e[r].startXPos,y:e[r].startYPos,opacity:0}:i)})),r.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.animate(p({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))}))}))},e.prototype.applyOptions=function(t,i){var r=this.series,n=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),p(this,t),this.options=this.options?p(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,n&&(this.y=e.prototype.getNestedProperty.call(this,n)),this.formatPrefix=(this.isNull=k(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),"undefined"===typeof this.x&&r&&(this.x="undefined"===typeof i?r.autoIncrement(this):i),this},e.prototype.destroy=function(){function t(){for(n in(e.graphic||e.dataLabel||e.dataLabels)&&(S(e),e.destroyElements()),e)e[n]=null}var e=this,i=e.series,r=i.chart;i=i.options.dataSorting;var n,o=r.hoverPoints,s=a(e.series.chart.renderer.globalAnimation);e.legendItem&&r.legend.destroyItem(e),o&&(e.setState(),u(o,e),o.length||(r.hoverPoints=null)),e===r.hoverPoint&&e.onMouseOut(),i&&i.enabled?(this.animateBeforeDestroy(),C(t,s.duration)):t(),r.pointCount--},e.prototype.destroyElements=function(t){var e=this;(t=e.getGraphicalProps(t)).singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.destroy()})),delete e[t]}))},e.prototype.firePointEvent=function(t,e,i){var r=this,n=this.series.options;(n.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&r.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){r.select&&r.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),f(r,t,e,i)},e.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},e.prototype.getGraphicalProps=function(t){var e,i=this,r=[],n={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","upperGraphic","shadowGroup"),t.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),e=r.length;e--;){var o=r[e];i[o]&&n.singular.push(o)}return["dataLabel","connector"].forEach((function(e){var r=e+"s";t[e]&&i[r]&&n.plural.push(r)})),n},e.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},e.prototype.getNestedProperty=function(t){if(t)return 0===t.indexOf("custom.")?g(t,this.options):this[t]},e.prototype.getZone=function(){var t=this.series,e=t.zones;t=t.zoneAxis||"y";var i,r=0;for(i=e[r];this[t]>=i.value;)i=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i},e.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},e.prototype.init=function(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=d(this.id)?this.id:_(),this.resolveColor(),t.chart.pointCount++,f(this,"afterInit"),this},e.prototype.optionsToObject=function(t){var i={},r=this.series,n=r.options.keys,o=n||r.pointArrayMap||["y"],a=o.length,l=0,h=0;if(y(t)||null===t)i[o[0]]=t;else if(m(t))for(!n&&t.length>a&&("string"===(r=s(t[0]))?i.name=t[0]:"number"===r&&(i.x=t[0]),l++);h<a;)n&&"undefined"===typeof t[l]||(0<o[h].indexOf(".")?e.prototype.setNestedProperty(i,t[l],o[h]):i[o[h]]=t[l]),l++,h++;else"object"===s(t)&&(i=t,t.dataLabels&&(r._hasPointLabels=!0),t.marker&&(r._hasPointMarkers=!0));return i},e.prototype.resolveColor=function(){var t=this.series,e=t.chart.options.chart.colorCount,i=t.chart.styledMode;if(delete this.nonZonedColor,t.options.colorByPoint){if(!i){var r=(e=t.options.colors||t.chart.options.colors)[t.colorCounter];e=e.length}i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)}else i||(r=t.color),i=t.colorIndex;this.colorIndex=k(this.options.colorIndex,i),this.color=k(this.options.color,r)},e.prototype.setNestedProperty=function(t,e,i){return i.split(".").reduce((function(t,i,r,n){return t[i]=n.length-1===r?e:x(t[i],!0)?t[i]:{},t[i]}),t),t},e.prototype.tooltipFormatter=function(t){var e=this.series,i=e.tooltipOptions,r=k(i.valueDecimals,""),n=i.valuePrefix||"",o=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(n||o)&&(t=t.replace(RegExp(e+"}","g"),n+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")})),l(t,{point:this,series:this.series},e.chart)},e.prototype.update=function(t,e,i,r){function n(){s.applyOptions(t);var r=l&&s.hasDummyGraphic;r=null===s.y?!r:r,l&&r&&(s.graphic=l.destroy(),delete s.hasDummyGraphic),x(t,!0)&&(l&&l.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),c.data[o]=x(c.data[o],!0)||x(t,!0)?s.options:k(t,c.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===c.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(i)}var o,s=this,a=s.series,l=s.graphic,h=a.chart,c=a.options;e=k(e,!0),!1===r?n():s.firePointEvent("update",{options:t},n)},e.prototype.remove=function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)},e.prototype.select=function(t,e){var i=this,r=i.series,n=r.chart;this.selectedStaging=t=k(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,r.options.data[r.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||n.getSelectedPoints().forEach((function(t){var e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(n.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging},e.prototype.onMouseOver=function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},e.prototype.onMouseOut=function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},e.prototype.importEvents=function(){if(!this.hasImportedEvents){var t=this,e=b(t.series.options.point,t.options).events;t.events=e,w(e,(function(e,i){v(e)&&c(t,i,e)})),this.hasImportedEvents=!0}},e.prototype.setState=function(e,i){var r,n=this.series,o=this.state,s=n.options.states[e||"normal"]||{},a=h.plotOptions[n.type].marker&&n.options.marker,l=a&&!1===a.enabled,c=a&&a.states&&a.states[e||"normal"]||{},d=!1===c.enabled,u=n.stateMarkerGraphic,g=this.marker||{},m=n.chart,v=n.halo,x=a&&n.markerAttribs;if(!((e=e||"")===this.state&&!i||this.selected&&"select"!==e||!1===s.enabled||e&&(d||l&&!1===c.enabled)||e&&g.states&&g.states[e]&&!1===g.states[e].enabled)){if(this.state=e,x&&(r=n.markerAttribs(this,e)),this.graphic&&!this.hasDummyGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),e&&this.graphic.addClass("highcharts-point-"+e),!m.styledMode){var b=n.pointAttribs(this,e),w=k(m.options.chart.animation,s.animation);n.options.inactiveOtherPoints&&y(b.opacity)&&((this.dataLabels||[]).forEach((function(t){t&&t.animate({opacity:b.opacity},w)})),this.connector&&this.connector.animate({opacity:b.opacity},w)),this.graphic.animate(b,w)}r&&this.graphic.animate(r,k(m.options.chart.animation,c.animation,a.animation)),u&&u.hide()}else e&&c&&(o=g.symbol||n.symbol,u&&u.currentSymbol!==o&&(u=u.destroy()),r&&(u?u[i?"animate":"attr"]({x:r.x,y:r.y}):o&&(n.stateMarkerGraphic=u=m.renderer.symbol(o,r.x,r.y,r.width,r.height).add(n.markerGroup),u.currentSymbol=o)),!m.styledMode&&u&&u.attr(n.pointAttribs(this,e))),u&&(u[e&&this.isInside?"show":"hide"](),u.element.point=this);s=s.halo,r=(u=this.graphic||u)&&u.visibility||"inherit",s&&s.size&&u&&"hidden"!==r&&!this.isCluster?(v||(n.halo=v=m.renderer.path().add(u.parentGroup)),v.show()[i?"animate":"attr"]({d:this.haloPath(s.size)}),v.attr({class:"highcharts-halo highcharts-color-"+k(this.colorIndex,n.colorIndex)+(this.className?" "+this.className:""),visibility:r,zIndex:-1}),v.point=this,m.styledMode||v.attr(p({fill:this.color||n.color,"fill-opacity":s.opacity},t.filterUserAttributes(s.attributes||{})))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),f(this,"afterSetState",{state:e})}},e.prototype.haloPath=function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)},e}(),r.Point=e})),e(i,"Core/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n){var o=t.animObject,s=t.setAnimation,a=e.format;t=i.isFirefox;var l=i.marginNames;e=i.win;var h=n.addEvent,c=n.createElement,d=n.css,u=n.defined,p=n.discardElement,f=n.find,g=n.fireEvent,m=n.isNumber,v=n.merge,y=n.pick,x=n.relativeLength,b=n.stableSort,w=n.syncTimeout;n=n.wrap;var k=function(){function t(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}return t.prototype.init=function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),h(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=h(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},t.prototype.setOptions=function(t){var e=y(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=v(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.itemMarginBottom=t.itemMarginBottom||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=y(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0},t.prototype.update=function(t,e){var i=this.chart;this.setOptions(v(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,y(e,!0)&&i.redraw(),g(this,"afterUpdate")},t.prototype.colorizeItem=function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var i=this.options,r=t.legendItem,n=t.legendLine,o=t.legendSymbol,s=this.itemHiddenStyle.color;i=e?i.itemStyle.color:s;var a=e&&t.color||s,l=t.options&&t.options.marker,h={fill:a};r&&r.css({fill:i,color:i}),n&&n.attr({stroke:a}),o&&(l&&o.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=s)),o.attr(h))}g(this,"afterColorizeItem",{item:t,visible:e})},t.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},t.prototype.positionItem=function(t){var e=this,i=this.options,r=i.symbolPadding,n=!i.rtl,o=t._legendItemPos;i=o[0],o=o[1];var s=t.checkbox,a=t.legendGroup;a&&a.element&&(r={translateX:n?i:this.legendWidth-i-2*r-4,translateY:o},n=function(){g(e,"afterPositionItem",{item:t})},u(a.translateY)?a.animate(r,void 0,n):(a.attr(r),n())),s&&(s.x=i,s.y=o)},t.prototype.destroyItem=function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),e&&p(t.checkbox)},t.prototype.destroy=function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach((function(e){["legendItem","legendGroup"].forEach(t,e)})),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},t.prototype.positionCheckboxes=function(){var t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;if(t){var r=t.translateY;this.allItems.forEach((function(n){var o=n.checkbox;if(o){var s=r+i+o.y+(this.scrollOffset||0)+3;d(o,{left:t.translateX+n.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>r-6&&s<r+e-6?"":"none"})}}),this)}},t.prototype.renderTitle=function(){var t=this.options,e=this.padding,i=t.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},t.prototype.setText=function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?a(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})},t.prototype.renderItem=function(t){var e=this.chart,i=e.renderer,r=this.options,n=this.symbolWidth,o=r.symbolPadding||0,s=this.itemStyle,a=this.itemHiddenStyle,l="horizontal"===r.layout?y(r.itemDistance,20):0,h=!r.rtl,c=t.legendItem,d=!t.series,u=!d&&t.series.drawLegendSymbol?t.series:t,p=u.options,f=this.createCheckboxForItem&&p&&p.showCheckbox;p=n+o+l+(f?20:0);var g=r.useHTML,m=t.options.className;c||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+t.colorIndex+(m?" "+m:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=c=i.text("",h?n+o:-o,this.baseline||0,g),e.styledMode||c.css(v(t.visible?s:a)),c.attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(e.styledMode?12:s.fontSize,c),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,c.attr("y",this.baseline),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,r.squareSymbol&&(this.symbolWidth=y(r.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+o+l+(f?20:0),h&&c.attr("x",this.symbolWidth+o))),u.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,c,g)),f&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&s.width||c.css({width:(r.itemWidth||this.widthOption||e.spacingBox.width)-p+"px"}),this.setText(t),e=c.getBBox(),t.itemWidth=t.checkboxOffset=r.itemWidth||t.legendItemWidth||e.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},t.prototype.layoutItem=function(t){var e=this.options,i=this.padding,r="horizontal"===e.layout,n=t.itemHeight,o=this.itemMarginBottom,s=this.itemMarginTop,a=r?y(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth,r&&this.itemX-i+e>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=s+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(n,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=e:(this.itemY+=s+n+o,this.lastLineHeight=n),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-i-(t.checkbox?0:a):e)+i,this.offsetWidth)},t.prototype.getAllItems=function(){var t=[];return this.chart.series.forEach((function(e){var i=e&&e.options;e&&y(i.showInLegend,!u(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),g(this,"afterGetAllItems",{allItems:t}),t},t.prototype.getAlignment=function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},t.prototype.adjustMargins=function(t,e){var i=this.chart,r=this.options,n=this.getAlignment();n&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,s){o.test(n)&&!u(t[s])&&(i[l[s]]=Math.max(i[l[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*r[s%2?"x":"y"]+y(r.margin,12)+e[s]+(i.titleOffset[s]||0)))}))},t.prototype.proximatePositions=function(){var t=this.chart,e=[],r="left"===this.options.align;this.allItems.forEach((function(i){var n,o=r;if(i.yAxis){i.xAxis.options.reversed&&(o=!o),i.points&&(n=f(o?i.points:i.points.slice(0).reverse(),(function(t){return m(t.plotY)}))),o=this.itemMarginTop+i.legendItem.getBBox().height+this.itemMarginBottom;var s=i.yAxis.top-t.plotTop;i.visible?(n=n?n.plotY:i.yAxis.height,n+=s-.3*o):n=s+i.yAxis.height,e.push({target:n,size:o,item:i})}}),this),i.distribute(e,t.plotHeight),e.forEach((function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos}))},t.prototype.render=function(){var t=this.chart,e=t.renderer,i=this.group,r=this.box,n=this.options,o=this.padding;this.itemX=o,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=x(n.width,t.spacingBox.width-o);var s=t.spacingBox.width-2*o-n.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(s/=2),this.maxLegendWidth=this.widthOption||s,i||(this.group=i=e.g("legend").addClass(n.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(i),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle();var a=this.getAllItems();b(a,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),n.reversed&&a.reverse(),this.allItems=a,this.display=s=!!a.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,a.forEach(this.renderItem,this),a.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+o;var l=this.lastItemY+this.lastLineHeight+this.titleHeight;l=this.handleOverflow(l),l+=o,r||(this.box=r=e.rect().addClass("highcharts-legend-box").attr({r:n.borderRadius}).add(i),r.isNew=!0),t.styledMode||r.attr({stroke:n.borderColor,"stroke-width":n.borderWidth||0,fill:n.backgroundColor||"none"}).shadow(n.shadow),0<a&&0<l&&(r[r.isNew?"attr":"animate"](r.crisp.call({},{x:0,y:0,width:a,height:l},r.strokeWidth())),r.isNew=!1),r[s?"show":"hide"](),t.styledMode&&"none"===i.getStyle("display")&&(a=l=0),this.legendWidth=a,this.legendHeight=l,s&&this.align(),this.proximate||this.positionItems(),g(this,"afterRender")},t.prototype.align=function(t){void 0===t&&(t=this.chart.spacingBox);var e=this.chart,i=this.options,r=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?r+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(r-=e.titleOffset[2]),r!==t.y&&(t=v(t,{y:r})),this.group.align(v(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)},t.prototype.handleOverflow=function(t){var e=this,i=this.chart,r=i.renderer,n=this.options,o=n.y,s=this.padding;o=i.spacingBox.height+("top"===n.verticalAlign?-o:o)-s;var a,l,h=n.maxHeight,c=this.clipRect,d=n.navigation,u=y(d.animation,!0),p=d.arrowSize||12,f=this.nav,g=this.pages,m=this.allItems,v=function(t){"number"===typeof t?c.attr({height:t}):c&&(e.clipRect=c.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+s+"px,9999px,"+(s+t)+"px,0)":"auto")},x=function(t){return e[t]=r.circle(0,0,1.3*p).translate(p/2,p/2).add(f),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};return"horizontal"!==n.layout||"middle"===n.verticalAlign||n.floating||(o/=2),h&&(o=Math.min(o,h)),g.length=0,t&&0<o&&t>o&&!1!==d.enabled?(this.clipHeight=a=Math.max(o-20-this.titleHeight-s,0),this.currentPage=y(this.currentPage,1),this.fullHeight=t,m.forEach((function(t,e){var i=t._legendItemPos[1],r=Math.round(t.legendItem.getBBox().height),n=g.length;(!n||i-g[n-1]>a&&(l||i)!==g[n-1])&&(g.push(l||i),n++),t.pageIx=n-1,l&&(m[e-1].pageIx=n-1),e===m.length-1&&i+r-g[n-1]>a&&i!==l&&(g.push(i),t.pageIx=n),i!==l&&(l=i)})),c||(c=e.clipRect=r.clipRect(0,s,9999,0),e.contentGroup.clip(c)),v(a),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).add(f),x("upTracker").on("click",(function(){e.scroll(-1,u)})),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation"),i.styledMode||this.pager.css(d.style),this.pager.add(f),this.down=r.symbol("triangle-down",0,0,p,p).add(f),x("downTracker").on("click",(function(){e.scroll(1,u)}))),e.scroll(0),t=o):f&&(v(),this.nav=f.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},t.prototype.scroll=function(t,e){var i=this,r=this.chart,n=this.pages,a=n.length,l=this.currentPage+t;t=this.clipHeight;var h=this.options.navigation,c=this.pager,d=this.padding;l>a&&(l=a),0<l&&("undefined"!==typeof e&&s(e,r),this.nav.attr({translateX:d,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===l?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:l+"/"+a}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:l===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),r.styledMode||(this.up.attr({fill:1===l?h.inactiveColor:h.activeColor}),this.upTracker.css({cursor:1===l?"default":"pointer"}),this.down.attr({fill:l===a?h.inactiveColor:h.activeColor}),this.downTracker.css({cursor:l===a?"default":"pointer"})),this.scrollOffset=-n[l-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=l,this.positionCheckboxes(),e=o(y(e,r.renderer.globalAnimation,!0)),w((function(){g(i,"afterScroll",{currentPage:l})}),e.duration))},t.prototype.setItemEvents=function(t,e,i){var n=this,o=n.chart.renderer.boxWrapper,s=t instanceof r,a="highcharts-legend-"+(s?"point":"series")+"-active",l=n.chart.styledMode;(i?[e,t.legendSymbol]:[t.legendGroup]).forEach((function(i){i&&i.on("mouseover",(function(){t.visible&&n.allItems.forEach((function(e){t!==e&&e.setState("inactive",!s)})),t.setState("hover"),t.visible&&o.addClass(a),l||e.css(n.options.itemHoverStyle)})).on("mouseout",(function(){n.chart.styledMode||e.css(v(t.visible?n.itemStyle:n.itemHiddenStyle)),n.allItems.forEach((function(e){t!==e&&e.setState("",!s)})),o.removeClass(a),t.setState()})).on("click",(function(e){var i=function(){t.setVisible&&t.setVisible(),n.allItems.forEach((function(e){t!==e&&e.setState(t.visible?"inactive":"",!s)}))};o.removeClass(a),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):g(t,"legendItemClick",e,i)}))}))},t.prototype.createCheckboxForItem=function(t){t.checkbox=c("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),h(t.checkbox,"click",(function(e){g(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))},t}();return(/Trident\/7\.0/.test(e.navigator&&e.navigator.userAgent)||t)&&n(k.prototype,"positionItem",(function(t,e){var i=this,r=function(){e._legendItemPos&&t.call(i,e)};r(),i.bubbleLegend||setTimeout(r)})),i.Legend=k,i.Legend})),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/DefaultOptions.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,r){var n,o=e.defaultOptions,s=r.error,a=r.extendClass,l=r.merge;return function(e){function r(t,r){var n=o.plotOptions||{},s=r.defaultOptions;r.prototype.pointClass||(r.prototype.pointClass=i),r.prototype.type=t,s&&(n[t]=s),e.seriesTypes[t]=r}e.seriesTypes=t.seriesTypes,e.getSeries=function(t,i){void 0===i&&(i={});var r=t.options.chart;r=i.type||r.type||r.defaultSeriesType||"";var n=e.seriesTypes[r];return e||s(17,!0,t,{missingModuleFor:r}),"function"===typeof(r=new n).init&&r.init(t,i),r},e.registerSeriesType=r,e.seriesType=function(t,n,s,h,c){var d=o.plotOptions||{};return n=n||"",d[t]=l(d[n],s),r(t,a(e.seriesTypes[n]||function(){},h)),e.seriesTypes[t].prototype.type=t,c&&(e.seriesTypes[t].prototype.pointClass=a(i,c)),e.seriesTypes[t]}}(n||(n={})),t.seriesType=n.seriesType,n})),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend.js"],i["Core/MSPointer.js"],i["Core/DefaultOptions.js"],i["Core/Color/Palette.js"],i["Core/Pointer.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],(function(t,e,i,r,n,o,a,l,h,c,d,u,p,f,g){var m=t.animate,v=t.animObject,y=t.setAnimation,x=i.numberFormat,b=r.registerEventOptions,w=n.charts,k=n.doc,C=n.marginNames,S=n.win,_=l.defaultOptions,M=l.defaultTime,T=u.seriesTypes,A=f.addEvent,D=f.attr,L=f.cleanRecursively,O=f.createElement,P=f.css,E=f.defined,N=f.discardElement,I=f.erase,z=f.error,j=f.extend,F=f.find,B=f.fireEvent,R=f.getStyle,W=f.isArray,H=f.isNumber,G=f.isObject,Y=f.isString,X=f.merge,U=f.objectEach,V=f.pick,q=f.pInt,K=f.relativeLength,Z=f.removeEvent,$=f.splat,J=f.syncTimeout,Q=f.uniqueKey;return t=function(){function t(t,e,i){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,i)}return t.chart=function(e,i,r){return new t(e,i,r)},t.prototype.getArgs=function(t,e,i){Y(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)},t.prototype.init=function(t,e){var i=t.plotOptions||{};B(this,"init",{args:arguments},(function(){var r=X(_,t),o=r.chart;U(r.plotOptions,(function(t,e){G(t)&&(t.tooltip=i[e]&&X(i[e].tooltip)||void 0)})),r.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new p(t.time):n.time,this.numberFormatter=o.numberFormatter||x,this.styledMode=o.styledMode,this.hasCartesianSeries=o.showAxes,this.index=w.length,w.push(this),n.chartCount++,b(this,o),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,B(this,"afterInit"),this.firstRender()}))},t.prototype.initSeries=function(t){var e=this.options.chart;e=t.type||e.type||e.defaultSeriesType;var i=T[e];return i||z(17,!0,this,{missingModuleFor:e}),"function"===typeof(e=new i).init&&e.init(this,t),e},t.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))},t.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))},t.prototype.orderSeries=function(t){var e=this.series;t=t||0;for(var i=e.length;t<i;++t)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},t.prototype.isInsidePlot=function(t,e,i){void 0===i&&(i={});var r=this.inverted,n=this.plotBox,o=this.plotLeft,s=this.plotTop,a=this.scrollablePlotBox,l=0,h=0;i.visiblePlotOnly&&this.scrollingContainer&&(l=(h=this.scrollingContainer).scrollLeft,h=h.scrollTop);var c=i.series;if(n=i.visiblePlotOnly&&a||n,t={x:a=i.inverted?e:t,y:e=i.inverted?t:e,isInsidePlot:!0},!i.ignoreX){var d=c&&(r?c.yAxis:c.xAxis)||{pos:o,len:1/0};(a=i.paneCoordinates?d.pos+a:o+a)>=Math.max(l+o,d.pos)&&a<=Math.min(l+o+n.width,d.pos+d.len)||(t.isInsidePlot=!1)}return!i.ignoreY&&t.isInsidePlot&&(r=c&&(r?c.xAxis:c.yAxis)||{pos:s,len:1/0},(i=i.paneCoordinates?r.pos+e:s+e)>=Math.max(h+s,r.pos)&&i<=Math.min(h+s+n.height,r.pos+r.len)||(t.isInsidePlot=!1)),B(this,"afterIsInsidePlot",t),t.isInsidePlot},t.prototype.redraw=function(t){B(this,"beforeRedraw");var e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,r=this.pointer,n=this.legend,o=this.userOptions.legend,s=this.renderer,a=s.isHidden(),l=[],h=this.isDirtyBox,c=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),y(!!this.hasRendered&&t,this),a&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;){var d=i[t];if(d.options.stacking||d.options.centerInCategory){var u=!0;if(d.isDirty){var p=!0;break}}}if(p)for(t=i.length;t--;)(d=i[t]).options.stacking&&(d.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"===typeof t.updateTotals&&t.updateTotals(),c=!0):o&&(o.labelFormatter||o.labelFormat)&&(c=!0)),t.isDirtyData&&B(t,"updatedData")})),c&&n&&n.options.enabled&&(n.render(),this.isDirtyLegend=!1),u&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(h=!0)})),e.forEach((function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){B(t,"afterSetExtremes",j(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(h||u)&&t.redraw()})),h&&this.drawChartBox(),B(this,"predraw"),i.forEach((function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),r&&r.reset(!0),s.draw(),B(this,"redraw"),B(this,"render"),a&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))},t.prototype.get=function(t){function e(e){return e.id===t||e.options&&e.options.id===t}for(var i=this.series,r=F(this.axes,e)||F(this.series,e),n=0;!r&&n<i.length;n++)r=F(i[n].points||[],e);return r},t.prototype.getAxes=function(){var t=this,i=this.options,r=i.xAxis=$(i.xAxis||{});i=i.yAxis=$(i.yAxis||{}),B(this,"getAxes"),r.forEach((function(t,e){t.index=e,t.isX=!0})),i.forEach((function(t,e){t.index=e})),r.concat(i).forEach((function(i){new e(t,i)})),B(this,"afterGetAxes")},t.prototype.getSelectedPoints=function(){var t=[];return this.series.forEach((function(e){t=t.concat(e.getPointsCollection().filter((function(t){return V(t.selectedStaging,t.selected)})))})),t},t.prototype.getSelectedSeries=function(){return this.series.filter((function(t){return t.selected}))},t.prototype.setTitle=function(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)},t.prototype.applyDescription=function(t,e){var i=this,r="title"===t?{color:h.neutralColor80,fontSize:this.options.isStock?"16px":"18px"}:{color:h.neutralColor60};r=this.options[t]=X(!this.styledMode&&{style:r},this.options[t],e);var n=this[t];n&&e&&(this[t]=n=n.destroy()),r&&!n&&((n=this.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:"highcharts-"+t,zIndex:r.zIndex||4}).add()).update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||n.css(r.style),this[t]=n)},t.prototype.layOutTitles=function(t){var e=[0,0,0],i=this.renderer,r=this.spacingBox;["title","subtitle","caption"].forEach((function(t){var n,o=this[t],s=this.options[t],a=s.verticalAlign||"top";if(t="title"===t?"top"===a?-3:0:"top"===a?e[0]+2:0,o){this.styledMode||(n=s.style&&s.style.fontSize),n=i.fontMetrics(n,o).b,o.css({width:(s.width||r.width+(s.widthAdjust||0))+"px"});var l=Math.round(o.getBBox(s.useHTML).height);o.align(j({y:"bottom"===a?n:t+n,height:l},s),!1,"spacingBox"),s.floating||("top"===a?e[0]=Math.ceil(e[0]+l):"bottom"===a&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);var n=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,B(this,"afterLayOutTitles"),!this.isDirtyBox&&n&&(this.isDirtyBox=this.isDirtyLegend=n,this.hasRendered&&V(t,!0)&&this.isDirtyBox&&this.redraw())},t.prototype.getChartSize=function(){var t=this.options.chart,e=t.width;t=t.height;var i=this.renderTo;E(e)||(this.containerWidth=R(i,"width")),E(t)||(this.containerHeight=R(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,K(t,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},t.prototype.temporaryDisplay=function(t){var e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(P(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(k.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(k.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,k.body.appendChild(e)),("none"===R(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),P(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==k.body););},t.prototype.setClassName=function(t){this.container.className="highcharts-container "+(t||"")},t.prototype.getContainer=function(){var t,e=this.options,i=e.chart,r=Q(),n=this.renderTo;n||(this.renderTo=n=i.renderTo),Y(n)&&(this.renderTo=n=k.getElementById(n)),n||z(13,!0,this);var o=q(D(n,"data-highcharts-chart"));H(o)&&w[o]&&w[o].hasRendered&&w[o].destroy(),D(n,"data-highcharts-chart",this.index),n.innerHTML="",i.skipClone||n.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth;var s=this.chartHeight;if(P(n,{overflow:"hidden"}),this.styledMode||(t=j({position:"relative",overflow:"hidden",width:o+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},i.style||{})),this.container=r=O("div",{id:r},t,n),this._cursor=r.style.cursor,this.renderer=new(d.getRendererType(i.renderer))(r,o,s,void 0,i.forExport,e.exporting&&e.exporting.allowHTML,this.styledMode),y(void 0,this),this.setClassName(i.className),this.styledMode)for(var a in e.defs)this.renderer.definition(e.defs[a]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,B(this,"afterGetContainer")},t.prototype.getMargins=function(t){var e=this.spacing,i=this.margin,r=this.titleOffset;this.resetMargins(),r[0]&&!E(i[0])&&(this.plotTop=Math.max(this.plotTop,r[0]+e[0])),r[2]&&!E(i[2])&&(this.marginBottom=Math.max(this.marginBottom,r[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),B(this,"getMargins"),t||this.getAxisMargins()},t.prototype.getAxisMargins=function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,r=t.margin,n=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?n(t.axes):i&&i.length&&n(i),C.forEach((function(i,n){E(r[n])||(t[i]+=e[n])})),t.setChartSize()},t.prototype.reflow=function(t){var e=this,i=e.options.chart,r=e.renderTo,n=E(i.width)&&E(i.height),o=i.width||R(r,"width");i=i.height||R(r,"height"),r=t?t.target:S,delete e.pointer.chartPosition,n||e.isPrinting||!o||!i||r!==S&&r!==k||(o===e.containerWidth&&i===e.containerHeight||(f.clearTimeout(e.reflowTimeout),e.reflowTimeout=J((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerWidth=o,e.containerHeight=i)},t.prototype.setReflow=function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=A(S,"resize",(function(t){e.options&&e.reflow(t)})),A(this,"destroy",this.unbindReflow))},t.prototype.setSize=function(t,e,i){var r=this,n=r.renderer;r.isResizing+=1,y(i,r),i=n.globalAnimation,r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,"undefined"!==typeof t&&(r.options.chart.width=t),"undefined"!==typeof e&&(r.options.chart.height=e),r.getChartSize(),r.styledMode||(i?m:P)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},i),r.setChartSize(!0),n.setSize(r.chartWidth,r.chartHeight,i),r.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(i),r.oldChartHeight=null,B(r,"resize"),J((function(){r&&B(r,"endResize",null,(function(){--r.isResizing}))}),v(i).duration)},t.prototype.setChartSize=function(t){var e,i,r,n,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=n=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=o?n:r,this.plotSizeY=o?r:n,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:i,width:r,height:n},o=2*Math.floor(this.plotBorderWidth/2),a=Math.ceil(Math.max(o,d[3])/2),l=Math.ceil(Math.max(o,d[0])/2),this.clipBox={x:a,y:l,width:Math.floor(this.plotSizeX-Math.max(o,d[1])/2-a),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(o,d[2])/2-l))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),s.alignElements()),B(this,"afterSetChartSize",{skipAxes:t})},t.prototype.resetMargins=function(){B(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){var r=e[i],n=G(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach((function(r,o){t[i][o]=V(e[i+r],n[o])}))})),C.forEach((function(e,i){t[e]=V(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},t.prototype.drawChartBox=function(){var t,e=this.options.chart,i=this.renderer,r=this.chartWidth,n=this.chartHeight,o=this.styledMode,s=this.plotBGImage,a=e.backgroundColor,l=e.plotBackgroundColor,h=e.plotBackgroundImage,c=this.plotLeft,d=this.plotTop,u=this.plotWidth,p=this.plotHeight,f=this.plotBox,g=this.clipRect,m=this.clipBox,v=this.chartBackground,y=this.plotBackground,x=this.plotBorder,b="animate";if(v||(this.chartBackground=v=i.rect().addClass("highcharts-background").add(),b="attr"),o)var w=t=v.strokeWidth();else t=(w=e.borderWidth||0)+(e.shadow?8:0),a={fill:a||"none"},(w||v["stroke-width"])&&(a.stroke=e.borderColor,a["stroke-width"]=w),v.attr(a).shadow(e.shadow);v[b]({x:t/2,y:t/2,width:r-t-w%2,height:n-t-w%2,r:e.borderRadius}),b="animate",y||(b="attr",this.plotBackground=y=i.rect().addClass("highcharts-plot-background").add()),y[b](f),o||(y.attr({fill:l||"none"}).shadow(e.plotShadow),h&&(s?(h!==s.attr("href")&&s.attr("href",h),s.animate(f)):this.plotBGImage=i.image(h,c,d,u,p).add())),g?g.animate({width:m.width,height:m.height}):this.clipRect=i.clipRect(m),b="animate",x||(b="attr",this.plotBorder=x=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),o||x.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),x[b](x.crisp({x:c,y:d,width:u,height:p},-x.strokeWidth())),this.isDirtyBox=!1,B(this,"afterDrawChartBox")},t.prototype.propFromSeries=function(){var t,e,i,r=this,n=r.options.chart,o=r.options.series;["inverted","angular","polar"].forEach((function(s){for(e=T[n.type||n.defaultSeriesType],i=n[s]||e&&e.prototype[s],t=o&&o.length;!i&&t--;)(e=T[o[t].type])&&e.prototype[s]&&(i=!0);r[s]=i}))},t.prototype.linkSeries=function(){var t=this,e=t.series;e.forEach((function(t){t.linkedSeries.length=0})),e.forEach((function(e){var i=e.options.linkedTo;Y(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,i.enabledDataSorting&&e.setDataSortingOptions(),e.visible=V(e.options.visible,i.options.visible,e.visible))})),B(this,"afterLinkSeries")},t.prototype.renderSeries=function(){this.series.forEach((function(t){t.translate(),t.render()}))},t.prototype.renderLabels=function(){var t=this,e=t.options.labels;e.items&&e.items.forEach((function(i){var r=j(e.style,i.style),n=q(r.left)+t.plotLeft,o=q(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(i.html,n,o).attr({zIndex:2}).css(r).add()}))},t.prototype.render=function(){var t=this.axes,e=this.colorAxis,i=this.renderer,r=this.options,n=function(t){t.forEach((function(t){t.visible&&t.render()}))},s=0;this.setTitle(),this.legend=new o(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return s=21,!0}));var a=this.plotHeight=Math.max(this.plotHeight-s,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();var l=1.1<r/this.plotWidth,h=1.05<a/this.plotHeight;(l||h)&&(t.forEach((function(t){(t.horiz&&l||!t.horiz&&h)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?n(t):e&&e.length&&n(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},t.prototype.addCredits=function(t){var e=this,i=X(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(S.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},t.prototype.destroy=function(){var t,e=this,i=e.axes,r=e.series,o=e.container,s=o&&o.parentNode;for(B(e,"destroy"),e.renderer.forExport?I(w,e):w[e.index]=void 0,n.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),Z(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=r.length;t--;)r[t]=r[t].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())})),o&&(o.innerHTML="",Z(o),s&&N(o)),U(e,(function(t,i){delete e[i]}))},t.prototype.firstRender=function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(W(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),B(t,"beforeRender"),c&&(a.isRequired()?t.pointer=new a(t,e):t.pointer=new c(t,e)),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0))},t.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),B(this,"load"),B(this,"render"),E(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},t.prototype.addSeries=function(t,e,i){var r,n=this;return t&&(e=V(e,!0),B(n,"addSeries",{options:t},(function(){r=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),r.enabledDataSorting&&r.setData(t.data,!1),B(n,"afterAddSeries",{series:r}),e&&n.redraw(i)}))),r},t.prototype.addAxis=function(t,e,i,r){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:r})},t.prototype.addColorAxis=function(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})},t.prototype.createAxis=function(t,i){var r="colorAxis"===t,o=i.redraw,s=i.animation;return t=X(i.axis,{index:this[t].length,isX:"xAxis"===t}),t=r?new n.ColorAxis(this,t):new e(this,t),r&&(this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0}))),V(o,!0)&&this.redraw(s),t},t.prototype.showLoading=function(t){var e=this,i=e.options,r=i.loading,n=function(){o&&P(o,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},o=e.loadingDiv,s=e.loadingSpan;o||(e.loadingDiv=o=O("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),s||(e.loadingSpan=s=O("span",{className:"highcharts-loading-inner"},null,o),A(e,"redraw",n)),o.className="highcharts-loading",g.setElementHTML(s,V(t,i.lang.loading,"")),e.styledMode||(P(o,j(r.style,{zIndex:10})),P(s,r.labelStyle),e.loadingShown||(P(o,{opacity:0,display:""}),m(o,{opacity:r.style.opacity||.5},{duration:r.showDuration||0}))),e.loadingShown=!0,n()},t.prototype.hideLoading=function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||m(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){P(e,{display:"none"})}})),this.loadingShown=!1},t.prototype.update=function(t,e,i,r){var n,o,s=this,a={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},l=t.isResponsiveOptions,h=[];B(s,"update",{options:t}),l||s.setResponsive(!1,!0),t=L(t,s.options),s.userOptions=X(s.userOptions,t);var c=t.chart;if(c){if(X(!0,s.options.chart,c),"className"in c&&s.setClassName(c.className),"reflow"in c&&s.setReflow(c.reflow),"inverted"in c||"polar"in c||"type"in c){s.propFromSeries();var d=!0}"alignTicks"in c&&(d=!0),"events"in c&&b(this,c),U(c,(function(t,e){-1!==s.propsRequireUpdateSeries.indexOf("chart."+e)&&(n=!0),-1!==s.propsRequireDirtyBox.indexOf(e)&&(s.isDirtyBox=!0),-1!==s.propsRequireReflow.indexOf(e)&&(l?s.isDirtyBox=!0:o=!0)})),!s.styledMode&&"style"in c&&s.renderer.setStyle(c.style)}!s.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===M&&(this.time=new p(t.time)),X(!0,s.options.time,t.time)),U(t,(function(e,i){s[i]&&"function"===typeof s[i].update?s[i].update(e,!1):"function"===typeof s[a[i]]?s[a[i]](e):"colors"!==i&&-1===s.collectionsWithUpdate.indexOf(i)&&X(!0,s.options[i],t[i]),"chart"!==i&&-1!==s.propsRequireUpdateSeries.indexOf(i)&&(n=!0)})),this.collectionsWithUpdate.forEach((function(e){if(t[e]){var r=[];s[e].forEach((function(t,e){t.options.isInternal||r.push(V(t.options.index,e))})),$(t[e]).forEach((function(t,n){var o,a=E(t.id);a&&(o=s.get(t.id)),!o&&s[e]&&(o=s[e][r?r[n]:n])&&a&&E(o.options.id)&&(o=void 0),o&&o.coll===e&&(o.update(t,!1),i&&(o.touched=!0)),!o&&i&&s.collectionsWithInit[e]&&(s.collectionsWithInit[e][0].apply(s,[t].concat(s.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&s[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:h.push(t)}))}})),h.forEach((function(t){t.chart&&t.remove(!1)})),d&&s.axes.forEach((function(t){t.update({},!1)})),n&&s.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),d=c&&c.width,c=c&&(Y(c.height)?K(c.height,d||s.chartWidth):c.height),o||H(d)&&d!==s.chartWidth||H(c)&&c!==s.chartHeight?s.setSize(d,c,r):V(e,!0)&&s.redraw(r),B(s,"afterUpdate",{options:t,redraw:e,animation:r})},t.prototype.setSubtitle=function(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)},t.prototype.setCaption=function(t,e){this.applyDescription("caption",t),this.layOutTitles(e)},t.prototype.showResetZoom=function(){function t(){e.zoomOut()}var e=this,i=_.lang,r=e.options.chart.resetZoomButton,n=r.theme,o=n.states,s="chart"===r.relativeTo||"spacingBox"===r.relativeTo?null:"scrollablePlotBox";B(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,n,o&&o.hover).attr({align:r.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)})),B(this,"afterShowResetZoom")},t.prototype.zoomOut=function(){B(this,"selection",{resetSelection:!0},this.zoom)},t.prototype.zoom=function(t){var e,i=this,r=i.pointer,n=i.inverted?r.mouseDownX:r.mouseDownY,o=!1;!t||t.resetSelection?(i.axes.forEach((function(t){e=t.zoom()})),r.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){var s=t.axis,a=i.inverted?s.left:s.top,l=i.inverted?a+s.width:a+s.height,h=s.isXAxis,c=!1;(!h&&n>=a&&n<=l||h||!E(n))&&(c=!0),r[h?"zoomX":"zoomY"]&&c&&(e=s.zoom(t.min,t.max),s.displayBtn&&(o=!0))}));var s=i.resetZoomButton;o&&!s?i.showResetZoom():!o&&G(s)&&(i.resetZoomButton=s.destroy()),e&&i.redraw(V(i.options.chart.animation,t&&t.animation,100>i.pointCount))},t.prototype.pan=function(t,e){var i=this,r=i.hoverPoints;e="object"===s(e)?e:{enabled:e,type:"x"};var n=i.options.chart,o=i.options.mapNavigation&&i.options.mapNavigation.enabled;n&&n.panning&&(n.panning=e);var a,l=e.type;B(this,"pan",{originalEvent:t},(function(){r&&r.forEach((function(t){t.setState()}));var e=i.xAxis;"xy"===l?e=e.concat(i.yAxis):"y"===l&&(e=i.yAxis);var n={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var r=e.horiz,s=t[r?"chartX":"chartY"],h=i[r=r?"mouseDownX":"mouseDownY"],c=e.minPointOffset||0,d=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,u=e.getExtremes(),p=e.toValue(h-s,!0)+c*d,f=e.toValue(h+e.len-s,!0)-(c*d||e.isXAxis&&e.pointRangePadding||0),g=f<p;d=e.hasVerticalPanning(),h=g?f:p,p=g?p:f;var m=e.panningState;!d||e.isXAxis||m&&!m.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),m||(m={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),H(e.dataMin)&&H(e.dataMax)&&(m.startMin=Math.min(V(t.options.threshold,1/0),e.dataMin,m.startMin),m.startMax=Math.max(V(t.options.threshold,-1/0),e.dataMax,m.startMax))})),d=Math.min(V(m&&m.startMin,u.dataMin),c?u.min:e.toValue(e.toPixels(u.min)-e.minPixelPadding)),f=Math.max(V(m&&m.startMax,u.dataMax),c?u.max:e.toValue(e.toPixels(u.max)+e.minPixelPadding)),e.panningState=m,e.isOrdinal||(0<(c=d-h)&&(p+=c,h=d),0<(c=p-f)&&(p=f,h-=c),e.series.length&&h!==u.min&&p!==u.max&&h>=d&&p<=f&&(e.setExtremes(h,p,!1,!1,{trigger:"pan"}),i.resetZoomButton||o||h===d||p===f||!l.match("y")||(i.showResetZoom(),e.displayBtn=!1),a=!0),n[r]=s)}})),U(n,(function(t,e){i[e]=t})),a&&i.redraw(!1),P(i.container,{cursor:"move"})}))},t}(),j(t.prototype,{callbacks:[],collectionsWithInit:{xAxis:[t.prototype.addAxis,[!0]],yAxis:[t.prototype.addAxis,[!1]],series:[t.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","zAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),t})),e(i,"Mixins/LegendSymbol.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){var i=e.merge,r=e.pick;return t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,n=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,r(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,o=t.symbolWidth,s=t.symbolHeight,a=s/2,l=this.chart.renderer,h=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var c={};this.chart.styledMode||(c={"stroke-width":e.lineWidth||0},e.dashStyle&&(c.dashstyle=e.dashStyle)),this.legendLine=l.path([["M",0,t],["L",o,t]]).addClass("highcharts-graph").attr(c).add(h),n&&!1!==n.enabled&&o&&(e=Math.min(r(n.radius,a),a),0===this.symbol.indexOf("url")&&(n=i(n,{width:s,height:s}),e=0),this.legendSymbol=n=l.symbol(this.symbol,o/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(h),n.isMarker=!0)}}})),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Mixins/LegendSymbol.js"],i["Core/DefaultOptions.js"],i["Core/Color/Palette.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s,a,l,h){var c=t.animObject,d=t.setAnimation,u=e.registerEventOptions,p=i.hasTouch,f=i.svg,g=i.win,m=n.defaultOptions,v=a.seriesTypes,y=h.addEvent,x=h.arrayMax,b=h.arrayMin,w=h.clamp,k=h.cleanRecursively,C=h.correctFloat,S=h.defined,_=h.erase,M=h.error,T=h.extend,A=h.find,D=h.fireEvent,L=h.getNestedProperty,O=h.isArray,P=h.isNumber,E=h.isString,N=h.merge,I=h.objectEach,z=h.pick,j=h.removeEvent,F=h.splat,B=h.syncTimeout;return t=function(){function t(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return t.prototype.init=function(t,e){D(this,"init",{options:e});var i=this,r=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e),e=i.options,i.linkedSeries=[],i.bindAxes(),T(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),u(this,e);var n,o=e.events;(o&&o.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(n=r[r.length-1]),i._i=z(n&&n._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(r)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),D(this,"afterInit")},t.prototype.is=function(t){return v[t]&&this instanceof v[t]},t.prototype.insert=function(t){var e,i=this.options.index;if(P(i)){for(e=t.length;e--;)if(i>=z(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return z(e,t.length-1)},t.prototype.bindAxes=function(){var t,e=this,i=e.options,r=e.chart;D(this,"bindAxes",null,(function(){(e.axisTypes||[]).forEach((function(n){var o=0;r[n].forEach((function(r){t=r.options,(i[n]===o&&!t.isInternal||"undefined"!==typeof i[n]&&i[n]===t.id||"undefined"===typeof i[n]&&0===t.index)&&(e.insert(r.series),e[n]=r,r.isDirty=!0),t.isInternal||o++})),e[n]||e.optionalAxis===n||M(18,!0,r)}))})),D(this,"afterBindAxes")},t.prototype.updateParallelArrays=function(t,e){var i=t.series,r=arguments,n=P(e)?function(r){var n="y"===r&&i.toYData?i.toYData(t):t[r];i[r+"Data"][e]=n}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(r,2))};i.parallelArrays.forEach(n)},t.prototype.hasData=function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length},t.prototype.autoIncrement=function(){var t,e=this.options,i=this.xIncrement,r=e.pointIntervalUnit,n=this.chart.time;return i=z(i,e.pointStart,0),this.pointInterval=t=z(this.pointInterval,e.pointInterval,1),r&&(e=new n.Date(i),"day"===r?n.set("Date",e,n.get("Date",e)+t):"month"===r?n.set("Month",e,n.get("Month",e)+t):"year"===r&&n.set("FullYear",e,n.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},t.prototype.setDataSortingOptions=function(){var t=this.options;T(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(t.pointRange)||(t.pointRange=1)},t.prototype.setOptions=function(t){var e=this.chart,i=e.options,r=i.plotOptions,n=e.userOptions||{};t=N(t),e=e.styledMode;var o={plotOptions:r,userOptions:t};D(this,"setOptions",o);var s=o.plotOptions[this.type],a=n.plotOptions||{};return this.userOptions=o.userOptions,n=N(s,r.series,n.plotOptions&&n.plotOptions[this.type],t),this.tooltipOptions=N(m.tooltip,m.plotOptions.series&&m.plotOptions.series.tooltip,m.plotOptions[this.type].tooltip,i.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,t.tooltip),this.stickyTracking=z(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||n.stickyTracking),null===s.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,i=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||(r={value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative"},e||(r.color=n.negativeColor,r.fillColor=n.negativeFillColor),i.push(r)),i.length&&S(i[i.length-1].value)&&i.push(e?{}:{color:this.color,fillColor:this.fillColor}),D(this,"afterSetOptions",{options:n}),n},t.prototype.getName=function(){return z(this.options.name,"Series "+(this.index+1))},t.prototype.getCyclic=function(t,e,i){var r=this.chart,n=this.userOptions,o=t+"Index",s=t+"Counter",a=i?i.length:z(r.options.chart[t+"Count"],r[t+"Count"]);if(!e){var l=z(n[o],n["_"+o]);S(l)||(r.series.length||(r[s]=0),n["_"+o]=l=r[s]%a,r[s]+=1),i&&(e=i[l])}"undefined"!==typeof l&&(this[o]=l),this[t]=e},t.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color=o.neutralColor20:this.getCyclic("color",this.options.color||m.plotOptions[this.type].color,this.chart.options.colors)},t.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},t.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},t.prototype.findPointIndex=function(t,e){var i,r=t.id,n=t.x,o=this.points,s=this.options.dataSorting;if(r)var a=this.chart.get(r);else if(this.linkedParent||this.enabledDataSorting){var l=s&&s.matchByName?"name":"index";if(!(a=A(o,(function(e){return!e.touched&&e[l]===t[l]}))))return}if(a){var h=a&&a.index;"undefined"!==typeof h&&(i=!0)}return"undefined"===typeof h&&P(n)&&(h=this.xData.indexOf(n,e)),-1!==h&&"undefined"!==typeof h&&this.cropped&&(h=h>=this.cropStart?h-this.cropStart:h),!i&&o[h]&&o[h].touched&&(h=void 0),h},t.prototype.updateData=function(t,e){var i,r,n,o=this.options,s=o.dataSorting,a=this.points,l=[],h=this.requireSorting,c=t.length===a.length,d=!0;if(this.xIncrement=null,t.forEach((function(t,e){var r=S(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},d=r.x;r.id||P(d)?(-1===(d=this.findPointIndex(r,n))||"undefined"===typeof d?l.push(t):a[d]&&t!==o.data[d]?(a[d].update(t,!1,null,!1),a[d].touched=!0,h&&(n=d+1)):a[d]&&(a[d].touched=!0),(!c||e!==d||s&&s.enabled||this.hasDerivedData)&&(i=!0)):l.push(t)}),this),i)for(t=a.length;t--;)(r=a[t])&&!r.touched&&r.remove&&r.remove(!1,e);else!c||s&&s.enabled?d=!1:(t.forEach((function(t,e){t!==a[e].y&&a[e].update&&a[e].update(t,!1,null,!1)})),l.length=0);return a.forEach((function(t){t&&(t.touched=!1)})),!!d&&(l.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=x(this.xData),this.autoIncrement()),!0)},t.prototype.setData=function(t,e,i,r){var n,o=this,s=o.points,a=s&&s.length||0,l=o.options,h=o.chart,c=l.dataSorting,d=null,u=o.xAxis;d=l.turboThreshold;var p,f=this.xData,g=this.yData,m=(n=o.pointArrayMap)&&n.length,v=l.keys,y=0,x=1;if(n=(t=t||[]).length,e=z(e,!0),c&&c.enabled&&(t=this.sortData(t)),!1!==r&&n&&a&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.isSeriesBoosting&&(p=this.updateData(t,i)),!p){if(o.xIncrement=null,o.colorCounter=0,this.parallelArrays.forEach((function(t){o[t+"Data"].length=0})),d&&n>d)if(d=o.getFirstValidPoint(t),P(d))for(i=0;i<n;i++)f[i]=this.autoIncrement(),g[i]=t[i];else if(O(d))if(m)for(i=0;i<n;i++)r=t[i],f[i]=r[0],g[i]=r.slice(1,m+1);else for(v&&(y=0<=(y=v.indexOf("x"))?y:0,x=0<=(x=v.indexOf("y"))?x:1),i=0;i<n;i++)r=t[i],f[i]=r[y],g[i]=r[x];else M(12,!1,h);else for(i=0;i<n;i++)"undefined"!==typeof t[i]&&(r={series:o},o.pointClass.prototype.applyOptions.apply(r,[t[i]]),o.updateParallelArrays(r,i));for(g&&E(g[0])&&M(14,!0,h),o.data=[],o.options.data=o.userOptions.data=t,i=a;i--;)s[i]&&s[i].destroy&&s[i].destroy();u&&(u.minRange=u.userMinRange),o.isDirty=h.isDirtyBox=!0,o.isDirtyData=!!s,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&h.redraw(i)},t.prototype.sortData=function(t){var e=this,i=e.options.dataSorting.sortKey||"y",r=function(t,e){return S(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(i,n){t[n]=r(e,i),t[n].index=n}),this),t.concat().sort((function(t,e){return t=L(i,t),(e=L(i,e))<t?-1:e>t?1:0})).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){var i=e.options,n=i.data;i.dataSorting&&i.dataSorting.enabled||!n||(n.forEach((function(i,o){n[o]=r(e,i),t[o]&&(n[o].x=t[o].x,n[o].index=o)})),e.setData(n,!1))})),t},t.prototype.getProcessedData=function(t){var e=this.xData,i=this.yData,r=e.length,n=0,o=this.xAxis,s=this.options,a=s.cropThreshold,l=t||this.getExtremesFromAll||s.getExtremesFromAll,h=this.isCartesian;t=o&&o.val2lin,s=!(!o||!o.logarithmic);var c=this.requireSorting;if(o)var d=(o=o.getExtremes()).min,u=o.max;if(h&&this.sorted&&!l&&(!a||r>a||this.forceCrop))if(e[r-1]<d||e[0]>u)e=[],i=[];else if(this.yData&&(e[0]<d||e[r-1]>u)){e=(n=this.cropData(this.xData,this.yData,d,u)).xData,i=n.yData,n=n.start;var p=!0}for(a=e.length||1;--a;)if(0<(r=s?t(e[a])-t(e[a-1]):e[a]-e[a-1])&&("undefined"===typeof f||r<f))var f=r;else 0>r&&c&&(M(15,!1,this.chart),c=!1);return{xData:e,yData:i,cropped:p,cropStart:n,closestPointRange:f}},t.prototype.processData=function(t){var e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange},t.prototype.cropData=function(t,e,i,r,n){var o,s=t.length,a=0,l=s;for(n=z(n,this.cropShoulder),o=0;o<s;o++)if(t[o]>=i){a=Math.max(0,o-n);break}for(i=o;i<s;i++)if(t[i]>r){l=i+n;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},t.prototype.generatePoints=function(){var t,e,i=this.options,r=i.data,n=this.data,o=this.processedXData,s=this.processedYData,a=this.pointClass,l=o.length,h=this.cropStart||0,c=this.hasGroupedData,d=i.keys,u=[];for(i=i.dataGrouping&&i.dataGrouping.groupAll?h:0,n||c||((n=[]).length=r.length,n=this.data=n),d&&c&&(this.options.keys=!1),e=0;e<l;e++){var p=h+e;if(c){var f=(new a).init(this,[o[e]].concat(F(s[e])));f.dataGroup=this.groupMap[i+e],f.dataGroup.options&&(f.options=f.dataGroup.options,T(f,f.dataGroup.options),delete f.dataLabels)}else(f=n[p])||"undefined"===typeof r[p]||(n[p]=f=(new a).init(this,r[p],o[e]));f&&(f.index=c?i+e:p,u[e]=f)}if(this.options.keys=d,n&&(l!==(t=n.length)||c))for(e=0;e<t;e++)e!==h||c||(e+=l),n[e]&&(n[e].destroyElements(),n[e].plotX=void 0);this.data=n,this.points=u,D(this,"afterGeneratePoints")},t.prototype.getXExtremes=function(t){return{min:b(t),max:x(t)}},t.prototype.getExtremes=function(t,e){var i,r=this.xAxis,n=this.yAxis,o=this.processedXData||this.xData,s=[],a=0,l=0,h=0,c=this.requireSorting?this.cropShoulder:0,d=!!n&&n.positiveValuesOnly;for(n=(t=t||this.stackedYData||this.processedYData||[]).length,r&&(l=(h=r.getExtremes()).min,h=h.max),i=0;i<n;i++){var u=o[i],p=t[i],f=(P(p)||O(p))&&(p.length||0<p||!d);if(u=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!r||(o[i+c]||u)>=l&&(o[i-c]||u)<=h,f&&u)if(f=p.length)for(;f--;)P(p[f])&&(s[a++]=p[f]);else s[a++]=p}return t={dataMin:b(s),dataMax:x(s)},D(this,"afterGetExtremes",{dataExtremes:t}),t},t.prototype.applyExtremes=function(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t},t.prototype.getFirstValidPoint=function(t){for(var e=null,i=t.length,r=0;null===e&&r<i;)e=t[r],r++;return e},t.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i=this.options,r=i.stacking,n=this.xAxis,o=n.categories,s=this.enabledDataSorting,a=this.yAxis,l=this.points,h=l.length,c=!!this.modifyValue,d=this.pointPlacementToXValue(),u=!!d,p=i.threshold,f=i.startFromThreshold?p:0,g=this.zoneAxis||"y",m=Number.MAX_VALUE;for(t=0;t<h;t++){var v=l[t],y=v.x,x=v.y,b=v.low,k=r&&a.stacking&&a.stacking.stacks[(this.negStacks&&x<(f?0:p)?"-":"")+this.stackKey],_=void 0,M=void 0;if((a.positiveValuesOnly&&!a.validatePositiveValue(x)||n.positiveValuesOnly&&!n.validatePositiveValue(y))&&(v.isNull=!0),v.plotX=e=C(w(n.translate(y,0,0,0,1,d,"flags"===this.type),-1e5,1e5)),r&&this.visible&&k&&k[y]){var T=this.getStackIndicator(T,y,this.index);v.isNull||(M=(_=k[y]).points[T.key])}if(O(M)&&(b=M[0],x=M[1],b===f&&T.key===k[y].base&&(b=z(P(p)&&p,a.min)),a.positiveValuesOnly&&0>=b&&(b=null),v.total=v.stackTotal=_.total,v.percentage=_.total&&v.y/_.total*100,v.stackY=x,this.irregularWidths||_.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=S(b)?w(a.translate(b,0,1,0,1),-1e5,1e5):null,c&&(x=this.modifyValue(x,v)),v.plotY=void 0,P(x)&&"undefined"!==typeof(x=a.translate(x,!1,!0,!1,!0))&&(v.plotY=w(x,-1e5,1e5)),v.isInside=this.isPointInside(v),v.clientX=u?C(n.translate(y,0,0,0,1,d)):e,v.negative=v[g]<(i[g+"Threshold"]||p||0),v.category=o&&"undefined"!==typeof o[v.x]?o[v.x]:v.x,!v.isNull&&!1!==v.visible){"undefined"!==typeof A&&(m=Math.min(m,Math.abs(e-A)));var A=e}v.zone=this.zones.length&&v.getZone(),!v.graphic&&this.group&&s&&(v.isNew=!0)}this.closestPointRangePx=m,D(this,"afterTranslate")},t.prototype.getValidPoints=function(t,e,i){var r=this.chart;return(t||this.points||[]).filter((function(t){return!(e&&!r.isInsidePlot(t.plotX,t.plotY,{inverted:r.inverted}))&&!1!==t.visible&&(i||!t.isNull)}))},t.prototype.getClipBox=function(t,e){var i=this.options,r=this.chart,n=r.inverted,o=this.xAxis,s=o&&this.yAxis,a=r.options.chart.scrollablePlotArea||{};return t&&!1===i.clip&&s?t=n?{y:-r.chartWidth+s.len+s.pos,height:r.chartWidth,width:r.chartHeight,x:-r.chartHeight+o.len+o.pos}:{y:-s.pos,height:r.chartHeight,width:r.chartWidth,x:-o.pos}:(t=this.clipBox||r.clipBox,e&&(t.width=r.plotSizeX,t.x=(r.scrollablePixelsX||0)*(a.scrollPositionX||0))),e?{width:t.width,x:t.x}:t},t.prototype.getSharedClipKey=function(t){if(this.sharedClipKey)return this.sharedClipKey;var e=[t&&t.duration,t&&t.easing,t&&t.defer,this.getClipBox(t).height,this.options.xAxis,this.options.yAxis].join();return(!1!==this.options.clip||t)&&(this.sharedClipKey=e),e},t.prototype.setClip=function(t){var e=this.chart,i=this.options,r=e.renderer,n=e.inverted,o=this.clipBox,s=this.getClipBox(t),a=this.getSharedClipKey(t),l=e.sharedClips[a],h=e.sharedClips[a+"m"];t&&(s.width=0,n&&(s.x=e.plotHeight+(!1!==i.clip?0:e.plotTop))),l?e.hasLoaded||l.attr(s):(t&&(e.sharedClips[a+"m"]=h=r.clipRect(n?(e.plotSizeX||0)+99:-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e.sharedClips[a]=l=r.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),(!1!==i.clip||t)&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(h)),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&(o||(e.sharedClips[a]=l.destroy()),h&&(e.sharedClips[a+"m"]=h.destroy())))},t.prototype.animate=function(t){var e=this.chart,i=c(this.options.animation),r=this.sharedClipKey;if(t)this.setClip(i);else if(r){t=e.sharedClips[r],r=e.sharedClips[r+"m"];var n=this.getClipBox(i,!0);t&&t.animate(n,i),r&&r.animate({width:n.width+99,x:n.x-(e.inverted?0:99)},i)}},t.prototype.afterAnimate=function(){this.setClip(),D(this,"afterAnimate"),this.finishedAnimating=!0},t.prototype.drawPoints=function(){var t,e,i=this.points,r=this.chart,n=this.options.marker,o=this[this.specialGroup]||this.markerGroup,s=this.xAxis,a=z(n.enabled,!(s&&!s.isRadial)||null,this.closestPointRangePx>=n.enabledThreshold*n.radius);if(!1!==n.enabled||this._hasPointMarkers)for(t=0;t<i.length;t++){var l=i[t],h=(e=l.graphic)?"animate":"attr",c=l.marker||{},d=!!l.marker;if((a&&"undefined"===typeof c.enabled||c.enabled)&&!l.isNull&&!1!==l.visible){var u=z(c.symbol,this.symbol,"rect"),p=this.markerAttribs(l,l.selected&&"select");this.enabledDataSorting&&(l.startXPos=s.reversed?-(p.width||0):s.width);var f=!1!==l.isInside;e?e[f?"show":"hide"](f).animate(p):f&&(0<(p.width||0)||l.hasImage)&&(l.graphic=e=r.renderer.symbol(u,p.x,p.y,p.width,p.height,d?c:n).add(o),this.enabledDataSorting&&r.hasRendered&&(e.attr({x:l.startXPos}),h="animate")),e&&"animate"===h&&e[f?"show":"hide"](f).animate(p),e&&!r.styledMode&&e[h](this.pointAttribs(l,l.selected&&"select")),e&&e.addClass(l.getClassName(),!0)}else e&&(l.graphic=e.destroy())}},t.prototype.markerAttribs=function(t,e){var i=this.options,r=i.marker,n=t.marker||{},o=n.symbol||r.symbol,s=z(n.radius,r.radius);return e&&(r=r.states[e],e=n.states&&n.states[e],s=z(e&&e.radius,r&&r.radius,s+(r&&r.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(s=0),t={x:i.crisp?Math.floor(t.plotX-s):t.plotX-s,y:t.plotY-s},s&&(t.width=t.height=2*s),t},t.prototype.pointAttribs=function(t,e){var i=this.options.marker,r=t&&t.options,n=r&&r.marker||{},o=this.color,s=r&&r.color,a=t&&t.color;r=z(n.lineWidth,i.lineWidth);var l=t&&t.zone&&t.zone.color;return t=1,o=s||l||a||o,s=n.fillColor||i.fillColor||o,o=n.lineColor||i.lineColor||o,e=e||"normal",i=i.states[e],e=n.states&&n.states[e]||{},r=z(e.lineWidth,i.lineWidth,r+z(e.lineWidthPlus,i.lineWidthPlus,0)),s=e.fillColor||i.fillColor||s,{stroke:o=e.lineColor||i.lineColor||o,"stroke-width":r,fill:s,opacity:t=z(e.opacity,i.opacity,t)}},t.prototype.destroy=function(t){var e,i,r,n=this,o=n.chart,s=/AppleWebKit\/533/.test(g.navigator.userAgent),a=n.data||[];for(D(n,"destroy"),this.removeEvents(t),(n.axisTypes||[]).forEach((function(t){(r=n[t])&&r.series&&(_(r.series,n),r.isDirty=r.forceRedraw=!0)})),n.legendItem&&n.chart.legend.destroyItem(n),e=a.length;e--;)(i=a[e])&&i.destroy&&i.destroy();n.clips&&n.clips.forEach((function(t){return t.destroy()})),h.clearTimeout(n.animationTimeout),I(n,(function(t,e){t instanceof l&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()})),o.hoverSeries===n&&(o.hoverSeries=void 0),_(o.series,n),o.orderSeries(),I(n,(function(e,i){t&&"hcEvents"===i||delete n[i]}))},t.prototype.applyZones=function(){var t,e,i,r,n,o,s,a,l=this,h=this.chart,c=h.renderer,d=this.zones,u=this.clips||[],p=this.graph,f=this.area,g=Math.max(h.chartWidth,h.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],v=h.inverted,y=!1;if(d.length&&(p||f)&&m&&"undefined"!==typeof m.min){var x=m.reversed,b=m.horiz;p&&!this.showLine&&p.hide(),f&&f.hide();var k=m.getExtremes();d.forEach((function(d,C){t=x?b?h.plotWidth:0:b?0:m.toPixels(k.min)||0,t=w(z(e,t),0,g),e=w(Math.round(m.toPixels(z(d.value,k.max),!0)||0),0,g),y&&(t=e=m.toPixels(k.max)),r=Math.abs(t-e),n=Math.min(t,e),o=Math.max(t,e),m.isXAxis?(i={x:v?o:n,y:0,width:r,height:g},b||(i.x=h.plotHeight-i.x)):(i={x:0,y:v?o:n,width:g,height:r},b&&(i.y=h.plotWidth-i.y)),v&&c.isVML&&(i=m.isXAxis?{x:0,y:x?n:o,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),u[C]?u[C].animate(i):u[C]=c.clipRect(i),s=l["zone-area-"+C],a=l["zone-graph-"+C],p&&a&&a.clip(u[C]),f&&s&&s.clip(u[C]),y=d.value>k.max,l.resetZones&&0===e&&(e=void 0)})),this.clips=u}else l.visible&&(p&&p.show(!0),f&&f.show(!0))},t.prototype.invertGroups=function(t){function e(){["group","markerGroup"].forEach((function(e){i[e]&&(r.renderer.isVML&&i[e].attr({width:i.yAxis.len,height:i.xAxis.len}),i[e].width=i.yAxis.len,i[e].height=i.xAxis.len,i[e].invert(!i.isRadialSeries&&t))}))}var i=this,r=i.chart;i.xAxis&&(i.eventsToUnbind.push(y(r,"resize",e)),e(),i.invertGroups=e)},t.prototype.plotGroup=function(t,e,i,r,n){var o=this[t],s=!o;return i={visibility:i,zIndex:r||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(i.opacity=this.opacity),s&&(this[t]=o=this.chart.renderer.g().add(n)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(i)[s?"attr":"animate"](this.getPlotBox()),o},t.prototype.getPlotBox=function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},t.prototype.removeEvents=function(t){t||j(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)},t.prototype.render=function(){var t=this,e=t.chart,i=t.options,r=c(i.animation),n=!t.finishedAnimating&&e.renderer.isSVG&&r.duration,o=t.visible?"inherit":"hidden",s=i.zIndex,a=t.hasRendered,l=e.seriesGroup,h=e.inverted;D(this,"render");var d=t.plotGroup("group","series",o,s,l);t.markerGroup=t.plotGroup("markerGroup","markers",o,s,l),n&&t.animate&&t.animate(!0),d.inverted=!!z(t.invertible,t.isCartesian)&&h,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(h),!1===i.clip||t.sharedClipKey||a||d.clip(e.clipRect),n&&t.animate&&t.animate(),a||(n&&r.defer&&(n+=r.defer),t.animationTimeout=B((function(){t.afterAnimate()}),n||0)),t.isDirty=!1,t.hasRendered=!0,D(t,"afterRender")},t.prototype.redraw=function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,r=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:z(r&&r.left,t.plotLeft),translateY:z(n&&n.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},t.prototype.searchPoint=function(t,e){var i=this.xAxis,r=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:n?r.len-t.chartX+r.pos:t.chartY-r.pos},e,t)},t.prototype.buildKDTree=function(t){function e(t,r,n){var o;if(o=t&&t.length){var s=i.kdAxisArray[r%n];return t.sort((function(t,e){return t[s]-e[s]})),{point:t[o=Math.floor(o/2)],left:e(t.slice(0,o),r+1,n),right:e(t.slice(o+1),r+1,n)}}}this.buildingKdTree=!0;var i=this,r=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,B((function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),r,r),i.buildingKdTree=!1}),i.options.kdNow||t&&"touchstart"===t.type?0:1)},t.prototype.searchKDTree=function(t,e,i){var r=this,n=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function t(e,i,a,l){var h=i.point,c=r.kdAxisArray[a%l],d=h,u=S(e[n])&&S(h[n])?Math.pow(e[n]-h[n],2):null,p=S(e[o])&&S(h[o])?Math.pow(e[o]-h[o],2):null;return p=(u||0)+(p||0),h.dist=S(p)?Math.sqrt(p):Number.MAX_VALUE,h.distX=S(u)?Math.sqrt(u):Number.MAX_VALUE,u=0>(c=e[c]-h[c])?"right":"left",i[p=0>c?"left":"right"]&&(d=(p=t(e,i[p],a+1,l))[s]<d[s]?p:h),i[u]&&Math.sqrt(c*c)<d[s]&&(d=(e=t(e,i[u],a+1,l))[s]<d[s]?e:d),d}(t,this.kdTree,e,e)},t.prototype.pointPlacementToXValue=function(){var t=this.options,e=t.pointRange,i=this.xAxis;return"between"===(t=t.pointPlacement)&&(t=i.reversed?-.5:.5),P(t)?t*(e||i.pointRange):0},t.prototype.isPointInside=function(t){return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=this.yAxis.len&&0<=t.plotX&&t.plotX<=this.xAxis.len},t.prototype.drawTracker=function(){var t=this,e=t.options,i=e.trackByArea,r=[].concat(i?t.areaPath:t.graphPath),n=t.chart,o=n.pointer,s=n.renderer,a=n.options.tooltip.snap,l=t.tracker,h=function(e){n.hoverSeries!==t&&t.onMouseOver()},c="rgba(192,192,192,"+(f?1e-4:.002)+")";l?l.attr({d:r}):t.graph&&(t.tracker=s.path(r).attr({visibility:t.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),n.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:c,fill:i?c:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*a)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",(function(t){o.onTrackerMouseOut(t)})),e.cursor&&!n.styledMode&&t.css({cursor:e.cursor}),p)&&t.on("touchstart",h)}))),D(this,"afterDrawTracker")},t.prototype.addPoint=function(t,e,i,r,n){var o=this.options,s=this.data,a=this.chart,l=this.xAxis;l=l&&l.hasNames&&l.names;var h,c=o.data,d=this.xData;e=z(e,!0);var u={series:this};this.pointClass.prototype.applyOptions.apply(u,[t]);var p=u.x,f=d.length;if(this.requireSorting&&p<d[f-1])for(h=!0;f&&d[f-1]>p;)f--;this.updateParallelArrays(u,"splice",f,0,0),this.updateParallelArrays(u,f),l&&u.name&&(l[p]=u.name),c.splice(f,0,t),h&&(this.data.splice(f,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(u,"shift"),c.shift())),!1!==n&&D(this,"addPoint",{point:u}),this.isDirtyData=this.isDirty=!0,e&&a.redraw(r)},t.prototype.removePoint=function(t,e,i){var r=this,n=r.data,o=n[t],s=r.points,a=r.chart,l=function(){s&&s.length===n.length&&s.splice(t,1),n.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(o||{series:r},"splice",t,1),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&a.redraw()};d(i,a),e=z(e,!0),o?o.firePointEvent("remove",null,l):l()},t.prototype.remove=function(t,e,i,r){function n(){o.destroy(r),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),z(t,!0)&&s.redraw(e)}var o=this,s=o.chart;!1!==i?D(o,"remove",null,n):n()},t.prototype.update=function(t,e){t=k(t,this.userOptions),D(this,"update",{options:t});var i,r=this,n=r.chart,o=r.userOptions,s=r.initialType||r.type,a=n.options.plotOptions,l=t.type||o.type||n.options.chart.type,h=!(this.hasDerivedData||l&&l!==this.type||"undefined"!==typeof t.pointStart||"undefined"!==typeof t.pointInterval||r.hasOptionChanged("dataGrouping")||r.hasOptionChanged("pointStart")||r.hasOptionChanged("pointInterval")||r.hasOptionChanged("pointIntervalUnit")||r.hasOptionChanged("keys")),c=v[s].prototype,d=["eventOptions","navigatorSeries","baseSeries"],u=r.finishedAnimating&&{animation:!1},p={};if(l=l||s,h&&(d.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&d.push("area","graph"),r.parallelArrays.forEach((function(t){d.push(t+"Data")})),t.data&&(t.dataSorting&&T(r.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=N(o,u,{index:"undefined"===typeof o.index?r.index:o.index,pointStart:z(a&&a.series&&a.series.pointStart,o.pointStart,r.xData[0])},!h&&{data:r.options.data},t),h&&t.data&&(t.data=r.options.data),(d=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(d)).forEach((function(t){d[t]=r[t],delete r[t]})),o=!1,v[l]){if(o=l!==r.type,r.remove(!1,!1,!1,!0),o)if(Object.setPrototypeOf)Object.setPrototypeOf(r,v[l].prototype);else{for(i in a=Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents,c)r[i]=void 0;T(r,v[l].prototype),a?r.hcEvents=a:delete r.hcEvents}}else M(17,!0,n,{missingModuleFor:l});if(d.forEach((function(t){r[t]=d[t]})),r.init(n,t),h&&this.points){var f=r.options;!1===f.visible?(p.graphic=1,p.dataLabel=1):r._hasPointLabels||(t=f.marker,l=f.dataLabels,t&&(!1===t.enabled||"symbol"in t)&&(p.graphic=1),l&&!1===l.enabled&&(p.dataLabel=1)),this.points.forEach((function(t){t&&t.series&&(t.resolveColor(),Object.keys(p).length&&t.destroyElements(p),!1===f.showInLegend&&t.legendItem&&n.legend.destroyItem(t))}),this)}r.initialType=s,n.linkSeries(),o&&r.linkedSeries.length&&(r.isDirtyData=!0),D(this,"afterUpdate"),z(e,!0)&&n.redraw(!!h&&void 0)},t.prototype.setName=function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0},t.prototype.hasOptionChanged=function(t){var e=this.options[t],i=this.chart.options.plotOptions,r=this.userOptions[t];return r?e!==r:e!==z(i&&i[this.type]&&i[this.type][t],i&&i.series&&i.series[t],e)},t.prototype.onMouseOver=function(){var t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&D(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},t.prototype.onMouseOut=function(){var t=this.options,e=this.chart,i=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&D(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach((function(t){t.setState("",!0)}))},t.prototype.setState=function(t,e){var i=this,r=i.options,n=i.graph,o=r.inactiveOtherPoints,s=r.states,a=r.lineWidth,l=r.opacity,h=z(s[t||"normal"]&&s[t||"normal"].animation,i.chart.options.chart.animation);if(r=0,t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach((function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,!i.chart.styledMode)){if(s[t]&&!1===s[t].enabled)return;if(t&&(a=s[t].lineWidth||a+(s[t].lineWidthPlus||0),l=z(s[t].opacity,l)),n&&!n.dashstyle)for(s={"stroke-width":a},n.animate(s,h);i["zone-graph-"+r];)i["zone-graph-"+r].animate(s,h),r+=1;o||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach((function(t){t&&t.animate({opacity:l},h)}))}e&&o&&i.points&&i.setAllPointsToState(t||void 0)},t.prototype.setAllPointsToState=function(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))},t.prototype.setVisible=function(t,e){var i=this,r=i.chart,n=i.legendItem,o=r.options.chart.ignoreHiddenSeries,s=i.visible,a=(i.visible=t=i.options.visible=i.userOptions.visible="undefined"===typeof t?!s:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){i[t]&&i[t][a]()})),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),n&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&r.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),o&&(r.isDirtyBox=!0),D(i,a),!1!==e&&r.redraw()},t.prototype.show=function(){this.setVisible(!0)},t.prototype.hide=function(){this.setVisible(!1)},t.prototype.select=function(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),D(this,t?"select":"unselect")},t.prototype.shouldShowTooltip=function(t,e,i){return void 0===i&&(i={}),i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)},t.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:o.backgroundColor,lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:o.neutralColor20,lineColor:o.neutralColor100,lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var t=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},t}(),T(t.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:r.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:s,requireSorting:!0,sorted:!0}),a.series=t,t})),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o){var s=t.stop,a=o.addEvent,l=o.createElement,h=o.merge,c=o.pick;a(i,"afterSetChartSize",(function(t){var i=this.options.chart.scrollablePlotArea,r=i&&i.minWidth;if(i=i&&i.minHeight,!this.renderer.forExport){if(r){if(this.scrollablePixelsX=r=Math.max(0,r-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.width=this.plotWidth+=r,this.inverted?this.clipBox.height+=r:this.clipBox.width+=r;var n={1:{name:"right",value:r}}}}else i&&(this.scrollablePixelsY=r=Math.max(0,i-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.height=this.plotHeight+=r,this.inverted?this.clipBox.width+=r:this.clipBox.height+=r,n={2:{name:"bottom",value:r}});n&&!t.skipAxes&&this.axes.forEach((function(t){n[t.side]?t.getPlotLinePath=function(){var i=n[t.side].name,r=this[i];this[i]=r-n[t.side].value;var o=e.prototype.getPlotLinePath.apply(this,arguments);return this[i]=r,o}:(t.setAxisSize(),t.setAxisTranslation())}))}})),a(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){var t=this,e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},e,this.scrollingParent),a(this.scrollingContainer,"scroll",(function(){t.pointer&&delete t.pointer.chartPosition})),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){var t,e=this.container,i=this.fixedRenderer,r=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&r.push(t+":not(.highcharts-radial-axis)",t+"-labels:not(.highcharts-radial-axis-labels)"),r.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,i=e.scrollablePlotArea,r=n.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new r(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":c(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),r=this.chartHeight+(this.scrollablePixelsY||0),s(this.container),this.container.style.width=e+"px",this.container.style.height=r+"px",this.renderer.boxWrapper.attr({width:e,height:r,viewBox:[0,0,e,r].join(" ")}),this.chartBackground.attr({width:e,height:r}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),r=this.axisOffset,t=this.plotTop-r[0]-1,i=this.plotLeft-r[3]-1,e=this.plotTop+this.plotHeight+r[2]+1,r=this.plotLeft+this.plotWidth+r[1]+1;var o=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),h=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",o,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",o,e],["Z"]]:this.scrollablePixelsY?[["M",i,0],["L",i,this.plotTop-1],["L",r,this.plotTop-1],["L",r,0],["Z"],["M",i,h],["L",i,this.chartHeight],["L",r,this.chartHeight],["L",r,h],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},a(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),a(r,"show",(function(){this.chart.scrollableDirty=!0}))})),e(i,"Core/Axis/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Utilities.js"]],(function(t,e){var i=t.getDeferredAnimation,r=e.addEvent,n=e.destroyObjectProperties,o=e.fireEvent,s=e.isNumber,a=e.objectEach,l=function(){function t(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}return t.prototype.buildStacks=function(){var t,e=this.axis,i=e.series,r=e.options.reversedStacks,n=i.length;if(!e.isXAxis){for(this.usePercentage=!1,t=n;t--;){var s=i[r?t:n-t-1];s.setStackedPoints(),s.setGroupedPoints()}for(t=0;t<n;t++)i[t].modifyStacks();o(e,"afterBuildStacks")}},t.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var t=this.stacks=this.oldStacks;a(t,(function(t){a(t,(function(t){t.cumulative=t.total}))}))}},t.prototype.resetStacks=function(){var t=this,e=this.stacks;this.axis.isXAxis||a(e,(function(e){a(e,(function(i,r){s(i.touched)&&i.touched<t.stacksTouched?(i.destroy(),delete e[r]):(i.total=null,i.cumulative=null)}))}))},t.prototype.renderStackTotals=function(){var t=this.axis,e=t.chart,r=e.renderer,n=this.stacks;t=i(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);var o=this.stackTotalGroup=this.stackTotalGroup||r.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();o.translate(e.plotLeft,e.plotTop),a(n,(function(t){a(t,(function(t){t.render(o)}))})),o.animate({opacity:1},t)},t}();return function(){function t(){}return t.compose=function(e){r(e,"init",t.onInit),r(e,"destroy",t.onDestroy)},t.onDestroy=function(){var t=this.stacking;if(t){var e=t.stacks;a(e,(function(t,i){n(t),e[i]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}},t.onInit=function(){this.stacking||(this.stacking=new l(this))},t}()})),e(i,"Extensions/Stacking.js",[i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Axis/StackingAxis.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s){var a=i.format,l=s.correctFloat,h=s.defined,c=s.destroyObjectProperties,d=s.isArray,u=s.isNumber,p=s.objectEach,f=s.pick,g=function(){function t(t,e,i,r,n){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e=e||{},this.x=r,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=n,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}return t.prototype.destroy=function(){c(this,this.axis)},t.prototype.render=function(t){var e=this.axis.chart,i=this.options,r=i.format;r=r?a(r,this,e):i.formatter.call(this),this.label?this.label.attr({text:r,visibility:"hidden"}):(this.label=e.renderer.label(r,null,null,i.shape,null,null,i.useHTML,!1,"stack-labels"),r={r:i.borderRadius||0,text:r,rotation:i.rotation,padding:f(i.padding,5),visibility:"hidden"},e.styledMode||(r.fill=i.backgroundColor,r.stroke=i.borderColor,r["stroke-width"]=i.borderWidth,this.label.css(i.style)),this.label.attr(r),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY},t.prototype.setOffset=function(t,e,i,r,o){var s=this.axis,a=s.chart;r=s.translate(s.stacking.usePercentage?100:r||this.total,0,0,0,1),i=s.translate(i||0),i=h(r)&&Math.abs(r-i),t=f(o,a.xAxis[0].translate(this.x))+t,s=h(r)&&this.getStackBox(a,this,t,r,e,i,s),e=this.label,i=this.isNegative,t="justify"===f(this.options.overflow,"justify");var l=this.textAlign;e&&s&&(o=e.getBBox(),r=e.padding,l="left"===l?a.inverted?-r:r:"right"===l?o.width:a.inverted&&"center"===l?o.width/2:a.inverted?i?o.width+r:-r:o.width/2,i=a.inverted?o.height/2:i?-r:o.height,this.alignOptions.x=f(this.options.x,0),this.alignOptions.y=f(this.options.y,0),s.x-=l,s.y-=i,e.align(this.alignOptions,null,s),a.isInsidePlot(e.alignAttr.x+l-this.alignOptions.x,e.alignAttr.y+i-this.alignOptions.y)?e.show():(e.alignAttr.y=-9999,t=!1),t&&n.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,e.alignAttr,o,s),e.attr({x:e.alignAttr.x,y:e.alignAttr.y}),f(!t&&this.options.crop,!0)&&((a=u(e.x)&&u(e.y)&&a.isInsidePlot(e.x-r+e.width,e.y)&&a.isInsidePlot(e.x+r,e.y))||e.hide()))},t.prototype.getStackBox=function(t,e,i,r,n,o,s){var a=e.axis.reversed,l=t.inverted,h=s.height+s.pos-(l?t.plotLeft:t.plotTop);return e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?r-s.right:r-o+s.pos-t.plotLeft:i+t.xAxis[0].transB-t.plotLeft,y:l?s.height-i-n:e?h-r-o:h-r,width:l?o:n,height:l?n:o}},t}();return e.prototype.getStacks=function(){var t=this,e=t.inverted;t.yAxis.forEach((function(t){t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),t.series.forEach((function(i){var r=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,f(i.options.stack,""),e?r.top:r.left,e?r.height:r.width].join())}))},o.compose(t),n.prototype.setGroupedPoints=function(){var t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?n.prototype.setStackedPoints.call(this,"group"):t&&p(t.stacks,(function(e,i){"group"===i.slice(-5)&&(p(e,(function(t){return t.destroy()})),delete t.stacks[i])}))},n.prototype.setStackedPoints=function(t){var e=t||this.options.stacking;if(e&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var i=this.processedXData,r=this.processedYData,n=[],o=r.length,s=this.options,a=s.threshold,c=f(s.startFromThreshold&&a,0);s=s.stack;var u,p,m="-"+(t=t?this.type+","+e:this.stackKey),v=this.negStacks,y=this.yAxis,x=y.stacking.stacks,b=y.stacking.oldStacks;for(y.stacking.stacksTouched+=1,p=0;p<o;p++){var w=i[p],k=r[p],C=this.getStackIndicator(C,w,this.index),S=C.key,_=(u=v&&k<(c?0:a))?m:t;x[_]||(x[_]={}),x[_][w]||(b[_]&&b[_][w]?(x[_][w]=b[_][w],x[_][w].total=null):x[_][w]=new g(y,y.options.stackLabels,u,w,s)),_=x[_][w],null!==k?(_.points[S]=_.points[this.index]=[f(_.cumulative,c)],h(_.cumulative)||(_.base=S),_.touched=y.stacking.stacksTouched,0<C.index&&!1===this.singleStacks&&(_.points[S][0]=_.points[this.index+","+w+",0"][0])):_.points[S]=_.points[this.index]=null,"percent"===e?(u=u?t:m,v&&x[u]&&x[u][w]?(u=x[u][w],_.total=u.total=Math.max(u.total,_.total)+Math.abs(k)||0):_.total=l(_.total+(Math.abs(k)||0))):"group"===e?(d(k)&&(k=k[0]),null!==k&&(_.total=(_.total||0)+1)):_.total=l(_.total+(k||0)),_.cumulative="group"===e?(_.total||1)-1:f(_.cumulative,c)+(k||0),null!==k&&(_.points[S].push(_.cumulative),n[p]=_.cumulative,_.hasValidPoints=!0)}"percent"===e&&(y.stacking.usePercentage=!0),"group"!==e&&(this.stackedYData=n),y.stacking.oldStacks={}}},n.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,r=e.yAxis.stacking.stacks,n=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&[i,"-"+i].forEach((function(i){for(var s,a,l=n.length;l--;)s=n[l],t=e.getStackIndicator(t,s,e.index,i),(a=(s=r[i]&&r[i][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)}))},n.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=l(t[0]*e),t[1]=l(t[1]*e),this.stackedYData[i]=t[1]},n.prototype.getStackIndicator=function(t,e,i,r){return!h(t)||t.x!==e||r&&t.key!==r?t={x:e,index:0,key:r}:t.index++,t.key=[i,e,t.index].join(),t},r.StackItem=g,r.StackItem})),e(i,"Series/Line/LineSeries.js",[i["Core/Color/Palette.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=r.defined,a=r.merge;return r=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return o(r,i),r.prototype.drawGraph=function(){var e=this,i=this.options,r=(this.gappedPath||this.getGraphPath).call(this),n=this.chart.styledMode,o=[["graph","highcharts-graph"]];n||o[0].push(i.lineColor||this.color||t.neutralColor20,i.dashStyle),(o=e.getZonesGraphs(o)).forEach((function(t,o){var s=t[0],a=e[s],l=a?"animate":"attr";a?(a.endX=e.preventGraphAnimation?null:r.xMap,a.animate({d:r})):r.length&&(e[s]=a=e.chart.renderer.path(r).addClass(t[1]).attr({zIndex:1}).add(e.group)),a&&!n&&(s={stroke:t[2],"stroke-width":i.lineWidth,fill:e.fillGraph&&e.color||"none"},t[3]?s.dashstyle=t[3]:"square"!==i.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[l](s).shadow(2>o&&i.shadow)),a&&(a.startX=r.xMap,a.isArea=r.isArea)}))},r.prototype.getGraphPath=function(t,e,i){var r,n,o=this,a=o.options,l=a.step,h=[],c=[];return(r=(t=t||o.points).reversed)&&t.reverse(),(l={right:1,center:2}[l]||l&&3)&&r&&(l=4-l),(t=this.getValidPoints(t,!1,!(a.connectNulls&&!e&&!i))).forEach((function(r,d){var u=r.plotX,p=r.plotY,f=t[d-1];(r.leftCliff||f&&f.rightCliff)&&!i&&(n=!0),r.isNull&&!s(e)&&0<d?n=!a.connectNulls:r.isNull&&!e?n=!0:(0===d||n?d=[["M",r.plotX,r.plotY]]:o.getPointSpline?d=[o.getPointSpline(t,r,d)]:l?(d=1===l?[["L",f.plotX,p]]:2===l?[["L",(f.plotX+u)/2,f.plotY],["L",(f.plotX+u)/2,p]]:[["L",u,f.plotY]]).push(["L",u,p]):d=[["L",u,p]],c.push(r.x),l&&(c.push(r.x),2===l&&c.push(r.x)),h.push.apply(h,d),n=!1)})),h.xMap=c,o.graphPath=h},r.prototype.getZonesGraphs=function(t){return this.zones.forEach((function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)}),this),t},r.defaultOptions=a(e.defaultOptions,{}),r}(e),i.registerSeriesType("line",r),r})),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Mixins/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=t.parse,a=i.seriesTypes.line;t=r.extend;var l=r.merge,h=r.objectEach,c=r.pick;return r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(e,t),e.prototype.drawGraph=function(){this.areaPath=[],t.prototype.drawGraph.apply(this);var e=this,i=this.areaPath,r=this.options,n=[["area","highcharts-area",this.color,r.fillColor]];this.zones.forEach((function(t,i){n.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+t.className,t.color||e.color,t.fillColor||r.fillColor])})),n.forEach((function(t){var n=t[0],o=e[n],a=o?"animate":"attr",l={};o?(o.endX=e.preventGraphAnimation?null:i.xMap,o.animate({d:i})):(l.zIndex=0,(o=e[n]=e.chart.renderer.path(i).addClass(t[1]).add(e.group)).isArea=!0),e.chart.styledMode||(l.fill=c(t[3],s(t[2]).setOpacity(c(r.fillOpacity,.75)).get())),o[a](l),o.startX=i.xMap,o.shiftUnit=r.step?2:1}))},e.prototype.getGraphPath=function(t){var e,i=a.prototype.getGraphPath,r=this.options,n=r.stacking,o=this.yAxis,s=[],l=[],h=this.index,d=o.stacking.stacks[this.stackKey],u=r.threshold,p=Math.round(o.getThreshold(r.threshold));r=c(r.connectNulls,"percent"===n);var f=function(e,i,r){var a=t[e];e=n&&d[a.x].points[h];var c=a[r+"Null"]||0;if(r=a[r+"Cliff"]||0,a=!0,r||c){var f=(c?e[0]:e[1])+r,g=e[0]+r;a=!!c}else!n&&t[i]&&t[i].isNull&&(f=g=u);"undefined"!==typeof f&&(l.push({plotX:m,plotY:null===f?p:o.getThreshold(f),isNull:a,isCliff:!0}),s.push({plotX:m,plotY:null===g?p:o.getThreshold(g),doCurve:!1}))};for(t=t||this.points,n&&(t=this.getStackPoints(t)),e=0;e<t.length;e++){n||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var g=t[e].isNull,m=c(t[e].rectPlotX,t[e].plotX),v=n?c(t[e].yBottom,p):p;g&&!r||(r||f(e,e-1,"left"),g&&!n&&r||(l.push(t[e]),s.push({x:e,plotX:m,plotY:v})),r||f(e,e+1,"right"))}return e=i.call(this,l,!0,!0),s.reversed=!0,(v=(g=i.call(this,s,!0,!0))[0])&&"M"===v[0]&&(g[0]=["L",v[1],v[2]]),(g=e.concat(g)).length&&g.push(["Z"]),i=i.call(this,l,!1,r),g.xMap=e.xMap,this.areaPath=g,i},e.prototype.getStackPoints=function(t){var e=this,i=[],r=[],n=this.xAxis,o=this.yAxis,s=o.stacking.stacks[this.stackKey],a={},l=o.series,d=l.length,u=o.options.reversedStacks?1:-1,p=l.indexOf(e);if(t=t||this.points,this.options.stacking){for(var f=0;f<t.length;f++)t[f].leftNull=t[f].rightNull=void 0,a[t[f].x]=t[f];h(s,(function(t,e){null!==t.total&&r.push(e)})),r.sort((function(t,e){return t-e}));var g=l.map((function(t){return t.visible}));r.forEach((function(t,h){var f,m,v=0;if(a[t]&&!a[t].isNull)i.push(a[t]),[-1,1].forEach((function(i){var n=1===i?"rightNull":"leftNull",o=0,c=s[r[h+i]];if(c)for(var v=p;0<=v&&v<d;){var y=l[v].index;(f=c.points[y])||(y===e.index?a[t][n]=!0:g[v]&&(m=s[t].points[y])&&(o-=m[1]-m[0])),v+=u}a[t][1===i?"rightCliff":"leftCliff"]=o}));else{for(var y=p;0<=y&&y<d;){if(f=s[t].points[l[y].index]){v=f[1];break}y+=u}v=c(v,0),v=o.translate(v,0,1,0,1),i.push({isNull:!0,plotX:n.translate(t,0,0,0,1),x:t,plotY:v,yBottom:v})}}))}return i},e.defaultOptions=l(a.defaultOptions,{threshold:0}),e}(a),t(r.prototype,{singleStacks:!1,drawLegendSymbol:e.drawRectangle}),i.registerSeriesType("area",r),r})),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),n=t.seriesTypes.line,o=e.merge,s=e.pick;return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.getPointSpline=function(t,e,i){var r=e.plotX||0,n=e.plotY||0,o=t[i-1];if(i=t[i+1],o&&!o.isNull&&!1!==o.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=o.plotY||0;var a=i.plotX||0;i=i.plotY||0;var l=0,h=(1.5*r+(o.plotX||0))/2.5,c=(1.5*n+t)/2.5,d=(1.5*n+i)/2.5;(a=(1.5*r+a)/2.5)!==h&&(l=(d-c)*(a-r)/(a-h)+n-d),d+=l,(c+=l)>t&&c>n?d=2*n-(c=Math.max(t,n)):c<t&&c<n&&(d=2*n-(c=Math.min(t,n))),d>i&&d>n?c=2*n-(d=Math.max(i,n)):d<i&&d<n&&(c=2*n-(d=Math.min(i,n))),e.rightContX=a,e.rightContY=d}return e=["C",s(o.rightContX,o.plotX,0),s(o.rightContY,o.plotY,0),s(h,r,0),s(c,n,0),r,n],o.rightContX=o.rightContY=void 0,e},e.defaultOptions=o(n.defaultOptions),e}(n),t.registerSeriesType("spline",e),e})),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Area/AreaSeries.js"],i["Series/Spline/SplineSeries.js"],i["Mixins/LegendSymbol.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n){var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=t.prototype,l=n.extend,h=n.merge;return l((n=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return s(r,i),r.defaultOptions=h(e.defaultOptions,t.defaultOptions),r}(e)).prototype,{getGraphPath:a.getGraphPath,getStackPoints:a.getStackPoints,drawGraph:a.drawGraph,drawLegendSymbol:i.drawRectangle}),r.registerSeriesType("areaspline",n),n})),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Mixins/LegendSymbol.js"],i["Core/Color/Palette.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s,a){var l,h=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=t.animObject,d=e.parse,u=i.hasTouch;t=i.noop;var p=a.clamp,f=a.css,g=a.defined,m=a.extend,v=a.fireEvent,y=a.isArray,x=a.isNumber,b=a.merge,w=a.pick,k=a.objectEach;return a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderWidth=void 0,e.data=void 0,e.group=void 0,e.options=void 0,e.points=void 0,e}return h(e,t),e.prototype.animate=function(t){var e=this,i=this.yAxis,r=e.options,n=this.chart.inverted,o={},s=n?"translateX":"translateY";if(t)o.scaleY=.001,t=p(i.toPixels(r.threshold),i.pos,i.pos+i.len),n?o.translateX=t-i.len:o.translateY=t,e.clipBox&&e.setClip(),e.group.attr(o);else{var a=Number(e.group.attr(s));e.group.animate({scaleY:1},m(c(e.options.animation),{step:function(t,r){e.group&&(o[s]=a+r.pos*(i.pos-a),e.group.attr(o))}}))}},e.prototype.init=function(e,i){t.prototype.init.apply(this,arguments);var r=this;(e=r.chart).hasRendered&&e.series.forEach((function(t){t.type===r.type&&(t.isDirty=!0)}))},e.prototype.getColumnMetrics=function(){var t=this,e=t.options,i=t.xAxis,r=t.yAxis,n=i.options.reversedStacks;n=i.reversed&&!n||!i.reversed&&n;var o,s={},a=0;!1===e.grouping?a=1:t.chart.series.forEach((function(e){var i=e.yAxis,n=e.options;if(e.type===t.type&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&r.len===i.len&&r.pos===i.pos){if(n.stacking&&"group"!==n.stacking){o=e.stackKey,"undefined"===typeof s[o]&&(s[o]=a++);var l=s[o]}else!1!==n.grouping&&(l=a++);e.columnIndex=l}}));var l=Math.min(Math.abs(i.transA)*(i.ordinal&&i.ordinal.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),h=l*e.groupPadding,c=(l-2*h)/(a||1);return e=Math.min(e.maxPointWidth||i.len,w(e.pointWidth,c*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(c-e)/2+(h+((t.columnIndex||0)+(n?1:0))*c-l/2)*(n?-1:1),paddedWidth:c,columnCount:a},t.columnMetrics},e.prototype.crispCol=function(t,e,i,r){var n=this.chart,o=this.borderWidth,s=-(o%2?.5:0);return o=o%2?.5:1,n.inverted&&n.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+s,i-=t=Math.round(t)+s),r=Math.round(e+r)+o,s=.5>=Math.abs(e)&&.5<r,r-=e=Math.round(e)+o,s&&r&&(--e,r+=1),{x:t,y:e,width:i,height:r}},e.prototype.adjustForMissingColumns=function(t,e,i,r){var n=this,o=this.options.stacking;if(!i.isNull&&1<r.columnCount){var s=0,a=0;k(this.yAxis.stacking&&this.yAxis.stacking.stacks,(function(t){if("number"===typeof i.x&&(t=t[i.x.toString()])){var e=t.points[n.index],r=t.total;o?(e&&(s=a),t.hasValidPoints&&a++):y(e)&&(s=e[1],a=r||0)}})),t=(i.plotX||0)+((a-1)*r.paddedWidth+e)/2-e-s*r.paddedWidth}return t},e.prototype.translate=function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA;r=t.borderWidth=w(i.borderWidth,r?0:1);var n=t.xAxis,s=t.yAxis,a=i.threshold,l=t.translatedThreshold=s.getThreshold(a),h=w(i.minPointLength,5),c=t.getColumnMetrics(),d=c.width,u=t.barW=Math.max(d,1+2*r),f=t.pointXOffset=c.offset,m=t.dataMin,v=t.dataMax;e.inverted&&(l-=.5),i.pointPadding&&(u=Math.ceil(u)),o.prototype.translate.apply(t),t.points.forEach((function(r){var o=w(r.yBottom,l),y=999+Math.abs(o),b=d,k=r.plotX||0;y=p(r.plotY,-y,s.len+y),k+=f;var C=u,S=Math.min(y,o),_=Math.max(y,o)-S;if(h&&Math.abs(_)<h){_=h;var M=!s.reversed&&!r.negative||s.reversed&&r.negative;x(a)&&x(v)&&r.y===a&&v<=a&&(s.min||0)<a&&(m!==v||(s.max||0)<=a)&&(M=!M),S=Math.abs(S-l)>h?o-h:l-(M?h:0)}g(r.options.pointWidth)&&(b=C=Math.ceil(r.options.pointWidth),k-=Math.round((b-d)/2)),i.centerInCategory&&(k=t.adjustForMissingColumns(k,b,r,c)),r.barX=k,r.pointWidth=b,r.tooltipPos=e.inverted?[p(s.len+s.pos-e.plotLeft-y,s.pos-e.plotLeft,s.len+s.pos-e.plotLeft),n.len+n.pos-e.plotTop-k-C/2,_]:[n.left-e.plotLeft+k+C/2,p(y+s.pos-e.plotTop,s.pos-e.plotTop,s.len+s.pos-e.plotTop),_],r.shapeType=t.pointClass.prototype.shapeType||"rect",r.shapeArgs=t.crispCol.apply(t,r.isNull?[k,l,C,0]:[k,S,C,_])}))},e.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},e.prototype.pointAttribs=function(t,e){var i=this.options,r=this.pointAttrToOptions||{},n=r.stroke||"borderColor",o=r["stroke-width"]||"borderWidth",s=t&&t.color||this.color,a=t&&t[n]||i[n]||s,l=t&&t[o]||i[o]||this[o]||0;r=t&&t.options.dashStyle||i.dashStyle;var h=w(t&&t.opacity,i.opacity,1);if(t&&this.zones.length){var c=t.getZone();s=t.options.color||c&&(c.color||t.nonZonedColor)||this.color,c&&(a=c.borderColor||a,r=c.dashStyle||r,l=c.borderWidth||l)}return e&&t&&(e=(t=b(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,s=t.color||"undefined"!==typeof e&&d(s).brighten(t.brightness).get()||s,a=t[n]||a,l=t[o]||l,r=t.dashStyle||r,h=w(t.opacity,h)),n={fill:s,stroke:a,"stroke-width":l,opacity:h},r&&(n.dashstyle=r),n},e.prototype.drawPoints=function(){var t,e=this,i=this.chart,r=e.options,n=i.renderer,o=r.animationLimit||250;e.points.forEach((function(s){var a=s.graphic,l=!!a,h=a&&i.pointCount<o?"animate":"attr";x(s.plotY)&&null!==s.y?(t=s.shapeArgs,a&&s.hasNewShapeType()&&(a=a.destroy()),e.enabledDataSorting&&(s.startXPos=e.xAxis.reversed?-(t&&t.width||0):e.xAxis.width),a||(s.graphic=a=n[s.shapeType](t).add(s.group||e.group))&&e.enabledDataSorting&&i.hasRendered&&i.pointCount<o&&(a.attr({x:s.startXPos}),l=!0,h="animate"),a&&l&&a[h](b(t)),r.borderRadius&&a[h]({r:r.borderRadius}),i.styledMode||a[h](e.pointAttribs(s,s.selected&&"select")).shadow(!1!==s.allowShadow&&r.shadow,null,r.stacking&&!r.borderRadius),a&&(a.addClass(s.getClassName(),!0),a.attr({visibility:s.visible?"inherit":"hidden"}))):a&&(s.graphic=a.destroy())}))},e.prototype.drawTracker=function(){var t,e=this,i=e.chart,r=i.pointer,n=function(t){var e=r.getPointFromEvent(t);"undefined"!==typeof e&&(r.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach((function(e){t=y(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((function(t){t.div?t.div.point=e:t.element.point=e}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),u&&e[t].on("touchstart",n),!i.styledMode&&e.options.cursor&&e[t].css(f).css({cursor:e.options.cursor}))})),e._hasTracking=!0),v(this,"afterDrawTracker")},e.prototype.remove=function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),o.prototype.remove.apply(t,arguments)},e.defaultOptions=b(o.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:n.neutralColor20,borderColor:n.neutralColor100}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:n.backgroundColor}),e}(o),m(a.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:r.drawRectangle,getSymbol:t,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("column",a),a})),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i.extend,s=i.merge;return i=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(i,e),i.defaultOptions=s(t.defaultOptions,{}),i}(t),o(i.prototype,{inverted:!0}),e.registerSeriesType("bar",i),i})),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Column/ColumnSeries.js"],i["Series/Line/LineSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=r.addEvent,a=r.extend,l=r.merge;return a((r=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(i,t),i.prototype.applyJitter=function(){var t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(r,n){["x","y"].forEach((function(o,s){var a="plot"+o.toUpperCase();if(e[o]&&!r.isNull){var l=t[o+"Axis"],h=e[o]*l.transA;if(l&&!l.isLog){var c=Math.max(0,r[a]-h);l=Math.min(l.len,r[a]+h),s=1e4*Math.sin(n+s*i),r[a]=c+(l-c)*(s-Math.floor(s)),"x"===o&&(r.clientX=r.plotX)}}}))}))},i.prototype.drawGraph=function(){this.options.lineWidth?t.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},i.defaultOptions=l(e.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),i}(e)).prototype,{drawTracker:t.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),s(r,"afterTranslate",(function(){this.applyJitter()})),i.registerSeriesType("scatter",r),r})),e(i,"Mixins/CenteredSeries.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],(function(t,e,i){var r=i.isNumber,n=i.pick,o=i.relativeLength,s=t.deg2rad;return t.CenteredSeriesMixin={getCenter:function(){var t=this.options,i=this.chart,r=2*(t.slicedOffset||0),s=i.plotWidth-2*r,a=i.plotHeight-2*r,l=t.center,h=Math.min(s,a),c=t.size,d=t.innerSize||0;for("string"===typeof c&&(c=parseFloat(c)),"string"===typeof d&&(d=parseFloat(d)),t=[n(l[0],"50%"),n(l[1],"50%"),n(c&&0>c?void 0:t.size,"100%"),n(d&&0>d?void 0:t.innerSize||0,"0%")],!i.angular||this instanceof e||(t[3]=0),l=0;4>l;++l)c=t[l],i=2>l||2===l&&/%$/.test(c),t[l]=o(c,[s,a,h,t[2]][l])+(i?r:0);return t[3]>t[2]&&(t[3]=t[2]),t},getStartAndEndRadians:function(t,e){return t=r(t)?t:0,e=r(e)&&e>t&&360>e-t?e:t+360,{start:s*(t+-90),end:s*(e+-90)}}}})),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=t.setAnimation,s=i.addEvent,a=i.defined;t=i.extend;var l=i.isNumber,h=i.pick,c=i.relativeLength;return i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelDistance=void 0,e.options=void 0,e.series=void 0,e}return n(i,t),i.prototype.getConnectorPath=function(){var t=this.labelPosition,e=this.series.options.dataLabels,i=e.connectorShape,r=this.connectorShapes;return r[i]&&(i=r[i]),i.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)},i.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},i.prototype.haloPath=function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end})},i.prototype.init=function(){e.prototype.init.apply(this,arguments);var t=this;t.name=h(t.name,"Slice");var i=function(e){t.slice("select"===e.type)};return s(t,"select",i),s(t,"unselect",i),t},i.prototype.isValid=function(){return l(this.y)&&0<=this.y},i.prototype.setVisible=function(t,e){var i=this,r=i.series,n=r.chart,o=r.options.ignoreHiddenPoint;e=h(e,o),t!==i.visible&&(i.visible=i.options.visible=t="undefined"===typeof t?!i.visible:t,r.options.data[r.data.indexOf(i)]=i.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(e){i[e]&&i[e][t?"show":"hide"](t)})),i.legendItem&&n.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),o&&(r.isDirty=!0),e&&n.redraw())},i.prototype.slice=function(t,e,i){var r=this.series;o(i,r.chart),h(e,!0),this.sliced=this.options.sliced=a(t)?t:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},i}(e),t(i.prototype,{connectorShapes:{fixedOffset:function(t,e,i){var r=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*r.x-e.x,2*r.y-e.y,r.x,r.y]:["L",r.x,r.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,i){e=e.touchingSliceAt;var r=this.series,n=r.center[0],o=r.chart.plotWidth,s=r.chart.plotLeft;r=t.alignment;var a=this.shapeArgs.r;return i=c(i.crookDistance,1),i=["L",o="left"===r?n+a+(o+s-n-a)*(1-i):s+(n-a)*i,t.y],n=!0,("left"===r?o>t.x||o<e.x:o<t.x||o>e.x)&&(n=!1),t=[["M",t.x,t.y]],n&&t.push(i),t.push(["L",e.x,e.y]),t}}}),i})),e(i,"Series/Pie/PieSeries.js",[i["Mixins/CenteredSeries.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Mixins/LegendSymbol.js"],i["Core/Color/Palette.js"],i["Series/Pie/PiePoint.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s,a,l,h){var c,d=this&&this.__extends||(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=t.getStartAndEndRadians;i=i.noop;var p=h.clamp,f=h.extend,g=h.fireEvent,m=h.merge,v=h.pick,y=h.relativeLength;return f((h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=void 0,e.data=void 0,e.maxLabelDistance=void 0,e.options=void 0,e.points=void 0,e}return d(e,t),e.prototype.animate=function(t){var e=this,i=e.points,r=e.startAngleRad;t||i.forEach((function(t){var i=t.graphic,n=t.shapeArgs;i&&n&&(i.attr({r:v(t.startR,e.center&&e.center[3]/2),start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}))},e.prototype.drawEmpty=function(){var t=this.startAngleRad,e=this.endAngleRad,i=this.options;if(0===this.total&&this.center){var r=this.center[0],o=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(r,o,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:l.arc(r,o,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||n.neutralColor20})}else this.graph&&(this.graph=this.graph.destroy())},e.prototype.drawPoints=function(){var t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))},e.prototype.generatePoints=function(){t.prototype.generatePoints.call(this),this.updateTotals()},e.prototype.getX=function(t,e,i){var r=this.center,n=this.radii?this.radii[i.index]||0:r[2]/2;return t=Math.asin(p((t-r[1])/(n+i.labelDistance),-1,1)),r[0]+(e?-1:1)*Math.cos(t)*(n+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.redrawPoints=function(){var t,e,i,r,n=this,o=n.chart,s=o.renderer,a=n.options.shadow;this.drawEmpty(),!a||n.shadowGroup||o.styledMode||(n.shadowGroup=s.g("shadow").attr({zIndex:-1}).add(n.group)),n.points.forEach((function(l){var h={};if(e=l.graphic,!l.isNull&&e){var c=void 0;r=l.shapeArgs,t=l.getTranslate(),o.styledMode||(c=l.shadowGroup,a&&!c&&(c=l.shadowGroup=s.g("shadow").add(n.shadowGroup)),c&&c.attr(t),i=n.pointAttribs(l,l.selected&&"select")),l.delayedRendering?(e.setRadialReference(n.center).attr(r).attr(t),o.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}).shadow(a,c),l.delayedRendering=!1):(e.setRadialReference(n.center),o.styledMode||m(!0,h,i),m(!0,h,r,t),e.animate(h)),e.attr({visibility:l.visible?"inherit":"hidden"}),e.addClass(l.getClassName(),!0)}else e&&(l.graphic=e.destroy())}))},e.prototype.sortByAngle=function(t,e){t.sort((function(t,i){return"undefined"!==typeof t.angle&&(i.angle-t.angle)*e}))},e.prototype.translate=function(t){this.generatePoints();var e=0,i=this.options,r=i.slicedOffset,n=r+(i.borderWidth||0),o=u(i.startAngle,i.endAngle),s=this.startAngleRad=o.start;o=(this.endAngleRad=o.end)-s;var a=this.points,l=i.dataLabels.distance;i=i.ignoreHiddenPoint;var h,c=a.length;for(t||(this.center=t=this.getCenter()),h=0;h<c;h++){var d=a[h],p=s+e*o;!d.isValid()||i&&!d.visible||(e+=d.percentage/100);var f=s+e*o,m={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*p)/1e3,end:Math.round(1e3*f)/1e3};d.shapeType="arc",d.shapeArgs=m,d.labelDistance=v(d.options.dataLabels&&d.options.dataLabels.distance,l),d.labelDistance=y(d.labelDistance,m.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,d.labelDistance),(f=(f+p)/2)>1.5*Math.PI?f-=2*Math.PI:f<-Math.PI/2&&(f+=2*Math.PI),d.slicedTranslation={translateX:Math.round(Math.cos(f)*r),translateY:Math.round(Math.sin(f)*r)},m=Math.cos(f)*t[2]/2;var x=Math.sin(f)*t[2]/2;d.tooltipPos=[t[0]+.7*m,t[1]+.7*x],d.half=f<-Math.PI/2||f>Math.PI/2?1:0,d.angle=f,p=Math.min(n,d.labelDistance/5),d.labelPosition={natural:{x:t[0]+m+Math.cos(f)*d.labelDistance,y:t[1]+x+Math.sin(f)*d.labelDistance},final:{},alignment:0>d.labelDistance?"center":d.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+m+Math.cos(f)*p,y:t[1]+x+Math.sin(f)*p},touchingSliceAt:{x:t[0]+m,y:t[1]+x}}}}g(this,"afterTranslate")},e.prototype.updateTotals=function(){var t,e=0,i=this.points,r=i.length,n=this.options.ignoreHiddenPoint;for(t=0;t<r;t++){var o=i[t];!o.isValid()||n&&!o.visible||(e+=o.y)}for(this.total=e,t=0;t<r;t++)(o=i[t]).percentage=0<e&&(o.visible||!n)?o.y/e*100:0,o.total=e},e.defaultOptions=m(s.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:n.backgroundColor,borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),e}(s)).prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:r.drawRectangle,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:o,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),a.registerSeriesType("pie",h),h})),e(i,"Core/Series/DataLabels.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Color/Palette.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,r,n,o,s){var a=t.getDeferredAnimation,l=e.format;t=i.noop,o=o.seriesTypes;var h=s.arrayMax,c=s.clamp,d=s.defined,u=s.extend,p=s.fireEvent,f=s.isArray,g=s.merge,m=s.objectEach,v=s.pick,y=s.relativeLength,x=s.splat,b=s.stableSort;i.distribute=function(t,e,r){function n(t,e){return t.target-e.target}var o,s=!0,a=t,l=[],h=0,d=a.reducedLen||e;for(o=t.length;o--;)h+=t[o].size;if(h>d){for(b(t,(function(t,e){return(e.rank||0)-(t.rank||0)})),h=o=0;h<=d;)h+=t[o].size,o++;l=t.splice(o-1,t.length)}for(b(t,n),t=t.map((function(t){return{size:t.size,targets:[t.target],align:v(t.align,.5)}}));s;){for(o=t.length;o--;)s=t[o],h=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=c(h-s.size*s.align,0,e-s.size);for(o=t.length,s=!1;o--;)0<o&&t[o-1].pos+t[o-1].size>t[o].pos&&(t[o-1].size+=t[o].size,t[o-1].targets=t[o-1].targets.concat(t[o].targets),t[o-1].align=.5,t[o-1].pos+t[o-1].size>e&&(t[o-1].pos=e-t[o-1].size),t.splice(o,1),s=!0)}a.push.apply(a,l),o=0,t.some((function(t){var n=0;if(t.targets.some((function(){if(a[o].pos=t.pos+n,"undefined"!==typeof r&&Math.abs(a[o].pos-a[o].target)>r)return a.slice(0,o+1).forEach((function(t){delete t.pos})),a.reducedLen=(a.reducedLen||e)-.1*e,a.reducedLen>.1*e&&i.distribute(a,e,r),!0;n+=a[o].size,o++})))return!0})),b(a,n)},n.prototype.drawDataLabels=function(){function t(t,e){var i,r=[];if(f(t)&&!f(e))r=t.map((function(t){return g(t,e)}));else if(f(e)&&!f(t))r=e.map((function(e){return g(t,e)}));else if(f(t)||f(e))for(i=Math.max(t.length,e.length);i--;)r[i]=g(t[i],e[i]);else r=g(t,e);return r}var e=this,i=e.chart,n=e.options,o=n.dataLabels,s=e.points,h=e.hasRendered||0,c=o.animation;c=o.defer?a(i,c,e):{defer:0,duration:0};var u=i.renderer;if(o=t(t(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[e.type]&&i.options.plotOptions[e.type].dataLabels),o),p(this,"drawDataLabels"),f(o)||o.enabled||e._hasPointLabels){var y=e.plotGroup("dataLabelsGroup","data-labels",h?"inherit":"hidden",o.zIndex||6);y.attr({opacity:+h}),!h&&(h=e.dataLabelsGroup)&&(e.visible&&y.show(!0),h[n.animation?"animate":"attr"]({opacity:1},c)),s.forEach((function(s){x(t(o,s.dlOptions||s.options&&s.options.dataLabels)).forEach((function(t,o){var a=t.enabled&&(!s.isNull||s.dataLabelOnNull)&&function(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}(s,t),h=s.dataLabels?s.dataLabels[o]:s.dataLabel,c=s.connectors?s.connectors[o]:s.connector,p=v(t.distance,s.labelDistance),f=!h;if(a){var g=s.getLabelConfig(),x=v(t[s.formatPrefix+"Format"],t.format);g=d(x)?l(x,g,i):(t[s.formatPrefix+"Formatter"]||t.formatter).call(g,t),x=t.style;var b=t.rotation;i.styledMode||(x.color=v(t.color,x.color,e.color,r.neutralColor100),"contrast"===x.color?(s.contrastColor=u.getContrast(s.color||e.color),x.color=!d(p)&&t.inside||0>p||n.stacking?s.contrastColor:r.neutralColor100):delete s.contrastColor,n.cursor&&(x.cursor=n.cursor));var w={r:t.borderRadius||0,rotation:b,padding:t.padding,zIndex:1};i.styledMode||(w.fill=t.backgroundColor,w.stroke=t.borderColor,w["stroke-width"]=t.borderWidth),m(w,(function(t,e){"undefined"===typeof t&&delete w[e]}))}!h||a&&d(g)?a&&d(g)&&(h?w.text=g:(s.dataLabels=s.dataLabels||[],h=s.dataLabels[o]=b?u.text(g,0,-9999,t.useHTML).addClass("highcharts-data-label"):u.label(g,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),o||(s.dataLabel=h),h.addClass(" highcharts-data-label-color-"+s.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),h.options=t,h.attr(w),i.styledMode||h.css(x).shadow(t.shadow),h.added||h.add(y),t.textPath&&!t.useHTML&&(h.setTextPath(s.getDataLabelPath&&s.getDataLabelPath(h)||s.graphic,t.textPath),s.dataLabelPath&&!t.textPath.enabled&&(s.dataLabelPath=s.dataLabelPath.destroy())),e.alignDataLabel(s,h,t,null,f)):(s.dataLabel=s.dataLabel&&s.dataLabel.destroy(),s.dataLabels&&(1===s.dataLabels.length?delete s.dataLabels:delete s.dataLabels[o]),o||delete s.dataLabel,c&&(s.connector=s.connector.destroy(),s.connectors&&(1===s.connectors.length?delete s.connectors:delete s.connectors[o])))}))}))}p(this,"afterDrawDataLabels")},n.prototype.alignDataLabel=function(t,e,i,r,n){var o=this,s=this.chart,a=this.isCartesian&&s.inverted,l=this.enabledDataSorting,h=v(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),c=v(t.plotY,-9999),d=e.getBBox(),p=i.rotation,f=i.align,g=s.isInsidePlot(h,Math.round(c),{inverted:a,paneCoordinates:!0,series:o}),m="justify"===v(i.overflow,l?"none":"justify"),y=this.visible&&!1!==t.visible&&(t.series.forceDL||l&&!m||g||v(i.inside,!!this.options.stacking)&&r&&s.isInsidePlot(h,a?r.x+1:r.y+r.height-1,{inverted:a,paneCoordinates:!0,series:o})),x=function(i){l&&o.xAxis&&!m&&o.setDataLabelStartPos(t,e,n,g,i)};if(y){var b=s.renderer.fontMetrics(s.styledMode?void 0:i.style.fontSize,e).b;r=u({x:a?this.yAxis.len-c:h,y:Math.round(a?this.xAxis.len-h:c),width:0,height:0},r),u(i,{width:d.width,height:d.height}),p?(m=!1,h=s.renderer.rotCorr(b,p),x(h={x:r.x+(i.x||0)+r.width/2+h.x,y:r.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*r.height}),e[n?"attr":"animate"](h).attr({align:f}),x=180<(x=(p+720)%360)&&360>x,"left"===f?h.y-=x?d.height:0:"center"===f?(h.x-=d.width/2,h.y-=d.height/2):"right"===f&&(h.x-=d.width,h.y-=x?0:d.height),e.placed=!0,e.alignAttr=h):(x(r),e.align(i,void 0,r),h=e.alignAttr),m&&0<=r.height?this.justifyDataLabel(e,i,h,d,r,n):v(i.crop,!0)&&(y=s.isInsidePlot(h.x,h.y,{paneCoordinates:!0,series:o})&&s.isInsidePlot(h.x+d.width,h.y+d.height,{paneCoordinates:!0,series:o})),i.shape&&!p&&e[n?"attr":"animate"]({anchorX:a?s.plotWidth-t.plotY:t.plotX,anchorY:a?s.plotHeight-t.plotX:t.plotY})}n&&l&&(e.placed=!1),y||l&&!m||(e.hide(!0),e.placed=!1)},n.prototype.setDataLabelStartPos=function(t,e,i,r,n){var o=this.chart,s=o.inverted,a=this.xAxis,l=a.reversed,h=s?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,a=s?n.x:l?-h-t:a.width-h+t,n=s?l?this.yAxis.height-h+t:-h-t:n.y,e.startXPos=a,e.startYPos=n,r?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),o.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)},n.prototype.justifyDataLabel=function(t,e,i,r,n,o){var s=this.chart,a=e.align,l=e.verticalAlign,h=t.box?0:t.padding||0,c=e.x;c=void 0===c?0:c;var d=e.y,u=void 0===d?0:d;if(0>(d=(i.x||0)+h)){"right"===a&&0<=c?(e.align="left",e.inside=!0):c-=d;var p=!0}return(d=(i.x||0)+r.width-h)>s.plotWidth&&("left"===a&&0>=c?(e.align="right",e.inside=!0):c+=s.plotWidth-d,p=!0),0>(d=i.y+h)&&("bottom"===l&&0<=u?(e.verticalAlign="top",e.inside=!0):u-=d,p=!0),(d=(i.y||0)+r.height-h)>s.plotHeight&&("top"===l&&0>=u?(e.verticalAlign="bottom",e.inside=!0):u+=s.plotHeight-d,p=!0),p&&(e.x=c,e.y=u,t.placed=!o,t.align(e,void 0,n)),p},o.pie&&(o.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,r){return t.getX(i<e.top+2||i>e.bottom-2?r:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,r){return t=t.getBBox().width,e?t+r:i-t-r},alignToConnectors:function(t,e,i,r){var n,o=0;return t.forEach((function(t){(n=t.dataLabel.getBBox().width)>o&&(o=n)})),e?o+r:i-o-r}},o.pie.prototype.drawDataLabels=function(){var t,e,o,s,a,l,c,u,p,f,m,y,x=this,b=x.data,w=x.chart,k=x.options.dataLabels||{},C=k.connectorPadding,S=w.plotWidth,_=w.plotHeight,M=w.plotLeft,T=Math.round(w.chartWidth/3),A=x.center,D=A[2]/2,L=A[1],O=[[],[]],P=[0,0,0,0],E=x.dataLabelPositioners;x.visible&&(k.enabled||x._hasPointLabels)&&(b.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),n.prototype.drawDataLabels.apply(x),b.forEach((function(t){t.dataLabel&&(t.visible?(O[t.half].push(t),t.dataLabel._pos=null,!d(k.style.width)&&!d(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>T&&(t.dataLabel.css({width:Math.round(.7*T)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),O.forEach((function(e,r){var n,o=e.length,h=[];if(o){if(x.sortByAngle(e,r-.5),0<x.maxLabelDistance){var g=Math.max(0,L-D-x.maxLabelDistance),b=Math.min(L+D+x.maxLabelDistance,w.plotHeight);e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,L-D-t.labelDistance),t.bottom=Math.min(L+D+t.labelDistance,w.plotHeight),n=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+n/2,size:n,rank:t.y},h.push(t.distributeBox))})),g=b+n-g,i.distribute(h,g,g/5)}for(m=0;m<o;m++){if(t=e[m],l=t.labelPosition,s=t.dataLabel,f=!1===t.visible?"hidden":"inherit",p=g=l.natural.y,h&&d(t.distributeBox)&&("undefined"===typeof t.distributeBox.pos?f="hidden":(c=t.distributeBox.size,p=E.radialDistributionY(t))),delete t.positionIndex,k.justify)u=E.justify(t,D,A);else switch(k.alignTo){case"connectors":u=E.alignToConnectors(e,r,S,M);break;case"plotEdges":u=E.alignToPlotEdges(s,r,S,M);break;default:u=E.radialDistributionX(x,t,p,g)}s._attr={visibility:f,align:l.alignment},y=t.options.dataLabels||{},s._pos={x:u+v(y.x,k.x)+({left:C,right:-C}[l.alignment]||0),y:p+v(y.y,k.y)-10},l.final.x=u,l.final.y=p,v(k.crop,!0)&&(a=s.getBBox().width,g=null,u-a<C&&1===r?(g=Math.round(a-u+C),P[3]=Math.max(g,P[3])):u+a>S-C&&0===r&&(g=Math.round(u+a-S+C),P[1]=Math.max(g,P[1])),0>p-c/2?P[0]=Math.max(Math.round(c/2-p),P[0]):p+c/2>_&&(P[2]=Math.max(Math.round(p+c/2-_),P[2])),s.sideOverflow=g)}}})),0===h(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),this.points.forEach((function(t){var i;y=g(k,t.options.dataLabels),(e=v(y.connectorWidth,1))&&(o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(f=s._attr.visibility,(i=!o)&&(t.connector=o=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(x.dataLabelsGroup),w.styledMode||o.attr({"stroke-width":e,stroke:y.connectorColor||t.color||r.neutralColor60})),o[i?"attr":"animate"]({d:t.getConnectorPath()}),o.attr("visibility",f)):o&&(t.connector=o.destroy()))})))},o.pie.prototype.placeDataLabels=function(){this.points.forEach((function(t){var e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox}),this)},o.pie.prototype.alignDataLabel=t,o.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,r=i.center,n=i.minSize||80,o=null!==i.size;if(!o){if(null!==r[0])var s=Math.max(e[2]-Math.max(t[1],t[3]),n);else s=Math.max(e[2]-t[1]-t[3],n),e[0]+=(t[3]-t[1])/2;null!==r[1]?s=c(s,n,e[2]-Math.max(t[0],t[2])):(s=c(s,n,e[2]-t[0]-t[2]),e[1]+=(t[0]-t[2])/2),s<e[2]?(e[2]=s,e[3]=Math.min(y(i.innerSize||0,s),s),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):o=!0}return o}),o.column&&(o.column.prototype.alignDataLabel=function(t,e,i,r,o){var s=this.chart.inverted,a=t.series,l=t.dlBox||t.shapeArgs,h=v(t.below,t.plotY>v(this.translatedThreshold,a.yAxis.len)),c=v(i.inside,!!this.options.stacking);l&&(0>(r=g(l)).y&&(r.height+=r.y,r.y=0),0<(l=r.y+r.height-a.yAxis.len)&&l<r.height&&(r.height-=l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),c||(s?(r.x+=h?0:r.width,r.width=0):(r.y+=h?r.height:0,r.height=0))),i.align=v(i.align,!s||c?"center":h?"right":"left"),i.verticalAlign=v(i.verticalAlign,s||c?"middle":h?"top":"bottom"),n.prototype.alignDataLabel.call(this,t,e,i,r,o),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})})})),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e){var i=!1;if(t){var r=t.newOpacity;t.oldOpacity!==r&&(t.alignAttr&&t.placed?(t[r?"removeClass":"addClass"]("highcharts-data-label-hidden"),i=!0,t.alignAttr.opacity=r,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:r?"auto":"none"})})),n(e,"afterHideOverlappingLabel")):t.attr({opacity:r})),t.isOld=!0}return i}var r=e.addEvent,n=e.fireEvent,o=e.isArray,s=e.isNumber,a=e.objectEach,l=e.pick;r(t,"render",(function(){var t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacking.stacks,(function(t){a(t,(function(t){t.label&&"hidden"!==t.label.visibility&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(r){var n=r.options.dataLabels;r.visible&&(!1!==n.enabled||r._hasPointLabels)&&((n=function(r){return r.forEach((function(r){r.visible&&(o(r.dataLabels)?r.dataLabels:r.dataLabel?[r.dataLabel]:[]).forEach((function(n){var o=n.options;n.labelrank=l(o.labelrank,r.labelrank,r.shapeArgs&&r.shapeArgs.height),o.allowOverlap?(n.oldOpacity=n.opacity,n.newOpacity=1,i(n,t)):e.push(n)}))}))})(r.nodes||[]),n(r.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){var e,r,o,a=this,l=t.length,h=a.renderer,c=!1,d=function(t){var e,i,r=t.box?0:t.padding||0,n=e=0;if(t&&(!t.alignAttr||t.placed)){var o=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},a=t.parentGroup;t.width||(e=t.getBBox(),t.width=e.width,t.height=e.height,e=h.fontMetrics(null,t.element).h);var l=t.width-2*r;return(i={left:"0",center:"0.5",right:"1"}[t.alignValue])?n=+i*l:s(t.x)&&Math.round(t.x)!==t.translateX&&(n=t.x-t.translateX),{x:o.x+(a.translateX||0)+r-(n||0),y:o.y+(a.translateY||0)+r-e,width:t.width-2*r,height:t.height-2*r}}};for(r=0;r<l;r++)(e=t[r])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=d(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),r=0;r<l;r++){var u=(d=t[r])&&d.absoluteBox;for(e=r+1;e<l;++e){var p=(o=t[e])&&o.absoluteBox;!u||!p||d===o||0===d.newOpacity||0===o.newOpacity||p.x>=u.x+u.width||p.x+p.width<=u.x||p.y>=u.y+u.height||p.y+p.height<=u.y||((d.labelrank<o.labelrank?d:o).newOpacity=0)}}t.forEach((function(t){i(t,a)&&(c=!0)})),c&&n(a,"afterHideAllOverlappingLabels")}})),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],(function(t){var e=t.extend,i=t.find,r=t.isArray,n=t.isObject,o=t.merge,s=t.objectEach,a=t.pick,l=t.splat,h=t.uniqueKey,c=function(){function t(){}return t.prototype.currentOptions=function(t){var e=this,i={};return function t(i,o,a,h){var c;s(i,(function(i,s){if(!h&&-1<e.collectionsWithUpdate.indexOf(s)&&o[s])for(i=l(i),a[s]=[],c=0;c<Math.max(i.length,o[s].length);c++)o[s][c]&&(void 0===i[c]?a[s][c]=o[s][c]:(a[s][c]={},t(i[c],o[s][c],a[s][c],h+1)));else n(i)?(a[s]=r(i)?[]:{},t(i,o[s]||{},a[s],h+1)):a[s]="undefined"===typeof o[s]?null:o[s]}))}(t,this.options,i,0),i},t.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)}).call(this)&&e.push(t._id)},t.prototype.setResponsive=function(t,e){var r=this.options.responsive,n=this.currentResponsive,s=[];!e&&r&&r.rules&&r.rules.forEach((function(t){"undefined"===typeof t._id&&(t._id=h()),this.matchResponsiveRule(t,s)}),this),(e=o.apply(void 0,s.map((function(t){return i((r||{}).rules||[],(function(e){return e._id===t}))})).map((function(t){return t&&t.chartOptions})))).isResponsiveOptions=!0,(s=s.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,t,!0),s?((n=this.currentOptions(e)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:s,mergedOptions:e,undoOptions:n},this.update(e,t,!0)):this.currentResponsive=void 0)},t}();return t=function(){function t(){}return t.compose=function(t){return e(t.prototype,c.prototype),t},t}()})),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/DefaultOptions.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Pointer.js"],i["Core/MSPointer.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],(function(t,e,i,r,n,o,s,a,l,h,c,d,u,p,f,g,m,v,y,x,b){return t.animate=n.animate,t.animObject=n.animObject,t.getDeferredAnimation=n.getDeferredAnimation,t.setAnimation=n.setAnimation,t.stop=n.stop,t.timers=r.timers,t.AST=o,t.Axis=d,t.Chart=m,t.chart=m.chart,t.Fx=r,t.PlotLineOrBand=u,t.Pointer=g.isRequired()?g:f,t.Series=v,t.SVGElement=a,t.SVGRenderer=l,t.Tick=p,t.Time=b,t.Color=x,t.color=x.parse,c.compose(l),h.compose(a),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=s.dateFormat,t.format=s.format,t.numberFormat=s.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,y.compose(m),t})),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]},"object"===s(t)&&t.exports?(o.default=o,t.exports=n.document?o(n):o):void 0===(r=function(){return o(n)}.call(e,i,e,t))||(t.exports=r)}).call(this,i(3)(t))},,,function(t,e){window.ANIMATECSS=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animate__";return new Promise((function(r,n){var o="".concat(i).concat(e),s=document.querySelector(t);s.classList.add("".concat(i,"animated"),o),s.addEventListener("animationend",(function t(){s.classList.remove("".concat(i,"animated"),o),s.removeEventListener("animationend",t),r("Animation ended")}))}))}},function(t,e,i){var r=i(13);r.keys().forEach(r)},function(t,e){function i(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=13},function(t,e,i){(function(t){var e;window.CHAT=(e=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animate__";return new Promise((function(r,n){var o="".concat(i).concat(e),s=document.querySelector(t);s.classList.add("".concat(i,"animated"),o),s.addEventListener("animationend",(function t(){s.classList.remove("".concat(i,"animated"),o),s.removeEventListener("animationend",t),r("Animation ended")}))}))},{get_button_with_ajax:function(e){t.ajax({url:"/vegan_chat/get_button/"+e,method:"POST",headers:{"X-CSRF-Token":document.querySelector("meta[name=csrf-token]").content}})},get_message_with_ajax:function(e){t.ajax({url:"/vegan_chat/get_message/"+e,method:"POST",headers:{"X-CSRF-Token":document.querySelector("meta[name=csrf-token]").content}})},get_video_with_ajax:function(e){t.ajax({url:"/vegan_chat/get_video/"+e,method:"POST",headers:{"X-CSRF-Token":document.querySelector("meta[name=csrf-token]").content}})},remove_button:function(i){e(i,"bounceOut").then((function(e){t(i).remove()}))},loading_time_for_chat_message:600,animateCSS:function(t,i){e(t,i)}})}).call(this,i(0))},function(t,e,i){(function(t){(function(){var e,i,r,n,o={}.hasOwnProperty;(n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,r,n,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),s=[],i=0,r=(o=t.childNodes).length;i<r;i++)n=o[i],s.push(this.add_option(n,e,t.disabled));return s},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,i,r,o,s;for(o=new n,i=0,r=(s=t.childNodes).length;i<r;i++)e=s[i],o.add_node(e);return o.parsed},i=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},this.label_click_handler=function(t,e){return function(){return t.apply(e,arguments)}}(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,i,r,n,o,s,a;for(e="",a=0,n=0,o=(s=this.results_data).length;n<o&&("",""!==(r=(i=s[n]).group?this.result_add_group(i):this.result_add_option(i))&&(a++,e+=r),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(a>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),t.style&&(i.style.cssText=t.style),i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.highlighted_html||t.html,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,r,n;for(n=[],t=0,e=(i=this.results_data).length;t<e;t++)(r=i[t]).selected?n.push(r.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,i,r,n,o,s,a,l,h,c,d,u,p,f,g;for(this.no_results_clear(),c=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=this.get_search_regex(e),r=0,n=(l=this.results_data).length;r<n;r++)(o=l[r]).search_match=!1,d=null,u=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(0===(d=this.results_data[o.group_array_index]).active_options&&d.search_match&&(c+=1),d.active_options+=1),g=o.group?o.label:o.text,o.group&&!this.group_search||(u=this.search_string_match(g,h),o.search_match=null!=u,o.search_match&&!o.group&&(c+=1),o.search_match?(a.length&&(p=u.index,s=g.slice(0,p),i=g.slice(p,p+a.length),f=g.slice(p+a.length),o.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(f)),null!=d&&(d.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),c<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return i=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),e=this.case_sensitive_search?"":"i",new RegExp(i,e)},t.prototype.search_string_match=function(t,e){var i;return i=e.exec(t),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},t.prototype.choices_count=function(){var t,e,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(i=this.form_field.options).length;t<e;t++)i[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&!(!this.display_disabled_options&&t.disabled)&&!t.empty},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(e=t).fn.extend({chosen:function(t){return i.browser_is_supported()?this.each((function(i){var n,o;o=(n=e(this)).data("chosen"),"destroy"!==t?o instanceof r||n.data("chosen",new r(this,t)):o instanceof r&&o.destroy()})):this}}),r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},r.prototype.set_up_html=function(){var t,i;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},r.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},r.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",(function(t){t.preventDefault()}))},r.prototype.destroy=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},r.prototype.container_mousedown=function(t){var i;if(!this.is_disabled)return!t||"mousedown"!==(i=t.type)&&"touchstart"!==i||this.results_showing||t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},r.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},r.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},r.prototype.close_field=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},r.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){var i;return(i=e(t.target).closest(".chosen-container")).length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},r.prototype.result_do_highlight=function(t){var e,i,r,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=(r=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-r>0?e-r:0);if(i<o)return this.search_results.scrollTop(i)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},r.prototype.update_results_content=function(t){return this.search_results.html(t)},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},r.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var i;if((i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},r.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},r.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result")||e(t.target).parents(".active-result").first())return this.result_clear_highlight()},r.prototype.choice_build=function(t){var i,r;return i=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?i.addClass("search-choice-disabled"):((r=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),i.append(r)),this.search_container.before(i)},r.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},r.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},r.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},r.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},r.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},r.prototype.get_search_field_value=function(){return this.search_field.val()},r.prototype.get_search_text=function(){return e.trim(this.get_search_field_value())},r.prototype.escape_html=function(t){return e("<div/>").text(t).html()},r.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},r.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.search_field_scale=function(){var t,i,r,n,o,s,a;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},i=0,r=(s=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;i<r;i++)o[n=s[i]]=this.search_field.css(n);return(t=e("<div />").css(o)).text(this.get_search_field_value()),e("body").append(t),a=t.width()+25,t.remove(),this.container.is(":visible")&&(a=Math.min(this.container.outerWidth()-10,a)),this.search_field.width(a)}},r.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},r}()}).call(this)}).call(this,i(0))},function(t,e,i){},function(t,e,i){(function(t){var r,n,o,s;function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(t){"use strict";t.defineMode("markdown",(function(e,i){var r=t.getMode(e,"text/html"),n="null"==r.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.emoji&&(i.emoji=!1),void 0===i.fencedCodeBlockHighlighting&&(i.fencedCodeBlockHighlighting=!0),void 0===i.fencedCodeBlockDefaultMode&&(i.fencedCodeBlockDefaultMode="text/plain"),void 0===i.xml&&(i.xml=!0),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&i.tokenTypeOverrides[s]&&(o[s]=i.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,h=/^\[(x| )\](?=\s)/i,c=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ {0,3}(?:\={1,}|-{2,})\s*$/,u=/^[^#!\[\]*_\\<>` "'(~:]+/,p=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,f=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function m(t,e,i){return e.f=e.inline=i,i(t,e)}function v(t,e,i){return e.f=e.block=i,i(t,e)}function y(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==b){var i=n;if(!i){var o=t.innerMode(r,e.htmlState);i="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}i&&(e.f=S,e.block=x,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function x(r,n){var s,u=r.column()===n.indentation,g=!(s=n.prevLine.stream)||!/\S/.test(s.string),v=n.indentedCode,y=n.prevLine.hr,x=!1!==n.list,b=(n.listStack[n.listStack.length-1]||0)+3;n.indentedCode=!1;var C=n.indentation;if(null===n.indentationDiff&&(n.indentationDiff=n.indentation,x)){for(n.list=null;C<n.listStack[n.listStack.length-1];)n.listStack.pop(),n.listStack.length?n.indentation=n.listStack[n.listStack.length-1]:n.list=!1;!1!==n.list&&(n.indentationDiff=C-n.listStack[n.listStack.length-1])}var S=!g&&!y&&!n.prevLine.header&&(!x||!v)&&!n.prevLine.fencedCodeEnd,_=(!1===n.list||y||g)&&n.indentation<=b&&r.match(a),M=null;if(n.indentationDiff>=4&&(v||n.prevLine.fencedCodeEnd||n.prevLine.header||g))return r.skipToEnd(),n.indentedCode=!0,o.code;if(r.eatSpace())return null;if(u&&n.indentation<=b&&(M=r.match(c))&&M[1].length<=6)return n.quote=0,n.header=M[1].length,n.thisLine.header=!0,i.highlightFormatting&&(n.formatting="header"),n.f=n.inline,k(n);if(n.indentation<=b&&r.eat(">"))return n.quote=u?1:n.quote+1,i.highlightFormatting&&(n.formatting="quote"),r.eatSpace(),k(n);if(!_&&!n.setext&&u&&n.indentation<=b&&(M=r.match(l))){var T=M[1]?"ol":"ul";return n.indentation=C+r.current().length,n.list=!0,n.quote=0,n.listStack.push(n.indentation),n.em=!1,n.strong=!1,n.code=!1,n.strikethrough=!1,i.taskLists&&r.match(h,!1)&&(n.taskList=!0),n.f=n.inline,i.highlightFormatting&&(n.formatting=["list","list-"+T]),k(n)}return u&&n.indentation<=b&&(M=r.match(p,!0))?(n.quote=0,n.fencedEndRE=new RegExp(M[1]+"+ *$"),n.localMode=i.fencedCodeBlockHighlighting&&function(i){if(t.findModeByName){var r=t.findModeByName(i);r&&(i=r.mime||r.mimes[0])}var n=t.getMode(e,i);return"null"==n.name?null:n}(M[2]||i.fencedCodeBlockDefaultMode),n.localMode&&(n.localState=t.startState(n.localMode)),n.f=n.block=w,i.highlightFormatting&&(n.formatting="code-block"),n.code=-1,k(n)):n.setext||!(S&&x||n.quote||!1!==n.list||n.code||_||f.test(r.string))&&(M=r.lookAhead(1))&&(M=M.match(d))?(n.setext?(n.header=n.setext,n.setext=0,r.skipToEnd(),i.highlightFormatting&&(n.formatting="header")):(n.header="="==M[0].charAt(0)?1:2,n.setext=n.header),n.thisLine.header=!0,n.f=n.inline,k(n)):_?(r.skipToEnd(),n.hr=!0,n.thisLine.hr=!0,o.hr):"["===r.peek()?m(r,n,A):m(r,n,n.inline)}function b(e,i){var o=r.token(e,i.htmlState);if(!n){var s=t.innerMode(r,i.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||i.md_inside&&e.current().indexOf(">")>-1)&&(i.f=S,i.block=x,i.htmlState=null)}return o}function w(t,e){var r,n=e.listStack[e.listStack.length-1]||0,s=e.indentation<n,a=n+3;return e.fencedEndRE&&e.indentation<=a&&(s||t.match(e.fencedEndRE))?(i.highlightFormatting&&(e.formatting="code-block"),s||(r=k(e)),e.localMode=e.localState=null,e.block=x,e.f=S,e.fencedEndRE=null,e.code=0,e.thisLine.fencedCodeEnd=!0,s?v(t,e,e.block):r):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),o.code)}function k(t){var e=[];if(t.formatting){e.push(o.formatting),"string"===typeof t.formatting&&(t.formatting=[t.formatting]);for(var r=0;r<t.formatting.length;r++)e.push(o.formatting+"-"+t.formatting[r]),"header"===t.formatting[r]&&e.push(o.formatting+"-"+t.formatting[r]+"-"+t.header),"quote"===t.formatting[r]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(o.formatting+"-"+t.formatting[r]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(o.linkHref,"url"):(t.strong&&e.push(o.strong),t.em&&e.push(o.em),t.strikethrough&&e.push(o.strikethrough),t.emoji&&e.push(o.emoji),t.linkText&&e.push(o.linkText),t.code&&e.push(o.code),t.image&&e.push(o.image),t.imageAltText&&e.push(o.imageAltText,"link"),t.imageMarker&&e.push(o.imageMarker)),t.header&&e.push(o.header,o.header+"-"+t.header),t.quote&&(e.push(o.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(o.quote+"-"+t.quote):e.push(o.quote+"-"+i.maxBlockquoteDepth)),!1!==t.list){var n=(t.listStack.length-1)%3;n?1===n?e.push(o.list2):e.push(o.list3):e.push(o.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function C(t,e){if(t.match(u,!0))return k(e)}function S(e,n){var s=n.text(e,n);if("undefined"!==typeof s)return s;if(n.list)return n.list=null,k(n);if(n.taskList)return" "===e.match(h,!0)[1]?n.taskOpen=!0:n.taskClosed=!0,i.highlightFormatting&&(n.formatting="task"),n.taskList=!1,k(n);if(n.taskOpen=!1,n.taskClosed=!1,n.header&&e.match(/^#+$/,!0))return i.highlightFormatting&&(n.formatting="header"),k(n);var a=e.next();if(n.linkTitle){n.linkTitle=!1;var l=a;"("===a&&(l=")");var c="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(e.match(new RegExp(c),!0))return o.linkHref}if("`"===a){var d=n.formatting;i.highlightFormatting&&(n.formatting="code"),e.eatWhile("`");var u=e.current().length;if(0!=n.code||n.quote&&1!=u){if(u==n.code){var p=k(n);return n.code=0,p}return n.formatting=d,k(n)}return n.code=u,k(n)}if(n.code)return k(n);if("\\"===a&&(e.next(),i.highlightFormatting)){var f=k(n),m=o.formatting+"-escape";return f?f+" "+m:m}if("!"===a&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return n.imageMarker=!0,n.image=!0,i.highlightFormatting&&(n.formatting="image"),k(n);if("["===a&&n.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return n.imageMarker=!1,n.imageAltText=!0,i.highlightFormatting&&(n.formatting="image"),k(n);if("]"===a&&n.imageAltText){i.highlightFormatting&&(n.formatting="image");var f=k(n);return n.imageAltText=!1,n.image=!1,n.inline=n.f=M,f}if("["===a&&!n.image)return n.linkText&&e.match(/^.*?\]/)||(n.linkText=!0,i.highlightFormatting&&(n.formatting="link")),k(n);if("]"===a&&n.linkText){i.highlightFormatting&&(n.formatting="link");var f=k(n);return n.linkText=!1,n.inline=n.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?M:S,f}if("<"===a&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=_,i.highlightFormatting&&(n.formatting="link"),(f=k(n))?f+=" ":f="",f+o.linkInline;if("<"===a&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=_,i.highlightFormatting&&(n.formatting="link"),(f=k(n))?f+=" ":f="",f+o.linkEmail;if(i.xml&&"<"===a&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=e.string.indexOf(">",e.pos);if(-1!=y){var x=e.string.substring(e.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(n.md_inside=!0)}return e.backUp(1),n.htmlState=t.startState(r),v(e,n,b)}if(i.xml&&"<"===a&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";if("*"===a||"_"===a){for(var w=1,C=1==e.pos?" ":e.string.charAt(e.pos-2);w<3&&e.eat(a);)w++;var T=e.peek()||" ",A=!/\s/.test(T)&&(!g.test(T)||/\s/.test(C)||g.test(C)),D=!/\s/.test(C)&&(!g.test(C)||/\s/.test(T)||g.test(T)),L=null,O=null;if(w%2&&(n.em||!A||"*"!==a&&D&&!g.test(C)?n.em!=a||!D||"*"!==a&&A&&!g.test(T)||(L=!1):L=!0),w>1&&(n.strong||!A||"*"!==a&&D&&!g.test(C)?n.strong!=a||!D||"*"!==a&&A&&!g.test(T)||(O=!1):O=!0),null!=O||null!=L)return i.highlightFormatting&&(n.formatting=null==L?"strong":null==O?"em":"strong em"),!0===L&&(n.em=a),!0===O&&(n.strong=a),p=k(n),!1===L&&(n.em=!1),!1===O&&(n.strong=!1),p}else if(" "===a&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return k(n);e.backUp(1)}if(i.strikethrough)if("~"===a&&e.eatWhile(a)){if(n.strikethrough)return i.highlightFormatting&&(n.formatting="strikethrough"),p=k(n),n.strikethrough=!1,p;if(e.match(/^[^\s]/,!1))return n.strikethrough=!0,i.highlightFormatting&&(n.formatting="strikethrough"),k(n)}else if(" "===a&&e.match("~~",!0)){if(" "===e.peek())return k(n);e.backUp(2)}if(i.emoji&&":"===a&&e.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){n.emoji=!0,i.highlightFormatting&&(n.formatting="emoji");var P=k(n);return n.emoji=!1,P}return" "===a&&(e.match(/^ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),k(n)}function _(t,e){if(">"===t.next()){e.f=e.inline=S,i.highlightFormatting&&(e.formatting="link");var r=k(e);return r?r+=" ":r="",r+o.linkInline}return t.match(/^[^>]+/,!0),o.linkInline}function M(t,e){if(t.eatSpace())return null;var r,n=t.next();return"("===n||"["===n?(e.f=e.inline=(r="("===n?")":"]",function(t,e){if(t.next()===r){e.f=e.inline=S,i.highlightFormatting&&(e.formatting="link-string");var n=k(e);return e.linkHref=!1,n}return t.match(T[r]),e.linkHref=!0,k(e)}),i.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,k(e)):"error"}var T={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function A(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=D,t.next(),i.highlightFormatting&&(e.formatting="link"),e.linkText=!0,k(e)):m(t,e,S)}function D(t,e){if(t.match("]:",!0)){e.f=e.inline=L,i.highlightFormatting&&(e.formatting="link");var r=k(e);return e.linkText=!1,r}return t.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function L(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),e.f=e.inline=S,o.linkHref+" url")}var O={startState:function(){return{f:x,prevLine:{stream:null},thisLine:{stream:null},block:x,htmlState:null,indentation:0,inline:S,text:C,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(r,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine.stream){if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0))return y(e),null;if(e.prevLine=e.thisLine,e.thisLine={stream:t},e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,!e.localState&&(e.f=e.block,e.f!=b)){var i=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentation=i,e.indentationDiff=null,i>0)return null}}return e.f(t,e)},innerMode:function(t){return t.block==b?{state:t.htmlState,mode:r}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:O}},indent:function(e,i,n){return e.block==b&&r.indent?r.indent(e.htmlState,i,n):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,i,n):t.Pass},blankLine:y,getType:k,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return O}),"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")},"object"==a(e)&&"object"==a(t)?s(i(1),i(4),i(5)):(n=[i(1),i(4),i(5)],void 0===(o="function"===typeof(r=s)?r.apply(e,n):r)||(t.exports=o))}).call(this,i(3)(t))},function(t,e,i){"use strict";var r=i(7),n=i.n(r),o=i(8),s=i.n(o);n.a.use(s.a)},function(t,e,i){},function(t,e,i){var r,n,o;function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a){"use strict";n=[i(0),i(6),i(21)],void 0===(o="function"===typeof(r=function(t){var e;function i(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){for(var r in t.extend(e,i),i)null==i[r]&&(e[r]=i[r]);return e}return t.extend(t.ui,{datepicker:{version:"1.13.0"}}),t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var r,n,o;n="div"===(r=e.nodeName.toLowerCase())||"span"===r,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),n)).settings=t.extend({},i||{}),"input"===r?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var r=t(e);i.append=t([]),i.trigger=t([]),r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var r,n,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span>").addClass(this._appendClass).text(s),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(r=this._get(i,"showOn"))&&"both"!==r||e.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=t("<img>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):(i.trigger=t("<button type='button'>").addClass(this._triggerClass),o?i.trigger.html(t("<img>").attr({src:o,alt:n,title:n})):i.trigger.text(n)),e[a?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,r,n,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,r=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,r=n);return r},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var r=t(e);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,r,n,o){var s,l,h,c,d,u=this._dialogInst;return u||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",u)),a(u.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(i){var r,n=t(i),o=t.data(i,"datepicker");n.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),t.removeData(i,"datepicker"),"input"===r?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==r&&"span"!==r||n.removeClass(this.markerClassName).empty(),e===o&&(e=null,this._curInst=null))},_enableDatepicker:function(e){var i,r,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((r=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,r,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((r=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,r){var n,o,s,l,h=this._getInst(e);if(2===arguments.length&&"string"===typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null;n=i||{},"string"===typeof i&&((n={})[i]=r),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,n),null!==s&&void 0!==n.dateFormat&&void 0===n.minDate&&(h.settings.minDate=this._formatDate(h,s)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,r,n,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),(i=t.datepicker._get(o,"onSelect"))?(r=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[r,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,r,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),r=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){var r,n,o,s,l,h,c;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(r=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==r&&(t.datepicker._curInst.dpDiv.stop(!0,!0),r&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(n=t.datepicker._get(r,"beforeShow"))?n.apply(e,[e,r]):{})&&(a(r.settings,o),r.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(r),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each((function(){return!(s|="fixed"===t(this).css("position"))})),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(r),l=t.datepicker._checkOffset(r,l,s),r.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),r.inline||(h=t.datepicker._get(r,"showAnim"),c=t.datepicker._get(r,"duration"),r.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?r.dpDiv.show(h,t.datepicker._get(r,"showOptions"),c):r.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),t.datepicker._curInst=r)))},_updateDatepicker:function(i){this.maxRows=4,e=i,i.dpDiv.empty().append(this._generateHTML(i)),this._attachHandlers(i);var r,n=this._getNumberOfMonths(i),s=n[1],a=17,l=i.dpDiv.find("."+this._dayOverClass+" a"),h=t.datepicker._get(i,"onUpdateDatepicker");l.length>0&&o.apply(l.get(0)),i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&i.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),i.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),i.dpDiv[(this._get(i,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),i===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),i.yearshtml&&(r=i.yearshtml,setTimeout((function(){r===i.yearshtml&&i.yearshtml&&i.dpDiv.find("select.ui-datepicker-year").first().replaceWith(i.yearshtml),r=i.yearshtml=null}),0)),h&&h.apply(i.input?i.input[0]:null,[i])},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,r){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(r?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-s:0,i.left-=r&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=r&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+a):0),i},_findPos:function(e){for(var i,r=this._getInst(e),n=this._get(r,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.pseudos.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,r,n,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),r=this._get(s,"duration"),n=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),r,n):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?r:null,n),i||n(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),r=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===r)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,r){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i,r),this._updateDatepicker(o))},_gotoToday:function(e){var i,r=t(e),n=this._getInst(r[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(r)},_selectMonthYear:function(e,i,r){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,r,n){var o,s=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=parseInt(t("a",n).attr("data-date")),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=r,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var r,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!==s(o.input[0])&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,r,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),n=this.formatDate(i,r,this._getFormatConfig(e)),t(document).find(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,r){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"===s(i)?i.toString():i+""))return null;var n,o,a,l,h=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!==typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,g=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,y=-1,x=-1,b=!1,w=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},k=function(t){var e=w(t),r="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{"+("y"===t?r:1)+","+r+"}"),o=i.substring(h).match(n);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},C=function(e,r,n){var o=-1,s=t.map(w(e)?n:r,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(s,(function(t,e){var r=e[1];if(i.substr(h,r.length).toLowerCase()===r.toLowerCase())return o=e[0],h+=r.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+h},S=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||w("'")?S():b=!1;else switch(e.charAt(n)){case"d":y=k("d");break;case"D":C("D",u,p);break;case"o":x=k("o");break;case"m":v=k("m");break;case"M":v=C("M",f,g);break;case"y":m=k("y");break;case"@":m=(l=new Date(k("@"))).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":m=(l=new Date((k("!")-this._ticksTo1970)/1e4)).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":w("'")?S():b=!0;break;default:S()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100)),x>-1)for(v=1,y=x;;){if(y<=(o=this._getDaysInMonth(m,v-1)))break;v++,y-=o}if((l=this._daylightSavingAdjust(new Date(m,v-1,y))).getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var r,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},h=function(t,e,i){var r=""+e;if(l(t))for(;r.length<i;)r="0"+r;return r},c=function(t,e,i,r){return l(t)?r[e]:i[e]},d="",u=!1;if(e)for(r=0;r<t.length;r++)if(u)"'"!==t.charAt(r)||l("'")?d+=t.charAt(r):u=!1;else switch(t.charAt(r)){case"d":d+=h("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),n,o);break;case"o":d+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=h("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":u=!0;break;default:d+=t.charAt(r)}return d},_possibleChars:function(t){var e,i="",r=!1,n=function(i){var r=e+1<t.length&&t.charAt(e+1)===i;return r&&e++,r};for(e=0;e<t.length;e++)if(r)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):r=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":r=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),r=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,s=this._getFormatConfig(t);try{o=this.parseDate(i,r,s)||n}catch(a){r=e?"":r}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=r?o.getDate():0,t.currentMonth=r?o.getMonth():0,t.currentYear=r?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,r){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(h){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=r.getFullYear(),o=r.getMonth(),s=r.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(n,o))}l=a.exec(i)}return new Date(n,o,s)},s=null==i||""===i?r:"string"===typeof i?o(i):"number"===typeof i?isNaN(i)?r:n(i):new Date(i.getTime());return(s=s&&"Invalid Date"===s.toString()?r:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var r=!e,n=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(r?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),r="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(r,-i,"M")},next:function(){t.datepicker._adjustDate(r,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(r)},selectDay:function(){return t.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(r,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var i,r,n,o,s,a,l,h,c,d,u,p,f,g,m,v,y,x,b,w,k,C,S,_,M,T,A,D,L,O,P,E,N,I,z,j,F,B,R,W=new Date,H=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),G=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),X=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),Z=1!==V[0]||1!==V[1],$=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),tt=e.drawMonth-q,et=e.drawYear;if(tt<0&&(tt+=12,et--),Q)for(i=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-V[0]*V[1]+1,Q.getDate())),i=J&&i<J?J:i;this._daylightSavingAdjust(new Date(et,tt,1))>i;)--tt<0&&(tt=11,et--);for(e.drawMonth=tt,e.drawYear=et,r=this._get(e,"prevText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(et,tt-K,1)),this._getFormatConfig(e)):r,n=this._canAdjustMonth(e,-1,et,tt)?t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:r}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(G?"e":"w")).text(r))[0].outerHTML:X?"":t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:r}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(G?"e":"w")).text(r))[0].outerHTML,o=this._get(e,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(et,tt+K,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,et,tt)?t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:o}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(G?"w":"e")).text(o))[0].outerHTML:X?"":t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:o}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(G?"w":"e")).text(o))[0].outerHTML,a=this._get(e,"currentText"),l=this._get(e,"gotoCurrent")&&e.currentDay?$:H,a=U?this.formatDate(a,l,this._getFormatConfig(e)):a,h="",e.inline||(h=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),c="",Y&&(c=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(G?h:"").append(this._isInRange(e,l)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(a):"").append(G?"":h)[0].outerHTML),d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),p=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),y=this._get(e,"showOtherMonths"),x=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",C=0;C<V[0];C++){for(S="",this.maxRows=4,_=0;_<V[1];_++){if(M=this._daylightSavingAdjust(new Date(et,tt,e.selectedDay)),T=" ui-corner-all",A="",Z){if(A+="<div class='ui-datepicker-group",V[1]>1)switch(_){case 0:A+=" ui-datepicker-group-first",T=" ui-corner-"+(G?"right":"left");break;case V[1]-1:A+=" ui-datepicker-group-last",T=" ui-corner-"+(G?"left":"right");break;default:A+=" ui-datepicker-group-middle",T=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===C?G?s:n:"")+(/all|right/.test(T)&&0===C?G?n:s:"")+this._generateMonthYearHeader(e,tt,et,J,Q,C>0||_>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",k=0;k<7;k++)D+="<th scope='col'"+((k+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[L=(k+d)%7]+"'>"+f[L]+"</span></th>";for(A+=D+"</tr></thead><tbody>",O=this._getDaysInMonth(et,tt),et===e.selectedYear&&tt===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),P=(this._getFirstDayOfMonth(et,tt)-d+7)%7,E=Math.ceil((P+O)/7),N=Z&&this.maxRows>E?this.maxRows:E,this.maxRows=N,I=this._daylightSavingAdjust(new Date(et,tt,1-P)),z=0;z<N;z++){for(A+="<tr>",j=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(I)+"</td>":"",k=0;k<7;k++)F=v?v.apply(e.input?e.input[0]:null,[I]):[!0,""],R=(B=I.getMonth()!==tt)&&!x||!F[0]||J&&I<J||Q&&I>Q,j+="<td class='"+((k+d+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(I.getTime()===M.getTime()&&tt===e.selectedMonth&&e._keyEvent||b.getTime()===I.getTime()&&b.getTime()===M.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!y?"":" "+F[1]+(I.getTime()===$.getTime()?" "+this._currentClass:"")+(I.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(B&&!y||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(B&&!y?"&#xa0;":R?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===H.getTime()?" ui-state-highlight":"")+(I.getTime()===$.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#' aria-current='"+(I.getTime()===$.getTime()?"true":"false")+"' data-date='"+I.getDate()+"'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);A+=j+"</tr>"}++tt>11&&(tt=0,et++),S+=A+="</tbody></table>"+(Z?"</div>"+(V[0]>0&&_===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=S}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,r,n,o,s,a){var l,h,c,d,u,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),x=this._get(t,"selectMonthLabel"),b=this._get(t,"selectYearLabel"),w="<div class='ui-datepicker-title'>",k="";if(o||!m)k+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=r&&r.getFullYear()===i,h=n&&n.getFullYear()===i,k+="<select class='ui-datepicker-month' aria-label='"+x+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=r.getMonth())&&(!h||c<=n.getMonth())&&(k+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");k+="</select>"}if(y||(w+=k+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)w+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e})(d[0]),g=Math.max(f,p(d[1]||"")),f=r?Math.max(f,r.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' aria-label='"+b+"' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",w+=t.yearshtml,t.yearshtml=null}return w+=this._get(t,"yearSuffix"),y&&(w+=(!o&&m&&v?"":"&#xa0;")+k),w+="</div>"},_adjustInstDate:function(t,e,i){var r=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(r,n))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(r,n,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return r&&n>r?r:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"===typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,r){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,r+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,r,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),r=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=r),i[1].match(/[+\-].*/)&&(a+=r)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,r){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"===s(e)?e:this._daylightSavingAdjust(new Date(r,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!==typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"===typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"===typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.13.0",t.datepicker})?r.apply(e,n):r)||(t.exports=o)}()},function(t,e,i){var r,n,o;!function(s){"use strict";n=[i(0),i(6)],void 0===(o="function"===typeof(r=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(e,n):r)||(t.exports=o)}()},function(t,e,i){},function(t,e,i){},function(t,e){!function(t,e){"use strict";var i=t.jQuery||t.Zepto,r=0,n=!1;function o(r,o,s,a,l){var h=0,c=-1,d=-1,u=!1,p="afterLoad",f="load",g="error",m="img",v="src",y="srcset",x="sizes",b="background-image";function w(){var e,n,h,p;u=t.devicePixelRatio>1,s=k(s),o.delay>=0&&setTimeout((function(){C(!0)}),o.delay),(o.delay<0||o.combined)&&(a.e=(e=o.throttle,n=function(t){"resize"===t.type&&(c=d=-1),C(t.all)},p=0,function(t,i){var s=+new Date-p;function a(){p=+new Date,n.call(r,t)}h&&clearTimeout(h),s>e||!o.enableThrottle||i?a():h=setTimeout(a,e-s)}),a.a=function(t){t=k(t),s.push.apply(s,t)},a.g=function(){return s=i(s).filter((function(){return!i(this).data(o.loadedName)}))},a.f=function(t){for(var e=0;e<t.length;e++){var i=s.filter((function(){return this===t[e]}));i.length&&C(!1,i)}},C(),i(o.appendScroll).on("scroll."+l+" resize."+l,a.e))}function k(t){for(var n=o.defaultImage,s=o.placeholder,a=o.imageBase,l=o.srcsetAttribute,h=o.loaderAttribute,c=o._f||{},d=0,u=(t=i(t).filter((function(){var t=i(this),r=M(this);return!t.data(o.handledName)&&(t.attr(o.attribute)||t.attr(l)||t.attr(h)||c[r]!==e)})).data("plugin_"+o.name,r)).length;d<u;d++){var p=i(t[d]),f=M(t[d]),g=p.attr(o.imageBaseAttribute)||a;f===m&&g&&p.attr(l)&&p.attr(l,T(p.attr(l),g)),c[f]===e||p.attr(h)||p.attr(h,c[f]),f===m&&n&&!p.attr(v)?p.attr(v,n):f===m||!s||p.css(b)&&"none"!==p.css(b)||p.css(b,"url('"+s+"')")}return t}function C(t,e){if(s.length){for(var n=e||s,a=!1,l=o.imageBase||"",h=o.srcsetAttribute,c=o.handledName,d=0;d<n.length;d++)if(t||e||_(n[d])){var u=i(n[d]),p=M(n[d]),f=u.attr(o.attribute),g=u.attr(o.imageBaseAttribute)||l,x=u.attr(o.loaderAttribute);u.data(c)||o.visibleOnly&&!u.is(":visible")||!((f||u.attr(h))&&(p===m&&(g+f!==u.attr(v)||u.attr(h)!==u.attr(y))||p!==m&&g+f!==u.css(b))||x)||(a=!0,u.data(c,!0),S(u,p,g,x))}a&&(s=i(s).filter((function(){return!i(this).data(c)})))}else o.autoDestroy&&r.destroy()}function S(t,e,r,n){++h;var s=function(){D("onError",t),A(),s=i.noop};D("beforeLoad",t);var a=o.attribute,l=o.srcsetAttribute,c=o.sizesAttribute,d=o.retinaAttribute,w=o.removeAttribute,k=o.loadedName,C=t.attr(d);if(n){var S=function(){w&&t.removeAttr(o.loaderAttribute),t.data(k,!0),D(p,t),setTimeout(A,1),S=i.noop};t.off(g).one(g,s).one(f,S),D(n,t,(function(e){e?(t.off(f),S()):(t.off(g),s())}))||t.trigger(g)}else{var _=i(new Image);_.one(g,s).one(f,(function(){t.hide(),e===m?t.attr(x,_.attr(x)).attr(y,_.attr(y)).attr(v,_.attr(v)):t.css(b,"url('"+_.attr(v)+"')"),t[o.effect](o.effectTime),w&&(t.removeAttr(a+" "+l+" "+d+" "+o.imageBaseAttribute),c!==x&&t.removeAttr(c)),t.data(k,!0),D(p,t),_.remove(),A()}));var M=(u&&C?C:t.attr(a))||"";_.attr(x,t.attr(c)).attr(y,t.attr(l)).attr(v,M?r+M:null),_.complete&&_.trigger(f)}}function _(e){var r=e.getBoundingClientRect(),n=o.scrollDirection,s=o.threshold,a=(d>=0?d:d=i(t).height())+s>r.top&&-s<r.bottom,l=(c>=0?c:c=i(t).width())+s>r.left&&-s<r.right;return"vertical"===n?a:("horizontal"===n||a)&&l}function M(t){return t.tagName.toLowerCase()}function T(t,e){if(e){var i=t.split(",");t="";for(var r=0,n=i.length;r<n;r++)t+=e+i[r].trim()+(r!==n-1?",":"")}return t}function A(){--h,s.length||h||D("onFinishedAll")}function D(t,e,i){return!!(t=o[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}"event"===o.bind||n?w():i(t).on("load."+l,w)}function s(n,s){var a=this,l=i.extend({},a.config,s),h={},c=l.name+"-"+ ++r;return a.config=function(t,i){return i===e?l[t]:(l[t]=i,a)},a.addItems=function(t){return h.a&&h.a("string"===i.type(t)?i(t):t),a},a.getItems=function(){return h.g?h.g():{}},a.update=function(t){return h.e&&h.e({},!t),a},a.force=function(t){return h.f&&h.f("string"===i.type(t)?i(t):t),a},a.loadAll=function(){return h.e&&h.e({all:!0},!0),a},a.destroy=function(){return i(l.appendScroll).off("."+c,h.e),i(t).off("."+c),h={},e},o(a,l,n,h,c),l.chainable?n:a}i.fn.Lazy=i.fn.lazy=function(t){return new s(this,t)},i.Lazy=i.lazy=function(t,r,n){if(i.isFunction(r)&&(n=r,r=[]),i.isFunction(n)){t=i.isArray(t)?t:[t],r=i.isArray(r)?r:[r];for(var o=s.prototype.config,a=o._f||(o._f={}),l=0,h=t.length;l<h;l++)(o[t[l]]===e||i.isFunction(o[t[l]]))&&(o[t[l]]=n);for(var c=0,d=r.length;c<d;c++)a[r[c]]=t[0]}},s.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},i(t).on("load",(function(){n=!0}))}(window)},,,,,function(t,e,i){"use strict";i.r(e),function(t){var e=i(9),r=i.n(e),n=i(10),o=(i(12),i(28),i(0),i(15),i(14),i(11),i(16),i(1)),s=i.n(o);i(17),i(18),i(19),i(27),i(20),i(22),i(23);r.a.start(),n.start(),window.jQuery=t,window.$=t,window.CodeMirror=s.a,i.e(2).then(i.bind(null,25)).then((function(t){window.d3Charts=t})),i.e(3).then(i.bind(null,26)).then((function(t){window.veganCockpit=t})),i(24),t.fn.isInViewport=function(){var e=t(this).offset().top,i=e+t(this).outerHeight(),r=t(window).scrollTop(),n=r+t(window).height();return i>r&&e<n}}.call(this,i(0))}],[[29,13,0,1]]]);
//# sourceMappingURL=application_old-013d0ea5c8720e61441a.chunk.js.map