{"version":3,"sources":["webpack:///./app/javascript/packs/chattree.js"],"names":["ChatTree","container","this","container_class","chat_messages_controller","id","self","get_chat_message","then","data","append_message_to_box","add_left_chat_message","add_buttons","append_loading_box_left","Promise","resolve","reject","$","append","image_url","append_loading_box_right","setTimeout","html","content","calculate_loading_time","start","ajax","method","url","done","append_loading_box","loading_box","remove_loading_box","loading_box_class","remove","append_message_left"],"mappings":"yFAAA,mBAAO,SAASA,EAASC,GACvBC,KAAKD,UAAYA,EACjBC,KAAKC,gBAAkB,IAAMD,KAAKD,UAClCC,KAAKE,yBAA2B,SAASC,GAEvC,IAAIC,EAAOJ,KACXI,EAAKC,iBAAiBF,GACrBG,MAAK,SAASC,GACbH,EAAKI,sBAAsBD,GAED,aAApBA,EAAI,QACNH,EAAKK,sBAAsBF,GAE3BH,EAAKM,YAAYH,EAAI,cAK7BP,KAAKW,wBAA0B,SAASJ,GACtC,IAAIH,EAAOJ,KACX,OAAO,IAAIY,SAAQ,SAASC,EAASC,GAErCC,EAAEX,EAAKH,iBAAiBe,OAAxB,+NAKwBT,EAAKU,UAL7B,mOAOoFV,EAAKJ,GAPzF,qLAcEU,EAAQN,OAGZP,KAAKkB,yBAA2B,SAASX,GACvC,IAAIH,EAAOJ,KACX,OAAO,IAAIY,SAAQ,SAASC,EAASC,GAErCC,EAAEX,EAAKH,iBAAiBe,OAAxB,kPAIoFT,EAAKJ,GAJzF,yNAQwBI,EAAKU,UAR7B,+LAcEJ,EAAQN,OAGZP,KAAKQ,sBAAwB,SAASD,GACpC,IAAIH,EAAOJ,KACX,OAAO,IAAIY,SAAQ,SAASC,EAASC,GAEnCK,YAAW,WACTJ,EAAE,iBAAmBR,EAAKJ,IAAIiB,KAAKb,EAAKc,SACxCR,EAAQN,KACPH,EAAKkB,uBAAuBf,EAAKc,cAIxCrB,KAAKuB,MAAQ,WACAvB,KACNE,yBAAyB,IAEhCF,KAAKK,iBAAmB,SAASF,GAC/B,OAAO,IAAIS,SAAQ,SAASC,EAASC,GAErCC,EAAES,KAAK,CACLC,OAAQ,MACRC,IAAK,kBAAoBvB,EAAK,UAE7BwB,MAAK,SAAUpB,GACdM,EAAQN,UAIdP,KAAK4B,mBAAqB,WACxBb,EAAEf,KAAKC,iBAAiBe,OAAxB,8BACgBhB,KAAK6B,YADrB,iKAMF7B,KAAK8B,mBAAqB,WACxBf,EAAEf,KAAK+B,mBAAmBC,UAE5BhC,KAAKiC,oBAAsB,SAAS1B,GAClC,IAAIH,EAAOJ,KACX,OAAO,IAAIY,SAAQ,SAASC,EAASC,GAErCC,EAAEX,EAAKH,iBAAiBe,OAAxB,+NAKwBT,EAAKU,UAL7B,mOAOoFV,EAAKJ,GAPzF,qLAcEU,EAAQN,OAnHd,0C","file":"js/chattree-33457660c45a946f9edc.chunk.js","sourcesContent":["export function ChatTree(container) {\n  this.container = container,\n  this.container_class = \".\" + this.container,\n  this.chat_messages_controller = function(id){\n\n    var self = this;\n    self.get_chat_message(id)\n    .then(function(data){\n      self.append_message_to_box(data);\n\n        if (data[\"chatter\"] === \"computer\"){\n          self.add_left_chat_message(data)\n        } else {\n          self.add_buttons(data[\"siblings\"]);\n        }\n      }\n    )\n  },\n  this.append_loading_box_left = function(data){\n    var self = this;\n    return new Promise(function(resolve, reject)\n    {\n    $(self.container_class).append(`\n      <div class=\"chat-section-field\">\n        <div class=\"row\">\n            <div class=\"col-12 d-flex align-items-end\">\n              <div class=\"\" style=\"padding-right: 0.5rem;\">\n                <img src=\"${data.image_url}\" class=\"rounded-circle border-white white-border-for-rounded-circle bg-white\" width=\"50px\" height=\"50px\">\n              </div>\n              <div class=\"chat-bg-computer chat-text chat-argument-field chat_message_${data.id}\">\n                <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\n              </div>\n            </div>\n        </div>\n      </div>\n      `)\n      resolve(data)\n    })\n  },\n  this.append_loading_box_right = function(data){\n    var self = this;\n    return new Promise(function(resolve, reject)\n    {\n    $(self.container_class).append(`\n      <div class=\"chat-section-field\">\n        <div class=\"row\">\n            <div class=\"col-12 d-flex align-items-end justify-content-end\">\n              <div class=\"chat-bg-computer chat-text chat-argument-field chat_message_${data.id}\">\n                <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\n              </div>\n              <div class=\"\" style=\"padding-left: 0.5rem;\">\n                <img src=\"${data.image_url}\" class=\"rounded-circle border-white white-border-for-rounded-circle bg-white\" width=\"50px\" height=\"50px\">\n              </div>\n            </div>\n        </div>\n      </div>\n      `)\n      resolve(data)\n    })\n  },\n  this.append_message_to_box = function(data){\n    var self = this;\n    return new Promise(function(resolve, reject)\n    {\n      setTimeout(function(){\n        $(\".chat_message_\" + data.id).html(data.content);\n        resolve(data)\n      }, self.calculate_loading_time(data.content))\n\n    })\n  },\n  this.start = function() {\n    var self = this;\n    self.chat_messages_controller(1)\n  },\n  this.get_chat_message = function(id){\n    return new Promise(function(resolve, reject)\n    {\n    $.ajax({\n      method: \"GET\",\n      url: \"/chat_messages/\" + id + \"/json\"\n        })\n      .done(function( data ) {\n        resolve(data);\n      });\n    })\n  },\n  this.append_loading_box = function(){\n    $(this.container_class).append(`\n      <div class=\"${this.loading_box} chat-bg-computer chat-text chat-argument-field\">\n        <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\n      </div>\n    `);\n  },\n  this.remove_loading_box = function(){\n    $(this.loading_box_class).remove();\n  },\n  this.append_message_left = function(data){\n    var self = this;\n    return new Promise(function(resolve, reject)\n    {\n    $(self.container_class).append(`\n      <div class=\"chat-section-field\">\n        <div class=\"row\">\n            <div class=\"col-12 d-flex align-items-end\">\n              <div class=\"\" style=\"padding-right: 0.5rem;\">\n                <img src=\"${data.image_url}\" class=\"rounded-circle border-white white-border-for-rounded-circle bg-white\" width=\"50px\" height=\"50px\">\n              </div>\n              <div class=\"chat-bg-computer chat-text chat-argument-field chat_message_${data.id}\">\n                <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\n              </div>\n            </div>\n        </div>\n      </div>\n      `)\n      resolve(data)\n    })\n  }\n}\n"],"sourceRoot":""}